'use strict';
function a() {
    const a0 = [
        'join',
        'ijTmd',
        '35803510WhEaOR',
        'NYoWG',
        'IO_REDIS_S',
        'perMessage',
        'nected\x20,\x20',
        'wlFkT',
        'Client\x20con',
        'kenSocket',
        'ZKMVr',
        'fLfxE',
        'aufXX',
        'erty',
        'getIO',
        'fault',
        'data',
        'QFsCT',
        'pdnuP',
        'jTPta',
        'ymtFd',
        'logger',
        'update',
        './socketCh',
        'FZqFH',
        'aEJKq',
        '__esModule',
        'SOCKET\x20Cli',
        'gMBlc',
        'threshold',
        '6927992HeZpQD',
        '4244652mEdrBB',
        'redis',
        'socket.io',
        'KyPlk',
        'GRDRJ',
        'pingTimeou',
        'fication\x20c',
        'email',
        'cors',
        'tenant',
        '4418361swDklP',
        'FRONTEND_U',
        'env',
        'profile',
        'tion\x20error',
        'tokenInval',
        'User',
        '../utils/l',
        'user',
        'OCCLF',
        'allowUpgra',
        'xDKIx',
        'XerFS',
        'CYUnB',
        'jIVEn',
        'id:\x20',
        'isOnline',
        'CRXFr',
        'YMfmK',
        '../errors/',
        'credential',
        'gQsmb',
        'disconnect',
        'info',
        'Qdpww',
        'ELdxb',
        'et\x20channel',
        '../models/',
        '112083jJRksQ',
        'oined\x20to\x20',
        'default',
        'ZGaZj',
        'IO_REDIS_P',
        'Bcrvz',
        'XGzdI',
        'transports',
        'nhzOK',
        'uGxLN',
        'wJdMW',
        'fUsCM',
        'message',
        'ent\x20discon',
        'hannel.',
        'aYtvI',
        'BKUCd',
        'MOuVS',
        'socket.io-',
        'defineProp',
        'IO_REDIS_U',
        'lastOnline',
        'EnUDE',
        '7lAIWLt',
        'des',
        'warn',
        'Socket\x20IO\x20',
        'ZqliK',
        '\x20tickets\x20c',
        'dmjwp',
        ':notificat',
        'SERNAME',
        'WdNYl',
        '2305OVwgZY',
        'EkSxY',
        ':joinNotif',
        'ogger',
        'adapter',
        'ied',
        'AqOSp',
        'LIxzs',
        'toString',
        'not\x20initia',
        '__importDe',
        'initIO',
        'at/Chat',
        'Client\x20joi',
        'BPCWN',
        'ORT',
        '11lJPbPg',
        '50Eghetf',
        'dVprh',
        'Server',
        'XUXbP',
        'AppError',
        'Deflate',
        'origin',
        'lBZqQ',
        'attributes',
        '533510kcnoDa',
        'token',
        'ASSWORD',
        'UEVxJ',
        'use',
        'bvnwt',
        './decodeTo',
        'name',
        'DpLRj',
        'oined\x20noti',
        'ukgwj',
        'status',
        'ERVER',
        'pingInterv',
        ':userVerif',
        'hannel\x20',
        ':joinChatB',
        'tusUser',
        'findByPk',
        ':joinTicke',
        'ned\x20a\x20tick',
        'nected\x20in\x20',
        'websocket',
        'lized',
        'dfnYp',
        'emit',
        'value',
        '4264rfPFyo',
        'kTOyf',
        'ication',
        'bHdMJ',
        'lCTXi',
        'handshake',
        ':updateSta',
        'connection',
        'ion',
        'isValid',
        'A\x20client\x20j',
        'authentica',
        'JcdmF',
        'tenantId',
        'CInbj',
        'auth',
        'id:',
        'lastLogin',
        'userId',
        'ODWcl',
        'QYWnZ',
        'register',
        'OXbTQ'
    ];
    a = function () {
        return a0;
    };
    return a();
}
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x2d2 * 0xd + -0xb93 * 0x2 + 0x13 * -0xa8);
        let h = e[f];
        return h;
    }, b(c, d);
}
const C = b, D = b;
(function (c, d) {
    const A = b, B = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(A(0x11e)) / (0x1d4f + 0x1669 + -0x113d * 0x3) + -parseInt(B(0x115)) / (-0x2282 + 0x18 + 0x226c) * (parseInt(B(0x195)) / (-0xb * -0x103 + -0x1d01 + 0x13 * 0xf1)) + -parseInt(B(0x139)) / (-0x202 * -0x3 + -0x2 * -0x6fd + -0x13fc) * (-parseInt(A(0x1b6)) / (0x10ff + -0x1976 + 0x6 * 0x16a)) + -parseInt(A(0x16f)) / (-0x92 * 0x29 + 0x1c6 * -0x7 + 0x23d2) + -parseInt(B(0x1ac)) / (0x1d95 + -0x1c9a + 0x2 * -0x7a) * (parseInt(B(0x16e)) / (0x115a + -0x2 * 0x35b + -0xa9c)) + -parseInt(A(0x179)) / (-0x1 * 0xa3 + 0x1b62 * -0x1 + -0x85 * -0x36) + parseInt(A(0x152)) / (0x4 * -0x297 + -0x3d1 * -0x8 + -0x1422) * (parseInt(A(0x114)) / (-0x782 + 0xe2c + -0x69f));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x6fea + -0x101d2c + 0x17ea22));
var __importDefault = this && this[C(0x10e) + C(0x15f)] || function (c) {
    const E = C;
    return c && c[E(0x16a)] ? c : { 'default': c };
};
const o = {};
o[C(0x138)] = !![], Object[D(0x1a8) + D(0x15d)](exports, C(0x16a), o), exports[D(0x15e)] = exports[C(0x10f)] = void (0x1712 * 0x1 + -0x1147 * -0x1 + -0x2859);
const socket_io_1 = require(C(0x171)), socket_io_redis_1 = __importDefault(require(D(0x1a7) + C(0x170))), AppError_1 = __importDefault(require(C(0x18c) + C(0x119))), decodeTokenSocket_1 = __importDefault(require(C(0x124) + C(0x159))), logger_1 = require(D(0x180) + D(0x1b9)), User_1 = __importDefault(require(D(0x194) + D(0x17f))), Chat_1 = __importDefault(require(C(0x167) + C(0x110)));
let io;
const initIO = f => {
    const F = C, G = C, g = {
            'ukgwj': function (m, n) {
                return m(n);
            },
            'YMfmK': F(0x144) + F(0x17d),
            'Bcrvz': function (m, n) {
                return m !== n;
            },
            'XGzdI': F(0x18a),
            'EkSxY': function (m, n) {
                return m !== n;
            },
            'ELdxb': G(0x19e),
            'lCTXi': F(0x173),
            'ZKMVr': F(0x146),
            'ZqliK': F(0x125),
            'MOuVS': G(0x176),
            'NYoWG': G(0x17c),
            'ijTmd': G(0x129),
            'pdnuP': F(0x14a),
            'XUXbP': G(0x1aa),
            'EnUDE': function (m) {
                return m();
            },
            'dVprh': function (m, n) {
                return m(n);
            },
            'gQsmb': function (m, n) {
                return m !== n;
            },
            'bHdMJ': G(0x161),
            'bvnwt': G(0x14d),
            'LIxzs': function (m, n) {
                return m(n);
            },
            'XerFS': function (m, n) {
                return m === n;
            },
            'aYtvI': G(0x14c),
            'aEJKq': function (m, n) {
                return m === n;
            },
            'dmjwp': F(0x1b5),
            'fUsCM': F(0x126),
            'ymtFd': G(0x1af) + G(0x10d) + G(0x135),
            'gMBlc': G(0x1a5),
            'dfnYp': G(0x168),
            'xDKIx': G(0x145),
            'lBZqQ': G(0x191),
            'AqOSp': G(0x158) + G(0x133) + F(0x178),
            'wlFkT': G(0x18f),
            'fLfxE': G(0x134),
            'CInbj': F(0x140)
        }, h = {};
    h[F(0x16d)] = 0x8000;
    const i = {};
    i[F(0x18d) + 's'] = !![], i[F(0x11b)] = process[F(0x17b)][G(0x17a) + 'RL'];
    const j = {};
    j[F(0x174) + 't'] = 0x2710, j[F(0x12b) + 'al'] = 0x1388, j[F(0x19c)] = [g[G(0x15b)]], j[G(0x183) + G(0x1ad)] = ![], j[G(0x155) + F(0x11a)] = h, j[F(0x177)] = i, io = new socket_io_1[(F(0x117))](f, j);
    const k = {
            'host': process[F(0x17b)][F(0x154) + G(0x12a)],
            'port': g[G(0x1bd)](Number, process[G(0x17b)][F(0x199) + G(0x113)]),
            'username': process[F(0x17b)][G(0x1a9) + G(0x1b4)],
            'password': process[F(0x17b)][G(0x199) + F(0x120)]
        }, l = socket_io_redis_1[F(0x197)];
    return io[F(0x1ba)](g[G(0x1bd)](l, k)), io[G(0x122)](async (m, n) => {
        const I = F, J = G, p = {
                'nhzOK': function (q, r) {
                    const H = b;
                    return g[H(0x128)](q, r);
                },
                'BPCWN': g[I(0x18b)]
            };
        if (g[J(0x19a)](g[I(0x19b)], g[J(0x19b)]))
            i[I(0x165)][J(0x1ae)](J(0x17e) + I(0x188) + j), k[J(0x137)](J(0x17e) + J(0x149) + l['id']), p[J(0x19d)](m, new n(p[I(0x112)]));
        else
            try {
                if (g[I(0x1b7)](g[J(0x192)], g[J(0x192)])) {
                    const s = {};
                    s[I(0x1a1)] = I(0x16b) + I(0x1a2) + I(0x156) + g + ',\x20' + h, s[J(0x165)][I(0x190)](s);
                } else {
                    const s = m?.[J(0x13e)]?.[I(0x148)]?.[I(0x11f)], t = (0xbaa * 0x2 + -0x1b27 * 0x1 + 0x3d3 * 0x1, decodeTokenSocket_1[I(0x197)])(s);
                    if (t[I(0x142)]) {
                        if (g[J(0x1b7)](g[I(0x13d)], g[I(0x13d)]))
                            i[I(0x165)][I(0x190)](I(0x111) + J(0x132) + I(0x193) + '\x20' + j + ':' + k), l[I(0x150)](m + ':' + n);
                        else {
                            const v = m?.[J(0x13e)]?.[I(0x148)];
                            m[J(0x13e)][I(0x148)] = {
                                ...v,
                                ...t[J(0x160)],
                                'id': g[J(0x128)](String, t[J(0x160)]['id']),
                                'tenantId': g[J(0x128)](String, t[J(0x160)][J(0x146)])
                            };
                            const w = {};
                            w[I(0x11d)] = [
                                'id',
                                g[I(0x15a)],
                                g[I(0x1b0)],
                                g[J(0x1a6)],
                                g[J(0x153)],
                                g[I(0x151)],
                                g[I(0x162)],
                                g[J(0x118)]
                            ];
                            const x = await User_1[J(0x197)][J(0x130)](t[J(0x160)]['id'], w);
                            m[J(0x13e)][J(0x148)][I(0x181)] = x, g[I(0x1ab)](n);
                        }
                    }
                    g[I(0x116)](n, new Error(g[I(0x18b)]));
                }
            } catch (y) {
                g[I(0x18e)](g[J(0x13c)], g[I(0x123)]) ? (logger_1[J(0x165)][J(0x1ae)](I(0x17e) + I(0x188) + m), m[J(0x137)](I(0x17e) + J(0x149) + m['id']), g[J(0x1bd)](n, new Error(g[J(0x18b)]))) : (i[I(0x165)][J(0x190)](I(0x143) + I(0x196) + j + ':' + k + (J(0x1b1) + J(0x1a3))), l[J(0x150)](m + ':' + n));
            }
    }), io['on'](g[F(0x147)], m => {
        const L = G, M = F, n = {
                'CYUnB': function (q, r) {
                    const K = b;
                    return g[K(0x169)](q, r);
                },
                'KyPlk': g[L(0x1b2)],
                'jIVEn': g[L(0x1a0)],
                'ZGaZj': g[L(0x164)],
                'wJdMW': function (q, r) {
                    const N = M;
                    return g[N(0x18e)](q, r);
                },
                'OCCLF': g[M(0x16c)],
                'jTPta': g[M(0x136)],
                'kTOyf': g[L(0x184)],
                'OXbTQ': g[L(0x11c)]
            }, {tenantId: p} = m[L(0x13e)][L(0x148)];
        if (p) {
            const q = {};
            q[M(0x1a1)] = g[M(0x1bc)], q[L(0x160)] = m[L(0x13e)][M(0x148)], logger_1[L(0x165)][M(0x190)](q), m[L(0x150)](p[L(0x10c)]()), m['on'](p + (L(0x12c) + L(0x1bb)), async r => {
                const O = L, P = L;
                if (n[O(0x186)](n[O(0x172)], n[O(0x187)])) {
                    const t = {};
                    return t[P(0x197)] = j, t && h[O(0x16a)] ? i : t;
                } else {
                    const t = await User_1[P(0x197)][O(0x130)](r[O(0x14b)]), u = {};
                    u[P(0x189)] = !![], await t[O(0x166)](u), m[O(0x137)](r[O(0x146)] + (O(0x13f) + P(0x12f)), t);
                }
            }), m['on'](p + (M(0x12e) + 'ox'), r => {
                const Q = L, R = M;
                g[Q(0x185)](g[Q(0x1a4)], g[Q(0x1a4)]) ? (logger_1[R(0x165)][Q(0x190)](Q(0x111) + R(0x132) + R(0x193) + '\x20' + p + ':' + r), m[Q(0x150)](p + ':' + r)) : (g[R(0x165)][R(0x190)](Q(0x143) + Q(0x127) + R(0x175) + R(0x12d) + h + (R(0x1b3) + Q(0x141))), i[Q(0x150)](j + (Q(0x1b3) + Q(0x141))));
            }), m['on'](p + (M(0x1b8) + M(0x13b)), () => {
                const S = L, T = L, r = {};
                r[S(0x121)] = n[S(0x198)];
                const s = r;
                if (n[S(0x19f)](n[S(0x182)], n[S(0x163)]))
                    logger_1[T(0x165)][S(0x190)](T(0x143) + S(0x127) + T(0x175) + S(0x12d) + p + (S(0x1b3) + S(0x141))), m[S(0x150)](p + (T(0x1b3) + T(0x141)));
                else
                    throw new i[(S(0x197))](s[S(0x121)]);
            }), m['on'](p + (M(0x131) + 'ts'), r => {
                const U = M, V = L;
                if (n[U(0x186)](n[V(0x13a)], n[V(0x14f)])) {
                    if (!q)
                        throw new i[(V(0x197))](n[V(0x198)]);
                    return h;
                } else
                    logger_1[V(0x165)][V(0x190)](V(0x143) + V(0x196) + p + ':' + r + (U(0x1b1) + U(0x1a3))), m[V(0x150)](p + ':' + r);
            }), Chat_1[L(0x197)][M(0x14e)](m);
        }
        m['on'](g[M(0x157)], r => {
            const W = L, X = M, s = {};
            s[W(0x1a1)] = W(0x16b) + W(0x1a2) + X(0x156) + p + ',\x20' + r, logger_1[X(0x165)][W(0x190)](s);
        });
    }), io;
};
exports[D(0x10f)] = initIO;
const getIO = () => {
    const Y = D, Z = C, d = {};
    d[Y(0x15c)] = Y(0x1af) + Y(0x10d) + Y(0x135);
    const e = d;
    if (!io)
        throw new AppError_1[(Z(0x197))](e[Y(0x15c)]);
    return io;
};
exports[D(0x15e)] = getIO;