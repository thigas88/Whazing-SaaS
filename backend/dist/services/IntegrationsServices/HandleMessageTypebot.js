'use strict';
const bF = b, bG = b;
(function (c, d) {
    const bD = b, bE = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(bD(0x234)) / (-0x1904 + 0x1 * 0x1f91 + 0x2 * -0x346) + -parseInt(bD(0x2ca)) / (0x3 * -0xa43 + 0x487 * 0x1 + 0x1a44) + parseInt(bD(0x29e)) / (0x974 + -0x135a * -0x2 + -0x3025) + parseInt(bE(0x266)) / (0x1ff3 + 0x13 * 0x1c5 + -0x418e) + parseInt(bD(0x221)) / (-0x16 * -0x61 + 0x1567 + -0x1db8) + -parseInt(bD(0x270)) / (0x597 + -0x18d9 + 0x269 * 0x8) * (parseInt(bE(0x2b2)) / (0x1389 + 0x4 * 0x59a + 0x431 * -0xa)) + -parseInt(bD(0x1c3)) / (0x1 * -0x2cf + 0x1ee4 + -0x1c0d) * (-parseInt(bE(0x274)) / (-0x807 * 0x2 + 0x2063 + -0x104c));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0xcd761 + -0x17384f * 0x1 + 0x2fc7ce));
var __importDefault = this && this[bF(0x1b1) + bF(0x218)] || function (c) {
    const bH = bG;
    return c && c[bH(0x267)] ? c : { 'default': c };
};
const s = {};
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0xe42 + -0x11f4 * 0x2 + 0x1755);
        let h = e[f];
        return h;
    }, b(c, d);
}
s[bG(0x219)] = !![], Object[bG(0x28b) + bG(0x2b3)](exports, bF(0x267), s);
function a() {
    const bM = [
        'ContactBai',
        'ticketId',
        'kjhSS',
        'fromMe',
        '1309050cRNzJL',
        'GLDMm',
        'aeIMW',
        'ence',
        'Qimbt',
        'Service',
        '../WbotSer',
        'opwJZ',
        'applicatio',
        'ate',
        'vices/help',
        'iMFRj',
        'info',
        'fgANJ',
        'EzlES',
        'HrSLJ',
        'YZPGs',
        'swlSh',
        'Emit',
        'underline',
        'ketService',
        'isNil',
        'Invalid\x20me',
        'hXagw',
        'hfbwq',
        'UlXZk',
        'split',
        'Actions',
        'userId',
        'Services/U',
        'protocol',
        'choice\x20inp',
        'headers',
        'message',
        'MDWEQ',
        'NVCtU',
        'YXaZx',
        'getBodyMes',
        'kHfjV',
        'where',
        'stopBot',
        'eateLogTic',
        'secondsToW',
        'clientSide',
        'eFllF',
        'status',
        'ksdnB',
        'AjCkc',
        'ervice',
        'IrzYB',
        '2882088nwMbfa',
        '__esModule',
        'random',
        'gPkCn',
        'HWrOV',
        'QbEYj',
        'nBLJh',
        'yuCYj',
        'italic',
        'mediaUrl',
        '301836bfeBsO',
        '▶️\x20',
        'oYHkF',
        'dos:',
        '9NuygyR',
        'method',
        'WHKPd',
        '/continueC',
        'bIjFc',
        'npUmG',
        'ssions/',
        'contact',
        'findOne',
        'HCxGQ',
        'gPyHY',
        'kRvGB',
        'replace',
        'PVCrE',
        'reniciando',
        'LLZjO',
        'akJqq',
        'wait',
        'startsWith',
        'sKZjh',
        'tegrations',
        'log',
        'FUMBa',
        'defineProp',
        'syoTM',
        'read',
        'queueId',
        'LrmWn',
        'UAfKT',
        'url',
        'psHbo',
        'payload',
        'closeTicke',
        'status@bro',
        'eBJuN',
        'reload',
        'hat',
        'KvIIt',
        'stringify',
        '/api/v1/se',
        'lodash',
        'Desub',
        '3847341NiswBM',
        'vzKhZ',
        'ener:\x20',
        'kvDvU',
        'DigGT',
        'KndFy',
        '\x20typebot',
        'CXRiz',
        'ajqQg',
        'kHEWi',
        'msg',
        'post',
        'nId',
        'ducfE',
        'sagem\x20no\x20b',
        'key',
        'n/json',
        'input',
        'default',
        'useIntegra',
        '28uEpthf',
        'erty',
        'aitFor',
        'CnXsI',
        'gRKeB',
        'tion',
        '/startChat',
        'tus',
        'axios',
        'uRglO',
        'JFZSu',
        'update',
        'ticket',
        'ervices/Up',
        'contactId',
        'gWsFh',
        'NiltK',
        'parse',
        'rvice',
        'tenantId',
        'mTRff',
        'dfriJ',
        '../../help',
        'geSystemSe',
        '2984978rkBfgB',
        'Error\x20on\x20t',
        'ticket:upd',
        'maxBodyLen',
        'setMinutes',
        'leys',
        'zdVqM',
        'eKBdR',
        'wVBle',
        'JFmtS',
        'aLorT',
        'tTmcU',
        'ajHta',
        'gain.',
        'osIJg',
        'request',
        's/logger',
        '\x20do\x20typebo',
        'ers/Mustac',
        'typebotSes',
        'mRdug',
        'toString',
        'ssage.\x20Ple',
        'fPVnq',
        'QFBhW',
        'ODXLe',
        'sionId',
        'xblrJ',
        'itQbl',
        'floor',
        'error',
        'isBot',
        'isTransfer',
        'gYesO',
        'autoClose',
        'FGiKl',
        'YrVQV',
        'pMIEi',
        'zzolu',
        'XwbPH',
        '../Message',
        'ers/socket',
        'richText',
        'PTDmW',
        'Erro\x20ao\x20cr',
        '__importDe',
        'closed',
        'sUsuG',
        'email',
        'body',
        'Accept',
        'qRVmP',
        'pending',
        'rOYiW',
        'tKLey',
        'NCpHc',
        'REmGu',
        'bRPDL',
        'ImtjL',
        'updatedAt',
        'ctTagsBotS',
        'RqABh',
        'vouKg',
        '12061112GVUmjf',
        'oJzZg',
        'audioMessa',
        '../Contact',
        'Content-Ty',
        'muXkZ',
        'BhaAG',
        'ers/Verify',
        'Nrpni',
        'SjvcO',
        'twytF',
        'MscuU',
        'iar\x20sessão',
        'gqGDb',
        'length',
        'ouMiW',
        'KZuWU',
        'maWrH',
        'anco\x20de\x20da',
        'IQZmk',
        'dateTicket',
        'ylTui',
        'reateMessa',
        'gqjfD',
        'getMinutes',
        'ls/Message',
        'typebotSta',
        'gdFoN',
        'messages',
        'sessionId',
        'Erro\x20ao\x20bu',
        'scar\x20a\x20men',
        'xdcTK',
        'OksiU',
        'SfPrc',
        't:\x20',
        'find',
        '../TicketS',
        'OYWjb',
        '1|4|3|2|0',
        'sendType',
        'type',
        'gth',
        'Urxbn',
        'bold',
        'ticketData',
        'pYkiy',
        'content',
        'Services/C',
        'TAyoe',
        'XCWVU',
        'QiSXm',
        'pushName',
        'pdateConta',
        'ls/QueueIn',
        'EYfKo',
        'typebot',
        'tagId',
        'string',
        'iYWSR',
        'entrou\x20no\x20',
        'fLQVY',
        '../../util',
        'bDXJS',
        'name',
        'getTypeMes',
        'messageId',
        'text',
        'nTIiJ',
        'HnTkr',
        'arJjK',
        'data',
        'SbzAC',
        'uzAwx',
        'pebots/',
        'rYewr',
        '../../mode',
        'OeBqp',
        'VZAwm',
        'sdbwZ',
        'wvIRd',
        'pVHId',
        'children',
        'ase,\x20try\x20a',
        'JilRh',
        'fault',
        'value',
        'ervices/Cr',
        'remoteJid',
        'UKofA',
        'number',
        'WcFZk',
        'tieYi',
        'SxkUh',
        '1300925BfMLtZ',
        '/api/v1/ty',
        'logger',
        'iffMj',
        'HQHQR',
        'yzlhw',
        'yxjzA',
        'integratio',
        'sage',
        'DuYET',
        'GHPHa',
        'adcast',
        'TlPNa',
        'AJWXm',
        'ypebotList'
    ];
    a = function () {
        return bM;
    };
    return a();
}
const axios_1 = __importDefault(require(bG(0x2ba))), lodash_1 = require(bG(0x29c)), Message_1 = __importDefault(require(bG(0x20f) + bF(0x1dc))), QueueIntegrations_1 = __importDefault(require(bF(0x20f) + bF(0x1f9) + bG(0x288))), VerifyContactBaileys_1 = require(bG(0x23a) + bG(0x23e) + bG(0x1ca) + bG(0x230) + bG(0x2cf)), logger_1 = require(bG(0x201) + bG(0x2da)), UpdateTicketService_1 = __importDefault(require(bF(0x1e8) + bG(0x2bf) + bG(0x1d7) + bG(0x239))), UpdateContactTagsBotService_1 = __importDefault(require(bG(0x1c6) + bF(0x251) + bG(0x1f8) + bF(0x1c0) + bG(0x264))), CreateMessageSystemService_1 = __importDefault(require(bG(0x2f2) + bG(0x1f3) + bF(0x1d9) + bF(0x2c9) + bF(0x2c4))), CreateLogTicketService_1 = __importDefault(require(bF(0x1e8) + bG(0x21a) + bF(0x25d) + bF(0x248))), Mustache_1 = __importDefault(require(bG(0x2c8) + bF(0x2dc) + 'he')), socketEmit_1 = __importDefault(require(bF(0x2c8) + bF(0x2f3) + bG(0x246))), delay = c => new Promise(d => setTimeout(d, c)), HandleMessageTypebot = async ({
        msg: I,
        ticket: J
    }) => {
        const bI = bG, bJ = bG, K = {
                'AjCkc': function (a2, a3) {
                    return a2 === a3;
                },
                'ducfE': bI(0x21d),
                'KvIIt': function (a2, a3) {
                    return a2 * a3;
                },
                'iMFRj': bI(0x1b0) + bI(0x1cf) + bJ(0x2db) + bJ(0x1e6),
                'eFllF': function (a2, a3) {
                    return a2 !== a3;
                },
                'NVCtU': bJ(0x287),
                'gWsFh': function (a2, a3) {
                    return a2 !== a3;
                },
                'kHfjV': bJ(0x1c2),
                'yzlhw': function (a2, a3) {
                    return a2 * a3;
                },
                'gPyHY': bJ(0x1fd),
                'ylTui': function (a2, a3) {
                    return a2 || a3;
                },
                'nBLJh': bJ(0x2a9),
                'WHKPd': bJ(0x23c) + bJ(0x2ae),
                'tKLey': bJ(0x200),
                'HWrOV': bI(0x225),
                'zdVqM': bJ(0x1e1) + bJ(0x1e2) + bJ(0x2ac) + bJ(0x1d5) + bI(0x273),
                'OeBqp': function (a2, a3) {
                    return a2 * a3;
                },
                'iffMj': function (a2, a3) {
                    return a2 === a3;
                },
                'QbEYj': bJ(0x295) + bJ(0x22c),
                'WcFZk': function (a2, a3) {
                    return a2 !== a3;
                },
                'oJzZg': bI(0x24d),
                'swlSh': bJ(0x2c7),
                'fgANJ': function (a2, a3) {
                    return a2 === a3;
                },
                'YXaZx': bJ(0x1c5) + 'ge',
                'hfbwq': function (a2, a3) {
                    return a2 === a3;
                },
                'UKofA': bI(0x28c),
                'RqABh': bJ(0x2e5),
                'pMIEi': function (a2, a3) {
                    return a2 !== a3;
                },
                'gqGDb': bJ(0x2a7),
                'npUmG': bI(0x2a3),
                'YZPGs': bJ(0x256),
                'ajqQg': bJ(0x2c6),
                'EYfKo': bJ(0x1ce),
                'SbzAC': bJ(0x1ff) + bJ(0x1fb),
                'FUMBa': function (a2, a3) {
                    return a2 - a3;
                },
                'ImtjL': function (a2, a3) {
                    return a2(a3);
                },
                'fPVnq': function (a2, a3) {
                    return a2 > a3;
                },
                'wvIRd': function (a2, a3) {
                    return a2 < a3;
                },
                'aLorT': bJ(0x235),
                'JilRh': bI(0x1af),
                'vzKhZ': bJ(0x1b7),
                'kRvGB': function (a2, a3, a4, a5) {
                    return a2(a3, a4, a5);
                },
                'opwJZ': function (a2, a3) {
                    return a2 === a3;
                },
                'TlPNa': bI(0x28f),
                'twytF': function (a2, a3) {
                    return a2 !== a3;
                },
                'NiltK': function (a2, a3) {
                    return a2 === a3;
                },
                'ODXLe': bI(0x2b5),
                'gRKeB': bI(0x1e4),
                'sUsuG': function (a2, a3) {
                    return a2 !== a3;
                },
                'QiSXm': bI(0x1d2),
                'bRPDL': bJ(0x1e9),
                'TAyoe': function (a2, a3) {
                    return a2 * a3;
                },
                'itQbl': bI(0x2ee),
                'CXRiz': bI(0x278),
                'yuCYj': function (a2, a3) {
                    return a2 === a3;
                },
                'gdFoN': bJ(0x1c9),
                'uRglO': bI(0x1cb),
                'KZuWU': function (a2, a3) {
                    return a2 === a3;
                },
                'psHbo': bJ(0x20c),
                'kjhSS': bJ(0x1bb),
                'tieYi': function (a2, a3) {
                    return a2(a3);
                },
                'iYWSR': function (a2, a3) {
                    return a2 + a3;
                },
                'HCxGQ': bI(0x1fb),
                'muXkZ': bI(0x1b8),
                'IrzYB': bI(0x206),
                'Desub': bJ(0x2d2),
                'SxkUh': bI(0x284),
                'HrSLJ': function (a2, a3) {
                    return a2 !== a3;
                },
                'hXagw': bI(0x2e2),
                'kvDvU': bJ(0x281),
                'UAfKT': bJ(0x2d5),
                'gqjfD': bI(0x1e5),
                'oYHkF': bI(0x1bc),
                'yxjzA': function (a2, a3) {
                    return a2 !== a3;
                },
                'bDXJS': bI(0x269),
                'HnTkr': bI(0x2a2),
                'arJjK': function (a2, a3) {
                    return a2 !== a3;
                },
                'osIJg': bJ(0x2ed),
                'ajHta': bJ(0x1d6),
                'xdcTK': bJ(0x238),
                'JFmtS': bI(0x1f5),
                'nTIiJ': function (a2, a3) {
                    return a2 === a3;
                },
                'SjvcO': bI(0x2f1),
                'ksdnB': bJ(0x2eb),
                'eKBdR': bI(0x242),
                'eBJuN': bI(0x24a) + bI(0x2e0) + bI(0x216) + bJ(0x2d7),
                'aeIMW': bJ(0x1ea),
                'GHPHa': bI(0x1b2),
                'rOYiW': bI(0x2cc) + bI(0x23d),
                'zzolu': bI(0x2ec),
                'AJWXm': function (a2, a3) {
                    return a2 > a3;
                },
                'Urxbn': function (a2, a3) {
                    return a2 > a3;
                },
                'rYewr': function (a2, a3) {
                    return a2 > a3;
                },
                'DuYET': function (a2, a3) {
                    return a2(a3);
                },
                'pVHId': function (a2, a3) {
                    return a2 === a3;
                },
                'mRdug': bJ(0x253) + 'ut',
                'JFZSu': function (a2, a3) {
                    return a2(a3);
                },
                'LLZjO': function (a2, a3) {
                    return a2 + a3;
                },
                'maWrH': function (a2, a3) {
                    return a2 === a3;
                },
                'sdbwZ': bJ(0x282) + bJ(0x2a4),
                'VZAwm': function (a2, a3) {
                    return a2 === a3;
                },
                'pYkiy': bI(0x2cb) + bJ(0x22f) + bJ(0x2a0)
            };
        if (K[bJ(0x224)](I[bI(0x2ad)][bI(0x21b)], K[bI(0x26b)]))
            return;
        const L = {};
        L['id'] = J[bJ(0x228) + bJ(0x2aa)];
        const M = {};
        M[bJ(0x25b)] = L;
        const N = await QueueIntegrations_1[bI(0x2b0)][bJ(0x27c)](M), {
                urlN8N: O,
                typebotExpires: P,
                typebotKeywordFinish: Q,
                typebotKeywordRestart: R,
                typebotUnknownMessage: S,
                typebotSlug: T,
                typebotDelayMessage: U,
                typebotRestartMessage: V
            } = N, W = I[bI(0x2ad)][bI(0x21b)][bI(0x280)](/\D/g, '');
        let X = await (-0x16dc + 0x98d + 0xd4f * 0x1, VerifyContactBaileys_1[bJ(0x259) + bJ(0x229)])(I);
        if (!X) {
            if (K[bI(0x21e)](K[bJ(0x1c4)], K[bJ(0x245)])) {
                const a2 = (-0x260e * 0x1 + -0x1676 + 0x3c84, VerifyContactBaileys_1[bJ(0x204) + bJ(0x229)])(I);
                if (K[bJ(0x241)](a2, K[bI(0x258)])) {
                    if (K[bJ(0x24c)](K[bJ(0x21c)], K[bI(0x21c)]))
                        try {
                            if (K[bJ(0x21e)](K[bI(0x1c1)], K[bJ(0x1c1)]))
                                e = '*' + f + '*';
                            else {
                                const a4 = {};
                                a4[bJ(0x205)] = I[bJ(0x2ad)]['id'];
                                const a5 = {};
                                a5[bJ(0x25b)] = a4;
                                const a6 = await Message_1[bJ(0x2b0)][bI(0x27c)](a5);
                                if (a6 && a6[bI(0x1b5)]) {
                                    if (K[bJ(0x2ef)](K[bI(0x1d0)], K[bJ(0x1d0)])) {
                                        i = j?.[bJ(0x1df)], k = l?.[bI(0x2af)];
                                        const a8 = m?.[bI(0x25f) + bJ(0x24f)] || [], a9 = a8[bJ(0x1e7)](aa => aa[bI(0x1ec)] === bJ(0x285));
                                        a9 && a9[bJ(0x285)] && K[bJ(0x263)](typeof a9[bI(0x285)][bJ(0x25e) + bJ(0x2b4)], K[bJ(0x2ab)]) && (o = K[bJ(0x299)](a9[bJ(0x285)][bI(0x25e) + bI(0x2b4)], 0x8d4 + 0x1 * 0x1159 + -0x1645 * 0x1));
                                    } else
                                        X = a6[bJ(0x1b5)];
                                } else
                                    K[bJ(0x241)](K[bI(0x279)], K[bJ(0x279)]) ? X = a2 : a4 = '~' + a5 + '~';
                            }
                        } catch (a9) {
                            K[bI(0x2ef)](K[bI(0x244)], K[bJ(0x2a6)]) ? console[bI(0x2e8)](K[bI(0x2d0)], a9) : e = K[bI(0x299)](f[bI(0x285)][bI(0x25e) + bI(0x2b4)], 0x30c + -0x6 * -0x353 + -0x1316 * 0x1);
                        }
                    else
                        e = '_' + f + '_';
                } else {
                    if (K[bJ(0x241)](K[bI(0x1fa)], K[bI(0x1fa)]))
                        X = a2;
                    else {
                        f[bJ(0x223)][bI(0x240)](K[bI(0x23f)], g);
                        throw h;
                    }
                }
            } else {
                const ae = g[bI(0x215)][-0xb1b + 0x844 * 0x4 + -0x15f5][bJ(0x206)];
                h = '[' + ae + '](' + i[bI(0x291)] + ')', j = !![];
            }
        }
        console[bI(0x289)](K[bI(0x20b)]);
        async function Y(ae, af, ag) {
            const bK = bI, bL = bJ;
            if (K[bK(0x260)](K[bK(0x257)], K[bK(0x257)]))
                e = f;
            else
                try {
                    if (K[bK(0x2c1)](K[bL(0x25a)], K[bL(0x25a)]))
                        e = f[bK(0x206)];
                    else {
                        const aj = Math[bK(0x2e7)](K[bL(0x226)](Math[bK(0x268)](), -0x40b275122 * 0x1 + -0x2390789b0 * 0x1 + 0x44c1d5f69 * 0x2))[bL(0x2df)](), ak = JSON[bK(0x29a)]({
                                'isStreamEnabled': !![],
                                'message': K[bL(0x27e)],
                                'resultId': K[bK(0x27e)],
                                'isOnlyRegistering': ![],
                                'prefilledVariables': {
                                    'number': ag,
                                    'pushName': ae[bL(0x1f7)] || '',
                                    'nome': J?.[bL(0x27b)]?.[bL(0x203)] || '',
                                    'email': J?.[bK(0x27b)]?.[bL(0x1b4)] || '',
                                    'ticketId': J?.['id'] || '',
                                    'protocol': J?.[bK(0x252)] || '',
                                    'ticket': K[bL(0x1d8)](J, ''),
                                    'remoteJid': ae[bL(0x2ad)][bL(0x21b)]
                                }
                            }), al = {};
                        al[bL(0x275)] = K[bK(0x26c)], al[bK(0x2cd) + bL(0x1ed)] = Infinity, al[bK(0x291)] = O + (bL(0x222) + bL(0x20d)) + T + bL(0x2b8), al[bL(0x254)] = {}, al[bL(0x20a)] = ak, al[bL(0x254)][bL(0x1c7) + 'pe'] = K[bL(0x276)], al[bL(0x254)][bK(0x1b6)] = K[bK(0x276)];
                        const am = al, an = await axios_1[bL(0x2b0)][bL(0x2d9)](am);
                        return an[bL(0x20a)];
                    }
                } catch (ao) {
                    if (K[bL(0x263)](K[bL(0x1ba)], K[bL(0x26a)]))
                        e = '~' + f + '~';
                    else {
                        logger_1[bL(0x223)][bL(0x240)](K[bL(0x23f)], ao);
                        throw ao;
                    }
                }
        }
        let Z, a0, a1 = ![];
        try {
            const ae = new Date();
            ae[bJ(0x2ce)](K[bJ(0x28a)](ae[bI(0x1db)](), K[bI(0x1be)](Number, P)));
            if (K[bJ(0x2e1)](P, 0x23a4 + 0x91b * 0x4 + -0x4810) && K[bI(0x213)](J[bJ(0x1bf)], ae)) {
                if (K[bJ(0x224)](K[bI(0x2d4)], K[bJ(0x2d4)])) {
                    const ag = {};
                    ag[bJ(0x2dd) + bI(0x2e4)] = null, ag[bJ(0x2e9)] = !![], await J[bJ(0x2bd)](ag), await J[bI(0x297)]();
                } else {
                    const ai = g[bJ(0x215)][0x2 * -0x105c + 0x1 * 0x1404 + -0x3 * -0x43c][bJ(0x206)];
                    h = '[' + ai + '](' + i[bI(0x291)] + ')', j = !![];
                }
            }
            if ((0x1 * 0x1c7c + 0x39 * 0x9b + -0x3eff, lodash_1[bJ(0x249)])(J[bJ(0x2dd) + bJ(0x2e4)])) {
                if (K[bJ(0x2c1)](K[bI(0x217)], K[bJ(0x29f)])) {
                    a0 = await K[bI(0x27f)](Y, I, N, W), Z = a0[bJ(0x1e0)], a1 = !![];
                    const ai = {};
                    ai[bJ(0x2dd) + bJ(0x2e4)] = Z, ai[bJ(0x1dd) + bI(0x2b9)] = !![], ai[bI(0x2b1) + bJ(0x2b7)] = !![], ai[bJ(0x228) + bI(0x2aa)] = N['id'], await J[bJ(0x2bd)](ai);
                } else
                    e = f[bJ(0x1b5)];
            } else
                K[bI(0x23b)](K[bJ(0x22d)], K[bJ(0x22d)]) ? (Z = J[bI(0x2dd) + bJ(0x2e4)], a1 = J[bI(0x1dd) + bJ(0x2b9)]) : e = '*' + f + '*';
            if (!a1)
                return;
            let af = 0x25bd + 0xadd + 0x309a * -0x1;
            if (K[bI(0x1cd)](X, Q) && K[bI(0x2ef)](X, R)) {
                let al, am, an;
                if (K[bJ(0x241)](a0?.[bJ(0x1df)][bI(0x1d1)], 0x249b * 0x1 + 0x1 * 0x12f5 + -0x4 * 0xde4) || K[bI(0x263)](a0, undefined)) {
                    if (K[bI(0x2c2)](K[bI(0x2e3)], K[bJ(0x2b6)]))
                        throw M;
                    else {
                        const ap = {};
                        ap[bI(0x255)] = X;
                        const aq = JSON[bJ(0x29a)](ap), ar = {};
                        ar[bI(0x275)] = K[bI(0x26c)], ar[bI(0x2cd) + bJ(0x1ed)] = Infinity, ar[bJ(0x291)] = O + (bJ(0x29b) + bI(0x27a)) + Z + (bJ(0x277) + bJ(0x298)), ar[bI(0x254)] = {}, ar[bI(0x20a)] = aq, ar[bI(0x254)][bJ(0x1c7) + 'pe'] = K[bJ(0x276)], ar[bI(0x254)][bI(0x1b6)] = K[bJ(0x276)];
                        const as = ar;
                        al = await axios_1[bJ(0x2b0)][bI(0x2d9)](as), am = al[bJ(0x20a)]?.[bJ(0x1df)], an = al[bJ(0x20a)]?.[bJ(0x2af)];
                        const at = al[bI(0x20a)]?.[bJ(0x25f) + bI(0x24f)] || [], au = at[bI(0x1e7)](av => av[bJ(0x1ec)] === bJ(0x285));
                        au && au[bJ(0x285)] && K[bI(0x24c)](typeof au[bI(0x285)][bI(0x25e) + bI(0x2b4)], K[bJ(0x2ab)]) && (K[bI(0x1b3)](K[bJ(0x1f6)], K[bJ(0x1bd)]) ? af = K[bI(0x1f4)](au[bI(0x285)][bI(0x25e) + bI(0x2b4)], 0x1d75 + -0x2 * 0xb3 + 0x3 * -0x80d) : e = f[bJ(0x206)]);
                    }
                } else {
                    if (K[bI(0x21e)](K[bJ(0x2e6)], K[bI(0x2a5)])) {
                        am = a0?.[bI(0x1df)], an = a0?.[bI(0x2af)];
                        const aw = a0?.[bJ(0x25f) + bI(0x24f)] || [], ax = aw[bI(0x1e7)](ay => ay[bI(0x1ec)] === bJ(0x285));
                        ax && ax[bJ(0x285)] && K[bI(0x26d)](typeof ax[bJ(0x285)][bJ(0x25e) + bJ(0x2b4)], K[bJ(0x2ab)]) && (K[bI(0x263)](K[bJ(0x1de)], K[bI(0x2bb)]) ? e = '*' + f + '*' : af = K[bI(0x210)](ax[bI(0x285)][bI(0x25e) + bI(0x2b4)], -0x5 * -0x332 + -0x112f + 0x51d));
                    } else
                        g = h[bJ(0x2dd) + bI(0x2e4)], i = j[bJ(0x1dd) + bJ(0x2b9)];
                }
                if (K[bJ(0x1d3)](am?.[bI(0x1d1)], -0x1bdb + 0x1322 + 0x8b9)) {
                    if (K[bJ(0x263)](K[bI(0x292)], K[bJ(0x232)]))
                        e = f[bJ(0x206)];
                    else {
                        await K[bJ(0x21f)](delay, K[bJ(0x1fe)](U, af));
                        const aB = await (0x24eb + 0x13a0 + 0x19 * -0x243, Mustache_1[bJ(0x2b0)])(S, J[bI(0x27b)], J), aC = {};
                        aC[bI(0x1b5)] = aB, aC[bJ(0x233)] = !![], aC[bI(0x28d)] = !![], aC[bJ(0x1eb)] = K[bJ(0x27d)], aC[bJ(0x2c5)] = J[bI(0x2c5)];
                        const aD = aC, aE = {};
                        aE[bJ(0x2a8)] = aD, aE[bI(0x2c5)] = J[bJ(0x2c5)], aE[bJ(0x2be)] = J, aE[bI(0x1eb)] = aD[bI(0x1eb)], aE[bI(0x261)] = K[bJ(0x1c8)], await (-0x132f + -0x601 * -0x1 + -0x1 * -0xd2e, CreateMessageSystemService_1[bJ(0x2b0)])(aE);
                    }
                } else {
                    for (const aF of am) {
                        if (K[bI(0x26d)](aF[bJ(0x1ec)], K[bI(0x265)])) {
                            let aG = '', aH = ![];
                            for (const aM of aF[bI(0x1f2)][bJ(0x2f4)]) {
                                for (const aN of aM[bJ(0x215)]) {
                                    let aO = '';
                                    if (aN[bJ(0x206)]) {
                                        if (K[bJ(0x23b)](K[bI(0x29d)], K[bI(0x29d)]))
                                            aO = aN[bI(0x206)];
                                        else {
                                            const aQ = g[bJ(0x215)][0xb09 * -0x2 + 0x2 * -0xb0f + 0x2c30 * 0x1][bJ(0x206)];
                                            h = '[' + aQ + '](' + i[bI(0x291)] + ')', j = !![];
                                        }
                                    }
                                    if (aN[bJ(0x1ec)] && aN[bJ(0x215)])
                                        for (const aQ of aN[bI(0x215)]) {
                                            let aR = '';
                                            aQ[bI(0x206)] && (K[bI(0x260)](K[bJ(0x220)], K[bJ(0x220)]) ? e += bI(0x271) + f[bJ(0x1f2)] + '\x0a' : aR = aQ[bI(0x206)]);
                                            if (aQ[bJ(0x1ec)] && aQ[bI(0x215)]) {
                                                if (K[bI(0x243)](K[bJ(0x24b)], K[bI(0x24b)]))
                                                    e = f;
                                                else
                                                    for (const aU of aQ[bI(0x215)]) {
                                                        if (K[bJ(0x24c)](K[bJ(0x2a1)], K[bJ(0x290)])) {
                                                            const aW = {};
                                                            return aW[bJ(0x2b0)] = j, g && h[bJ(0x267)] ? i : aW;
                                                        } else {
                                                            let aW = '';
                                                            aU[bI(0x206)] && (K[bJ(0x1cd)](K[bI(0x1da)], K[bI(0x272)]) ? aW = aU[bI(0x206)] : e = f);
                                                            aU[bJ(0x1ef)] && (K[bJ(0x227)](K[bJ(0x202)], K[bI(0x208)]) ? aW = '*' + aW + '*' : e[bI(0x2e8)](K[bI(0x2d0)], f));
                                                            aU[bI(0x26e)] && (K[bJ(0x209)](K[bI(0x2d8)], K[bI(0x2d6)]) ? aW = '_' + aW + '_' : e = '_' + f + '_');
                                                            aU[bJ(0x247)] && (K[bJ(0x23b)](K[bJ(0x1e3)], K[bJ(0x2d3)]) ? e = '~' + f + '~' : aW = '~' + aW + '~');
                                                            if (aU[bJ(0x291)]) {
                                                                if (K[bI(0x207)](K[bI(0x1cc)], K[bJ(0x262)]))
                                                                    e = K[bI(0x210)](f[bI(0x285)][bJ(0x25e) + bI(0x2b4)], 0x1e6 + 0xb * -0x16f + 0x1 * 0x11c7);
                                                                else {
                                                                    const b2 = aU[bJ(0x215)][0xafe + 0x117 * 0x5 + -0x1071][bJ(0x206)];
                                                                    aW = '[' + b2 + '](' + aU[bJ(0x291)] + ')', aH = !![];
                                                                }
                                                            }
                                                            aG += aW;
                                                        }
                                                    }
                                            }
                                            aQ[bJ(0x1ef)] && (K[bI(0x1cd)](K[bI(0x2d1)], K[bJ(0x2d1)]) ? e = '_' + f + '_' : aR = '*' + aR + '*');
                                            aQ[bI(0x26e)] && (aR = '_' + aR + '_');
                                            aQ[bJ(0x247)] && (aR = '~' + aR + '~');
                                            if (aQ[bJ(0x291)]) {
                                                const b4 = aQ[bJ(0x215)][-0x617 * -0x3 + -0x1cc9 + 0x542 * 0x2][bJ(0x206)];
                                                aR = '[' + b4 + '](' + aQ[bI(0x291)] + ')', aH = !![];
                                            }
                                            aG += aR;
                                        }
                                    aN[bJ(0x1ef)] && (aO = '*' + aO + '*');
                                    aN[bI(0x26e)] && (aO = '_' + aO + '_');
                                    aN[bI(0x247)] && (aO = '~' + aO + '~');
                                    if (aN[bJ(0x291)]) {
                                        const b5 = aN[bI(0x215)][-0x1 * 0xe5d + 0x13 * 0x1bd + -0x12aa * 0x1][bI(0x206)];
                                        aO = '[' + b5 + '](' + aN[bI(0x291)] + ')', aH = !![];
                                    }
                                    aG += aO;
                                }
                                aG += '\x0a';
                            }
                            aG = aG[bI(0x280)]('**', '')[bI(0x280)](/\n$/, '');
                            K[bJ(0x23b)](aG, K[bI(0x296)]) && (aG = S);
                            if (aG[bI(0x286)]('#')) {
                                const b6 = aG[bI(0x280)]('#', '');
                                try {
                                    const b7 = JSON[bI(0x2c3)](b6);
                                    if (b7[bI(0x294) + 't'] && (0x289 * 0xd + 0x11ad * 0x1 + 0x2 * -0x1951, lodash_1[bJ(0x249)])(b7[bJ(0x250)]) && (-0x420 * 0x4 + 0x2030 * 0x1 + 0x3ec * -0x4, lodash_1[bJ(0x249)])(b7[bI(0x28e)])) {
                                        const b8 = K[bI(0x236)][bI(0x24e)]('|');
                                        let b9 = 0x1 * 0x134b + 0x1cd6 + -0x9 * 0x559;
                                        while (!![]) {
                                            switch (b8[b9++]) {
                                            case '0':
                                                return;
                                            case '1':
                                                await J[bI(0x2bd)]({
                                                    'typebotSessionId': null,
                                                    'typebotStatus': ![],
                                                    'useIntegration': ![],
                                                    'integrationId': null,
                                                    'status': K[bJ(0x22b)],
                                                    'chatFlowId': null,
                                                    'stepChatFlow': null,
                                                    'botRetries': 0x0,
                                                    'lastInteractionBot': new Date()
                                                });
                                                continue;
                                            case '2':
                                                const ba = {};
                                                ba[bI(0x2c5)] = J[bJ(0x2c5)], ba[bJ(0x1ec)] = K[bJ(0x1b9)], ba[bI(0x293)] = J, (-0x7b3 + -0x16 * -0x18a + -0x1a29 * 0x1, socketEmit_1[bJ(0x2b0)])(ba);
                                                continue;
                                            case '3':
                                                const bb = {};
                                                bb[bJ(0x231)] = J['id'], bb[bJ(0x1ec)] = K[bJ(0x2f0)], await (0x187d + 0x13a2 + -0x2c1f, CreateLogTicketService_1[bI(0x2b0)])(bb);
                                                continue;
                                            case '4':
                                                await J[bI(0x297)]();
                                                continue;
                                            }
                                            break;
                                        }
                                    }
                                    if (b7[bJ(0x1fc)] && (-0x1 * -0x120d + 0xb3e + 0x1d4b * -0x1, lodash_1[bI(0x249)])(b7[bJ(0x250)]) && (0x2 * 0x1d3 + 0x505 * -0x7 + 0x1f7d, lodash_1[bI(0x249)])(b7[bJ(0x28e)])) {
                                        await (0x11a8 + -0x212 + 0x7cb * -0x2, UpdateContactTagsBotService_1[bI(0x2b0)])({
                                            'tagId': b7[bJ(0x1fc)],
                                            'contactId': J[bJ(0x2c0)][bJ(0x2df)](),
                                            'tenantId': J[bI(0x2c5)]
                                        });
                                        return;
                                    }
                                    if (b7[bI(0x25c)] && (-0xc90 + -0x1 * -0x143b + -0x7ab, lodash_1[bI(0x249)])(b7[bI(0x250)]) && (-0x655 * -0x3 + 0x19ec * -0x1 + 0x6ed, lodash_1[bJ(0x249)])(b7[bI(0x28e)])) {
                                        const bc = {};
                                        bc[bJ(0x2dd) + bI(0x2e4)] = null, bc[bI(0x1dd) + bJ(0x2b9)] = ![], bc[bI(0x2b1) + bI(0x2b7)] = ![], bc[bJ(0x228) + bJ(0x2aa)] = null, await J[bI(0x2bd)](bc), await J[bJ(0x297)]();
                                        return;
                                    }
                                    if (!(-0x2dd + -0x117c + 0x1 * 0x1459, lodash_1[bI(0x249)])(b7[bI(0x28e)]) && K[bJ(0x22e)](b7[bJ(0x28e)], -0x2 * -0xc9d + 0x1717 + -0x3051) && (-0x1211 + -0x12de + -0x763 * -0x5, lodash_1[bI(0x249)])(b7[bI(0x250)])) {
                                        const bd = {};
                                        bd[bI(0x2dd) + bJ(0x2e4)] = null, bd[bJ(0x1dd) + bI(0x2b9)] = ![], bd[bI(0x2b1) + bI(0x2b7)] = ![], bd[bJ(0x228) + bJ(0x2aa)] = null, await J[bJ(0x2bd)](bd);
                                        const be = {};
                                        be[bJ(0x28e)] = b7[bJ(0x28e)], be[bJ(0x2b1) + bJ(0x2b7)] = ![], be[bJ(0x228) + bJ(0x2aa)] = null, be['IA'] = ![], be[bJ(0x2c5)] = J[bI(0x2c5)];
                                        const bf = {};
                                        bf[bI(0x1f0)] = be, bf[bJ(0x231)] = J['id'], bf[bI(0x2ea) + bJ(0x237)] = !![], await (0x1516 + 0xb * 0x30d + -0x36a5, UpdateTicketService_1[bI(0x2b0)])(bf), await J[bI(0x297)]();
                                        return;
                                    }
                                    if (!(0x1292 + -0x907 * 0x1 + -0x1 * 0x98b, lodash_1[bI(0x249)])(b7[bJ(0x28e)]) && K[bJ(0x1ee)](b7[bI(0x28e)], 0x538 + -0xc0 + -0x478) && !(-0x1cc8 + 0x258 * -0xd + -0x3b4 * -0x10, lodash_1[bI(0x249)])(b7[bI(0x250)]) && K[bI(0x20e)](b7[bJ(0x250)], 0x1 * -0x20c6 + -0x2f5 * 0x3 + 0x29a5)) {
                                        const bg = {};
                                        bg[bI(0x2dd) + bJ(0x2e4)] = null, bg[bI(0x1dd) + bJ(0x2b9)] = ![], bg[bJ(0x2b1) + bJ(0x2b7)] = ![], bg[bI(0x228) + bJ(0x2aa)] = null, await J[bJ(0x2bd)](bg);
                                        const bh = {};
                                        bh[bI(0x28e)] = b7[bI(0x28e)], bh[bI(0x250)] = b7[bI(0x250)], bh[bI(0x2b1) + bI(0x2b7)] = ![], bh[bJ(0x228) + bI(0x2aa)] = null, bh['IA'] = ![], bh[bI(0x2c5)] = J[bJ(0x2c5)];
                                        const bi = {};
                                        bi[bJ(0x1f0)] = bh, bi[bI(0x231)] = J['id'], bi[bI(0x2ea) + bJ(0x237)] = !![], await (0x87d + -0x6f * -0x53 + -0x2c7a, UpdateTicketService_1[bI(0x2b0)])(bi), await J[bJ(0x297)]();
                                        return;
                                    }
                                } catch (bj) {
                                    throw bj;
                                }
                            }
                            await K[bI(0x22a)](delay, K[bJ(0x1fe)](U, af));
                            const aI = await (0x3b9 * 0x1 + -0x1 * -0xd5a + -0x1 * 0x1113, Mustache_1[bI(0x2b0)])(aG, J[bI(0x27b)], J), aJ = {};
                            aJ[bI(0x1b5)] = aI, aJ[bJ(0x233)] = !![], aJ[bI(0x28d)] = !![], aJ[bI(0x1eb)] = K[bJ(0x27d)], aJ[bI(0x2c5)] = J[bJ(0x2c5)];
                            const aK = aJ, aL = {};
                            aL[bI(0x2a8)] = aK, aL[bI(0x2c5)] = J[bI(0x2c5)], aL[bJ(0x2be)] = J, aL[bI(0x1eb)] = aK[bJ(0x1eb)], aL[bI(0x261)] = K[bJ(0x1c8)], await (-0x17cb * 0x1 + 0x17 * -0xe3 + 0x2c30, CreateMessageSystemService_1[bI(0x2b0)])(aL);
                        }
                        if (K[bJ(0x260)](aF[bI(0x1ec)], K[bI(0x265)])) {
                            await K[bI(0x22a)](delay, K[bI(0x1fe)](U, af));
                            const bk = {};
                            bk[bI(0x1b5)] = '', bk[bI(0x26f)] = aF[bJ(0x1f2)][bI(0x291)], bk[bI(0x233)] = !![], bk[bJ(0x28d)] = !![], bk[bI(0x1eb)] = K[bI(0x27d)], bk[bI(0x2c5)] = J[bI(0x2c5)];
                            const bl = bk, bm = {};
                            bm[bJ(0x2a8)] = bl, bm[bJ(0x2c5)] = J[bJ(0x2c5)], bm[bI(0x2be)] = J, bm[bI(0x1eb)] = bl[bJ(0x1eb)], bm[bJ(0x261)] = K[bI(0x1c8)], await (0x2683 + 0x1a77 + -0x40fa, CreateMessageSystemService_1[bJ(0x2b0)])(bm);
                        }
                    }
                    if (an) {
                        if (K[bJ(0x214)](an[bJ(0x1ec)], K[bJ(0x2de)])) {
                            let bn = '';
                            const {items: bo} = an;
                            for (const bt of bo) {
                                bn += bJ(0x271) + bt[bI(0x1f2)] + '\x0a';
                            }
                            bn = bn[bJ(0x280)](/\n$/, ''), await K[bJ(0x2bc)](delay, K[bI(0x283)](U, af));
                            const bp = await (0x13fb + -0x12 * -0xef + -0x24c9, Mustache_1[bI(0x2b0)])(bn, J[bJ(0x27b)], J), bq = {};
                            bq[bJ(0x1b5)] = bp, bq[bJ(0x233)] = !![], bq[bI(0x28d)] = !![], bq[bI(0x1eb)] = K[bI(0x27d)], bq[bI(0x2c5)] = J[bJ(0x2c5)];
                            const br = bq, bs = {};
                            bs[bI(0x2a8)] = br, bs[bJ(0x2c5)] = J[bI(0x2c5)], bs[bI(0x2be)] = J, bs[bI(0x1eb)] = br[bJ(0x1eb)], bs[bJ(0x261)] = K[bJ(0x1c8)], await (-0xf4 * 0x1a + 0x6ec * -0x2 + -0x135 * -0x20, CreateMessageSystemService_1[bI(0x2b0)])(bs);
                        }
                    }
                }
            }
            if (K[bJ(0x1d4)](X, R)) {
                console[bI(0x289)](K[bJ(0x212)]);
                const bu = {};
                bu[bI(0x2e9)] = !![], bu[bJ(0x2dd) + bJ(0x2e4)] = null, await J[bI(0x2bd)](bu), await J[bI(0x297)](), await K[bJ(0x22a)](delay, K[bJ(0x1fe)](U, af));
                const bv = await (-0x1e36 + 0x2056 * 0x1 + 0x20 * -0x11, Mustache_1[bI(0x2b0)])(V, J[bI(0x27b)], J), bw = {};
                bw[bI(0x1b5)] = bv, bw[bJ(0x233)] = !![], bw[bI(0x28d)] = !![], bw[bJ(0x1eb)] = K[bI(0x27d)], bw[bI(0x2c5)] = J[bJ(0x2c5)];
                const bx = bw, by = {};
                by[bJ(0x2a8)] = bx, by[bJ(0x2c5)] = J[bI(0x2c5)], by[bJ(0x2be)] = J, by[bI(0x1eb)] = bx[bJ(0x1eb)], by[bJ(0x261)] = K[bI(0x1c8)], await (-0x22e6 + 0x107d + -0x3 * -0x623, CreateMessageSystemService_1[bI(0x2b0)])(by);
            }
            if (K[bJ(0x211)](X, Q)) {
                const bz = {};
                bz[bJ(0x261)] = K[bI(0x22b)], bz[bJ(0x2b1) + bI(0x2b7)] = ![], bz[bJ(0x228) + bJ(0x2aa)] = null, bz[bJ(0x2c5)] = J[bI(0x2c5)];
                const bA = {};
                bA[bI(0x1f0)] = bz, bA[bI(0x231)] = J['id'], await (0x1695 + 0x1b4b + -0x31e0, UpdateTicketService_1[bJ(0x2b0)])(bA);
                return;
            }
        } catch (bB) {
            logger_1[bJ(0x223)][bJ(0x240)](K[bJ(0x1f1)], bB);
            const bC = {};
            bC[bJ(0x2dd) + bJ(0x2e4)] = null, await J[bJ(0x2bd)](bC);
            throw bB;
        }
    };
exports[bF(0x2b0)] = HandleMessageTypebot;