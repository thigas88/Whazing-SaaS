'use strict';
const S = b, T = b;
function a() {
    const X = [
        'X-N8N-API-',
        'whatsapp',
        'body',
        'vAbJp',
        'ls/QueueIn',
        'email',
        'Você\x20deve\x20',
        'reactions',
        'ls/Ticket',
        '\x20encontrad',
        '5792969FTqYzl',
        'fault',
        'headers',
        'contactId',
        'NSnzB',
        'Mensagem\x20n',
        'n/json',
        'dGHHz',
        'ão\x20encontr',
        'IFQam',
        'mediaType',
        'EJydu',
        'sendType',
        'JLxHQ',
        'rPkqX',
        '132DIHZer',
        'url',
        'qpnQQ',
        'timestamp',
        'erty',
        'protocol',
        'ls/Message',
        '__importDe',
        'qySye',
        'chHNO',
        'findOne',
        'WhatsApp\x20n',
        'wXvLN',
        '../../mode',
        'xKxNd',
        'ATkzr',
        'ticketId',
        'ada.',
        'pushname',
        'icador\x20(me',
        'edited',
        'whatsappId',
        'ooovh',
        'axios',
        'HNJUo',
        'method',
        'ls/Whatsap',
        'messageId',
        'ticket',
        'ssageId\x20ou',
        '10779vcjiyf',
        'Integração',
        '1146208FQCcss',
        'Content-Ty',
        '__esModule',
        'messageBod',
        'isGroup',
        '9FMyqEa',
        'name',
        'ado.',
        'YlXhw',
        '253ogeMic',
        '8126600yxjUbV',
        '\x20id).',
        'mediaUrl',
        'lCJvp',
        'ls/Contact',
        'TjTJR',
        'profilePic',
        '53042hkMuVV',
        'Url',
        'isJoP',
        'KEY',
        'number',
        'queueId',
        'xereG',
        'n8nApiKey',
        'tegrations',
        'findByPk',
        'HandleMess',
        'um\x20identif',
        'contact',
        'default',
        'isDeleted',
        'userId',
        'POST',
        'HLLaw',
        '\x20N8N:\x20',
        'NGZTH',
        'ls/User',
        'jhjOx',
        'defineProp',
        'urlN8N',
        '6nvfKcn',
        'where',
        'status',
        'error',
        'message',
        '777720wbUufz',
        'fromMe',
        'data',
        'FDaxV',
        'uUvcW',
        'Ticket\x20não',
        '7aUNYnA',
        '\x20com\x20N8N\x20n',
        'ageWebHook',
        'pPuYK',
        'CSWMQ',
        'fornecer\x20p',
        'yrFzZ',
        '4069705dKzTJr',
        'Erro\x20ao\x20in',
        'AcEth',
        'elo\x20menos\x20',
        'GSFOW',
        'applicatio',
        'tegrar\x20com',
        'user',
        'value'
    ];
    a = function () {
        return X;
    };
    return a();
}
(function (c, d) {
    const Q = b, R = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(Q(0x135)) / (-0x1da6 + 0x2 * 0x9ab + 0xa51) * (-parseInt(Q(0x112)) / (0x46 * -0x13 + 0x53 + 0x4e1)) + -parseInt(Q(0x17c)) / (0x9c9 + 0x1 * 0x1ae + -0x4 * 0x2dd) * (-parseInt(R(0x15e)) / (0x21aa + 0xdc6 + 0x17b6 * -0x2)) + -parseInt(R(0x13c)) / (0x2546 + 0x1467 + -0xcd * 0x48) + -parseInt(R(0x12a)) / (0x6 * -0xea + -0x1 * -0x1b47 + -0x15c5) * (-parseInt(R(0x14f)) / (0x9 * 0x311 + 0x3d * -0x5b + -0x89 * 0xb)) + -parseInt(R(0x101)) / (0x5fb + 0xe55 + -0x1448) + parseInt(R(0x106)) / (0x1bea + -0x76c + -0x1475) * (-parseInt(R(0x10b)) / (-0x26 * 0x8b + -0x2ef * -0x4 + 0x8f * 0x10)) + parseInt(R(0x10a)) / (-0x8d * 0x1b + 0x1 * -0xa31 + -0x1 * -0x191b) * (parseInt(Q(0x12f)) / (-0x12f4 + 0x1db5 + -0xab5));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0xd9381 + -0x3ebd4 + 0x1 * -0x24fd3));
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0x115f * -0x1 + -0x4 * -0x716 + -0x9f9);
        let h = e[f];
        return h;
    }, b(c, d);
}
var __importDefault = this && this[S(0x165) + S(0x150)] || function (c) {
    const U = T;
    return c && c[U(0x103)] ? c : { 'default': c };
};
const k = {};
k[S(0x144)] = !![], Object[S(0x128) + S(0x162)](exports, S(0x103), k), exports[T(0x11c) + S(0x137)] = void (0x1625 + 0x21bd + -0x37e2);
const axios_1 = __importDefault(require(S(0x175))), QueueIntegrations_1 = __importDefault(require(T(0x16b) + S(0x149) + T(0x11a))), Ticket_1 = __importDefault(require(S(0x16b) + T(0x14d))), Message_1 = __importDefault(require(T(0x16b) + T(0x164))), Whatsapp_1 = __importDefault(require(S(0x16b) + T(0x178) + 'p')), Contact_1 = __importDefault(require(S(0x16b) + T(0x10f))), User_1 = __importDefault(require(T(0x16b) + S(0x126))), HandleMessageWebHook = async (m, n, o) => {
        const V = S, W = S, p = {};
        p[V(0x10e)] = V(0x154) + W(0x157) + W(0x16f), p[W(0x166)] = V(0x100) + W(0x136) + W(0x157) + V(0x16f), p[W(0x138)] = W(0x169) + W(0x157) + V(0x108), p[W(0x127)] = W(0x14b) + W(0x13a) + V(0x13f) + V(0x11d) + V(0x171) + V(0x17b) + W(0x10c), p[W(0x160)] = W(0x134) + W(0x14e) + 'o.', p[V(0x110)] = function (r, s) {
            return r !== s;
        }, p[W(0x133)] = W(0x15a), p[W(0x114)] = function (r, s) {
            return r === s;
        }, p[W(0x132)] = W(0x16d), p[W(0x174)] = W(0x15d), p[W(0x125)] = function (r, s) {
            return r === s;
        }, p[V(0x153)] = W(0x13e), p[W(0x158)] = V(0x16a), p[V(0x13b)] = W(0x156), p[V(0x140)] = W(0x15c), p[V(0x109)] = W(0x118), p[W(0x16c)] = W(0x123), p[V(0x148)] = V(0x139), p[W(0x176)] = V(0x122), p[W(0x167)] = V(0x141) + V(0x155);
        const q = p;
        try {
            const r = await QueueIntegrations_1[V(0x11f)][W(0x11b)](m);
            if (!r || !r[V(0x129)]) {
                if (q[V(0x110)](q[V(0x133)], q[W(0x133)]))
                    throw new d(q[W(0x10e)]);
                else
                    throw new Error(q[V(0x166)]);
            }
            let s;
            if (n) {
                if (q[V(0x114)](q[W(0x132)], q[V(0x132)])) {
                    const F = {};
                    F[W(0x179)] = n;
                    const G = {};
                    G[W(0x12b)] = F, s = await Message_1[W(0x11f)][V(0x168)](G);
                } else
                    throw new d(q[V(0x166)]);
            } else {
                if (o) {
                    if (q[W(0x110)](q[V(0x174)], q[V(0x174)])) {
                        g[V(0x12d)](W(0x13d) + W(0x142) + V(0x124) + x[V(0x12e)]);
                        throw new y(V(0x13d) + V(0x142) + V(0x124) + z[V(0x12e)]);
                    } else {
                        const J = {};
                        J['id'] = o;
                        const K = {};
                        K[V(0x12b)] = J, s = await Message_1[W(0x11f)][V(0x168)](K);
                    }
                } else {
                    if (q[W(0x125)](q[V(0x153)], q[W(0x158)])) {
                        const M = {};
                        return M[W(0x11f)] = z, g && M[V(0x103)] ? y : M;
                    } else
                        throw new Error(q[V(0x127)]);
                }
            }
            if (!s) {
                if (q[W(0x114)](q[V(0x13b)], q[V(0x140)]))
                    throw new d(q[W(0x138)]);
                else
                    throw new Error(q[V(0x10e)]);
            }
            const t = await Ticket_1[W(0x11f)][W(0x11b)](s[V(0x16e)]);
            if (!t) {
                if (q[V(0x110)](q[W(0x109)], q[W(0x16c)]))
                    throw new Error(q[V(0x160)]);
                else
                    throw new d(q[W(0x127)]);
            }
            const u = t[W(0x152)] ? await Contact_1[W(0x11f)][V(0x11b)](t[W(0x152)]) : null, v = t[W(0x121)] ? await User_1[V(0x11f)][V(0x11b)](t[W(0x121)]) : null, w = await Whatsapp_1[V(0x11f)][V(0x11b)](t[W(0x173)]);
            if (!w) {
                if (q[W(0x114)](q[V(0x148)], q[W(0x148)]))
                    throw new Error(q[V(0x138)]);
                else
                    throw new d(q[V(0x160)]);
            }
            const x = {};
            x['id'] = t['id'], x[W(0x12c)] = t[V(0x12c)], x[V(0x163)] = t[W(0x163)], x[V(0x117)] = t[W(0x117)];
            const y = {};
            y['id'] = w['id'], y[W(0x107)] = w[V(0x107)];
            const z = {};
            z[V(0x179)] = s[W(0x179)], z[V(0x104) + 'y'] = s[W(0x147)], z[V(0x161)] = s[W(0x161)], z[V(0x12c)] = s[V(0x12c)], z[W(0x130)] = s[V(0x130)], z[W(0x159)] = s[W(0x159)], z[W(0x10d)] = s[W(0x10d)], z[W(0x120)] = s[W(0x120)], z[V(0x15b)] = s[W(0x15b)], z[V(0x172)] = s[V(0x172)], z[W(0x14c)] = s[W(0x14c)], z[W(0x17a)] = x, z[W(0x11e)] = u ? {
                'id': u['id'],
                'name': u[V(0x107)],
                'phoneNumber': u[V(0x116)],
                'profilePicUrl': u[V(0x111) + V(0x113)],
                'email': u[V(0x14a)],
                'isGroup': u[W(0x105)],
                'pushname': u[V(0x170)]
            } : null, z[V(0x143)] = v ? {
                'id': v['id'],
                'name': v[V(0x107)],
                'email': v[W(0x14a)]
            } : null, z[V(0x146)] = y;
            const A = z, B = {};
            B[V(0x177)] = q[W(0x176)], B[W(0x15f)] = r[W(0x129)], B[V(0x151)] = {}, B[V(0x131)] = A, B[V(0x151)][W(0x102) + 'pe'] = q[W(0x167)], B[V(0x151)][V(0x145) + W(0x115)] = r[V(0x119)] || '';
            const C = B, D = await (0x5 * 0x52c + -0x95 * 0x3d + 0x9a5, axios_1[V(0x11f)])(C);
        } catch (P) {
            console[V(0x12d)](W(0x13d) + W(0x142) + V(0x124) + P[W(0x12e)]);
            throw new Error(V(0x13d) + W(0x142) + V(0x124) + P[V(0x12e)]);
        }
    };
exports[T(0x11c) + S(0x137)] = HandleMessageWebHook;