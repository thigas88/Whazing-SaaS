'use strict';
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x5 * 0x22b + 0x125 * -0x2 + 0x1c3 * 0x8);
        let h = e[f];
        return h;
    }, b(c, d);
}
const G = b, H = b;
(function (c, d) {
    const E = b, F = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(E(0x176)) / (0x2 * 0xc0b + 0x1aa2 + -0x32b7) * (-parseInt(F(0x18b)) / (-0x1849 + 0x159e + 0x2ad * 0x1)) + parseInt(E(0x197)) / (0x347 * -0x3 + -0x74f + -0x1127 * -0x1) + parseInt(E(0x11a)) / (0x20e1 + -0x1 * -0x214f + 0x2116 * -0x2) + parseInt(F(0x15d)) / (-0x818 + -0x119a + 0x19b7) * (-parseInt(F(0x14e)) / (0x113 * -0xb + -0x1e3b + 0x2a12)) + -parseInt(F(0x184)) / (0x1f4b + -0x15 * 0xce + -0xe5e) + -parseInt(E(0x1a2)) / (-0x716 + -0x1ecc + -0x2 * -0x12f5) * (-parseInt(E(0x143)) / (0x1bb5 + 0x9cf * 0x3 + -0x3919)) + -parseInt(F(0xf9)) / (-0x57b * 0x1 + 0x13e8 + 0x1d * -0x7f) * (parseInt(E(0x18f)) / (-0x1eb * -0xd + 0x106c + -0x2950));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x81 * 0x2e5 + 0xc * -0x2519 + -0x3 * -0x9e3b));
var __importDefault = this && this[G(0x19d) + H(0x1ad)] || function (c) {
    const I = H;
    return c && c[I(0x101)] ? c : { 'default': c };
};
const k = {};
k[G(0x10a)] = !![], Object[G(0xf7) + G(0x16a)](exports, G(0x101), k), exports[H(0x128) + G(0x111) + 'on'] = exports[G(0x19a) + H(0x100)] = exports[H(0x109) + 'k'] = void (-0x1c9a + 0x1208 + -0x21 * -0x52);
function a() {
    const W = [
        'data',
        './PaymentG',
        'debug',
        'ovSIj',
        'ncontrado,',
        'm\x20o\x20suport',
        'qrcode',
        'contato\x20co',
        'include',
        'fault',
        'defineProp',
        '/socket',
        '10EfyQfT',
        'ywPTC',
        'ices',
        'owenToken',
        'CBNqN',
        'CZcWK',
        'EvqQg',
        'tatus',
        '__esModule',
        'tenantId',
        'owen',
        'KuWyu',
        'APPROVED',
        'tenant-',
        'rs/AppErro',
        'BAapO',
        'owenWebhoo',
        'value',
        'whfKL',
        'qSqGO',
        'valor',
        'axios',
        't\x20found',
        '../../util',
        'Subscripti',
        'JsxWm',
        'mgFyn',
        'EtrkP',
        'json',
        'gXdCg',
        'get',
        'ls/Invoice',
        'HtbXH',
        '737476DXqPQd',
        'findOne',
        'xosac',
        'dOAuA',
        'ing\x20detail',
        'getDate',
        'yWJlh',
        'dNcGi',
        'dinamico',
        'paid',
        'xnxqf',
        '#Fatura:',
        'SURgN',
        'nIXbs',
        'owenCreate',
        'ZkkPa',
        'pXjbh',
        'default',
        'on\x20error:\x20',
        'owenCnpj',
        'update',
        'fhiLj',
        'sDVkl',
        'tRoZV',
        'x.owenbras',
        'yqFcn',
        'emit',
        'GXGvv',
        'wjshc',
        'IQkMb',
        'cZLjM',
        '\x20of\x20txid',
        'getIO',
        '/api/v1/qr',
        'logger',
        'atewayServ',
        '../../libs',
        'jnpey',
        'qrcodeId',
        'ROOMl',
        '../../help',
        '1642131zWDYIe',
        'VhOJY',
        's/logger',
        'prooF',
        'yrqUu',
        'eckStatus:',
        'hing\x20polli',
        '\x20already\x20p',
        'ers/CheckS',
        'il.com.br',
        'params',
        '73254GoMGBD',
        'ikTTY',
        'stringify',
        'sender',
        '\x20Invoice\x20',
        'zcsDY',
        'toISOStrin',
        'VDiab',
        'processInv',
        'NFnNP',
        'uYzTk',
        'open',
        'model',
        'PWjea',
        'Xcrrg',
        '70IRrkQn',
        'toFixed',
        'NjlTz',
        'UZQOn',
        'DhlOH',
        'original',
        'tenant',
        'MzWfM',
        'Key',
        'findByPk',
        'zYhZg',
        'where',
        'sdoAV',
        'erty',
        'super',
        'setDate',
        'rQtLI',
        'https://pi',
        'ettingsGen',
        'status',
        'qxJbQ',
        'WAEPd',
        '-mainchann',
        'tKRHq',
        'error',
        '3213ohZuPQ',
        'uwTfv',
        'igjaZ',
        'tfvvd',
        'Invoice\x20no',
        'xJAts',
        '-payment',
        'BihEb',
        'owenPollCh',
        'GSxVA',
        'split',
        'AfFrQ',
        '\x20entre\x20em\x20',
        'body',
        '288533EGqGir',
        'RyOyv',
        'jwRTm',
        'sJDrl',
        '../../erro',
        'njnZb',
        'owenSecret',
        '72Zaouvd',
        'eojOz',
        'tgSeK',
        'zVLen',
        '548163VhfSBL',
        'oiceExpire',
        'dueDate',
        'oicePaid',
        'txId',
        'mAkpo',
        'CONCLUIDA',
        'bPdbz',
        '341892eMdjYW',
        '../../mode',
        'Error\x20gett',
        'owenCheckS',
        'aid,\x20finis',
        'pAEEM',
        '__importDe',
        'reload',
        'ls/Tenant',
        'eral',
        'Problema\x20e',
        '8qKludI',
        'YFPGd'
    ];
    a = function () {
        return W;
    };
    return a();
}
const axios_1 = __importDefault(require(G(0x10e))), CheckSettingsGeneral_1 = __importDefault(require(H(0x142) + H(0x14b) + G(0x16f) + H(0x1a0))), logger_1 = require(H(0x110) + H(0x145)), socket_1 = require(G(0x13e) + H(0xf8)), Invoices_1 = __importDefault(require(G(0x198) + H(0x118) + 's')), Tenant_1 = __importDefault(require(G(0x198) + H(0x19f))), AppError_1 = __importDefault(require(G(0x188) + H(0x107) + 'r')), PaymentGatewayServices_1 = require(G(0x1a5) + H(0x13d) + G(0xfb)), owenBaseURL = H(0x16e) + H(0x132) + H(0x14c), owenLoadConfig = async () => {
        const J = G, K = H, d = {};
        d[J(0x136)] = J(0x12d), d[K(0x181)] = J(0xfc), d[J(0x10b)] = K(0x18a) + K(0x165);
        const e = d;
        return {
            'user': await (0x1 * -0x20d5 + 0x175b + -0x97a * -0x1, CheckSettingsGeneral_1[K(0x12b)])(e[K(0x136)]),
            'password': await (0x229 * -0xc + 0x1ab + 0x1841 * 0x1, CheckSettingsGeneral_1[J(0x12b)])(e[K(0x181)]),
            'secretkey': await (0x858 + -0xffd * 0x1 + 0x7a5, CheckSettingsGeneral_1[K(0x12b)])(e[K(0x10b)])
        };
    }, owenWebhook = async (l, m) => {
        const L = H, M = H, n = {};
        n[L(0x144)] = M(0x1a1) + L(0x1a8) + L(0x182) + M(0x1ab) + L(0x1a9) + 'e!', n[L(0x130)] = function (r, s) {
            return r === s;
        }, n[L(0xfd)] = L(0x105), n[L(0x146)] = function (r, s) {
            return r !== s;
        }, n[M(0x185)] = M(0x158), n[L(0x13f)] = L(0x159), n[L(0x167)] = L(0x163), n[L(0x157)] = function (r, s) {
            return r < s;
        }, n[M(0x17d)] = L(0x164), n[L(0x189)] = M(0x11d), n[L(0x187)] = function (r, s) {
            return r + s;
        }, n[M(0x178)] = L(0x123), n[L(0x153)] = L(0x16b), n[M(0x18d)] = M(0x195);
        const o = n, {data: p} = l[M(0x183)];
        if (o[M(0x130)](p[L(0x170)], o[M(0xfd)])) {
            if (o[M(0x146)](o[L(0x185)], o[M(0x185)]))
                return;
            else {
                const {qrcodeId: s} = p, t = {};
                t[M(0x193)] = s, t[L(0x170)] = o[L(0x13f)];
                const u = {};
                u[L(0x15a)] = Tenant_1[L(0x12b)], u['as'] = o[M(0x167)];
                const v = {};
                v[L(0x168)] = t, v[L(0x1ac)] = [u];
                const w = await Invoices_1[M(0x12b)][M(0x11b)](v);
                if (!w || o[M(0x157)](p[L(0x10d)], w[L(0x10a)])) {
                    if (o[L(0x130)](o[L(0x17d)], o[M(0x189)])) {
                        v[M(0x13c)][L(0x175)](L(0x128) + L(0x111) + L(0x12c) + g);
                        throw new z[(M(0x12b))](o[M(0x144)], -0x1509 + -0x3 * 0x7eb + 0x2e5a);
                    } else {
                        const D = {};
                        return D['ok'] = !![], m[M(0x115)](D);
                    }
                }
                const x = new Date(w[M(0x163)][M(0x191)]);
                x[M(0x16c)](o[L(0x187)](x[L(0x11f)](), 0x122e + 0x933 + -0x1b43));
                const y = x[L(0x154) + 'g']()[M(0x180)]('T')[-0x7bd * -0x1 + -0x55b + 0x2 * -0x131], z = {};
                z[M(0x191)] = y, await w[M(0x163)][M(0x12e)](z);
                const A = {};
                A[L(0x170)] = o[M(0x178)], await w[M(0x12e)](A), await w[M(0x163)][L(0x19e)]();
                const B = (0x1 * 0x96f + 0xda * -0xe + 0x27d, socket_1[M(0x13a)])();
                B['to'](L(0x106) + w[M(0x102)] + (L(0x173) + 'el'))['to'](o[M(0x153)])[L(0x134)](L(0x106) + w[L(0x102)] + M(0x17c), {
                    'action': o[M(0x18d)],
                    'tenant': w[M(0x163)],
                    'invoiceId': w['id']
                });
            }
        }
        const q = {};
        return q['ok'] = !![], m[M(0x115)](q);
    };
exports[H(0x109) + 'k'] = owenWebhook;
const owenCheckStatus = async (e, f = null) => {
    const N = G, O = H, g = {
            'zVLen': N(0x17a) + N(0x10f),
            'CZcWK': N(0x199) + O(0x11e) + N(0x139),
            'yrqUu': function (h, i, j) {
                return h(i, j);
            },
            'xosac': function (h, i) {
                return h !== i;
            },
            'xJAts': N(0x155),
            'pAEEM': function (h, i) {
                return h === i;
            },
            'UZQOn': N(0x16d),
            'ovSIj': N(0x119),
            'ZkkPa': function (h) {
                return h();
            },
            'EtrkP': function (h, i) {
                return h !== i;
            },
            'tfvvd': N(0x105),
            'ywPTC': function (h, i) {
                return h !== i;
            },
            'bPdbz': O(0x171),
            'jwRTm': O(0x120),
            'PWjea': function (h, i) {
                return h >= i;
            },
            'dNcGi': N(0x126),
            'ROOMl': N(0x108),
            'eojOz': O(0x177),
            'gXdCg': N(0x133)
        };
    try {
        if (g[N(0x11c)](g[N(0x17b)], g[N(0x17b)])) {
            (-0x23b9 + -0x18 * 0xfe + 0x3b89, e[N(0x156) + N(0x190) + 'd'])(f);
            return;
        } else {
            if (!f) {
                if (g[O(0x19c)](g[O(0x160)], g[O(0x1a7)]))
                    throw new j(g[N(0x18e)]);
                else
                    f = await g[O(0x129)](owenLoadConfig);
            }
            const i = {
                    'qrcodeId': e[N(0x193)],
                    ...f
                }, j = {};
            j[O(0x14d)] = i;
            const l = await axios_1[O(0x12b)][O(0x117)](owenBaseURL + (N(0x13b) + O(0x170)), j);
            if (g[O(0x114)](l?.[O(0x1a4)]?.[N(0x1a4)]?.[O(0x170)], g[N(0x179)])) {
                if (g[O(0xfa)](g[N(0x196)], g[N(0x186)]))
                    return ![];
                else {
                    e[O(0x13c)][O(0x1a6)](N(0x17e) + O(0x148) + O(0x152) + f['id'] + (N(0x14a) + O(0x19b) + N(0x149) + 'ng'));
                    return;
                }
            }
            if (g[O(0x15b)](l?.[O(0x1a4)]?.[N(0x1a4)]?.[O(0x151)]?.[N(0x10d)], e[O(0x10a)])) {
                if (g[N(0x19c)](g[O(0x121)], g[O(0x141)]))
                    e[O(0x13c)][O(0x175)](f, g[O(0xfe)]);
                else
                    return await (-0x1d3c + 0x5a9 * -0x3 + 0x1 * 0x2e37, PaymentGatewayServices_1[O(0x156) + N(0x192)])(e), !![];
            }
            return ![];
        }
    } catch (p) {
        g[O(0x19c)](g[O(0x18c)], g[O(0x116)]) ? g[N(0x147)](f, g, h) : logger_1[N(0x13c)][N(0x175)](p, g[O(0xfe)]);
    }
    return ![];
};
exports[G(0x19a) + H(0x100)] = owenCheckStatus;
const owenPollCheckStatus = async (c, d, e = 0x45f * 0x7 + -0x9b + -0x1df4, f = -0x1 * 0x9d87 + -0x2f * -0x2f9 + 0x8700) => {
        const P = G, Q = G, g = {
                'nIXbs': function (j, l, m) {
                    return j(l, m);
                },
                'EvqQg': function (j, l) {
                    return j === l;
                },
                'KuWyu': P(0x123),
                'Xcrrg': function (j, l) {
                    return j !== l;
                },
                'GXGvv': Q(0x169),
                'JsxWm': function (j, l) {
                    return j !== l;
                },
                'mAkpo': P(0x161),
                'YFPGd': P(0x14f),
                'xnxqf': function (j, l) {
                    return j >= l;
                },
                'tKRHq': function (j, l) {
                    return j !== l;
                },
                'pXjbh': P(0x10c),
                'mgFyn': Q(0x15f),
                'cZLjM': function (j) {
                    return j();
                }
            };
        let h = 0xc7 * -0x2f + -0x1a * 0x53 + 0xefd * 0x3;
        async function i() {
            const R = Q, S = P;
            await d[R(0x19e)]();
            if (g[S(0xff)](d[S(0x170)], g[S(0x104)])) {
                if (g[R(0x15c)](g[R(0x135)], g[S(0x135)]))
                    return ![];
                else {
                    logger_1[R(0x13c)][R(0x1a6)](S(0x17e) + S(0x148) + S(0x152) + d['id'] + (S(0x14a) + R(0x19b) + S(0x149) + 'ng'));
                    return;
                }
            }
            const j = await (0x4eb + -0x17a8 + -0x9 * -0x215, exports[R(0x19a) + S(0x100)])(d, c);
            if (j) {
                if (g[S(0x112)](g[R(0x194)], g[R(0x1a3)]))
                    return;
                else {
                    const n = {};
                    return n['ok'] = !![], d[S(0x115)](n);
                }
            }
            h += 0xa0 + 0x11d4 + -0x1273;
            if (g[R(0x124)](h, e)) {
                if (g[R(0x174)](g[R(0x12a)], g[S(0x113)])) {
                    (-0x6b * -0x25 + -0x285 * -0x9 + -0x1 * 0x2624, PaymentGatewayServices_1[R(0x156) + S(0x190) + 'd'])(d);
                    return;
                } else {
                    const o = {};
                    return o[S(0x12b)] = j, g && h[S(0x101)] ? i : o;
                }
            }
            await new Promise(o => {
                const T = S;
                g[T(0x127)](setTimeout, o, f);
            }), await g[R(0x138)](i);
        }
        return g[P(0x138)](i);
    }, owenCreateSubscription = async (f, g) => {
        const U = G, V = G, h = {
                'IQkMb': function (n) {
                    return n();
                },
                'GSxVA': U(0x17a) + U(0x10f),
                'fhiLj': U(0x103),
                'tRoZV': function (n, o, p) {
                    return n(o, p);
                },
                'WAEPd': V(0x1a1) + V(0x1a8) + V(0x182) + U(0x1ab) + V(0x1a9) + 'e!'
            }, {
                price: i,
                invoiceId: j
            } = f[U(0x183)], l = await h[U(0x137)](owenLoadConfig), m = {
                'params': {
                    'valor': i[V(0x15e)]([-0x22b1 * -0x1 + -0x2de + -0x1fd1]),
                    'minutos': 0x5,
                    'mensagem': V(0x125) + j,
                    ...l
                }
            };
        try {
            const n = await Invoices_1[V(0x12b)][V(0x166)](j);
            if (!n)
                throw new Error(h[V(0x17f)]);
            const o = await axios_1[V(0x12b)][U(0x117)](owenBaseURL + (U(0x13b) + V(0x122)), m);
            n[U(0x12e)]({
                'value': i,
                'txId': o[V(0x1a4)][V(0x1a4)][V(0x140)],
                'payGw': h[U(0x12f)],
                'payGwData': JSON[U(0x150)](o[V(0x1a4)][V(0x1a4)])
            }), h[U(0x131)](owenPollCheckStatus, l, n);
            const p = {};
            p[U(0x1aa)] = o[V(0x1a4)][V(0x1a4)][V(0x1aa)];
            const q = {};
            q[V(0x162)] = i;
            const r = {};
            return r[U(0x1aa)] = p, r[V(0x10d)] = q, g[U(0x115)](r);
        } catch (s) {
            logger_1[V(0x13c)][V(0x175)](U(0x128) + V(0x111) + V(0x12c) + s);
            throw new AppError_1[(U(0x12b))](h[U(0x172)], 0x6 * -0x1ee + -0x1e89 + 0x3 * 0xe8f);
        }
    };
exports[H(0x128) + H(0x111) + 'on'] = owenCreateSubscription;