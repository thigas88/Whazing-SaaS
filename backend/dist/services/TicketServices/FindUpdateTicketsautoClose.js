'use strict';
const a3 = b, a4 = b;
(function (c, d) {
    const a1 = b, a2 = b, e = c();
    while (!![]) {
        try {
            const f = -parseInt(a1(0x127)) / (0x3 * 0x9a7 + -0x2133 + 0x43f) * (-parseInt(a1(0xee)) / (-0xbab + -0xfbb + 0x1b68)) + parseInt(a1(0xf4)) / (0x14fd + 0x2485 + -0x397f) + -parseInt(a1(0x129)) / (0x489 + 0x2697 * 0x1 + -0x2b1c) * (-parseInt(a2(0x120)) / (-0x3a6 * 0x8 + 0x8b3 + 0x1482)) + parseInt(a2(0x132)) / (-0xbc * 0x35 + -0x1215 + 0x3907) * (parseInt(a1(0x12b)) / (-0x1 * 0x7f0 + -0x257c + 0x2d73)) + -parseInt(a2(0x145)) / (0xfa0 + -0x26cb * -0x1 + 0x15 * -0x297) * (-parseInt(a2(0xdb)) / (0x2d * 0x1b + -0x175b + 0x12a5)) + -parseInt(a2(0x147)) / (0x161f + 0x28e * 0x7 + -0x27f7) + -parseInt(a2(0x11f)) / (-0x2fd + 0x1 * -0x1ae6 + 0x1dee);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0x7 * -0x3019d + -0xdae4b + -0x6485 * -0x11));
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (0xe2 * 0x5 + 0x60 * 0x8 + -0x692);
        let h = e[f];
        return h;
    }, b(c, d);
}
var __importDefault = this && this[a3(0xd8) + a4(0xfa)] || function (c) {
    const a5 = a4;
    return c && c[a5(0xf6)] ? c : { 'default': c };
};
const k = {};
function a() {
    const a8 = [
        'bot',
        'DUfAG',
        'r\x20autofech',
        'body',
        './ShowTick',
        'erty',
        'amento:\x20',
        'aVkdu',
        'do\x20para\x20o\x20',
        'ecsqz',
        'etService',
        'tenantId',
        'defineProp',
        'LYoOy',
        'lastMessag',
        'MNgaZ',
        '\x20do\x20ticket',
        '8COJACS',
        'wlOqR',
        '10425190jaxeeT',
        'reateMessa',
        'autoCloseM',
        'idFront',
        'ls/Setting',
        '__importDe',
        'order',
        'EePfO',
        '9539379cPjSFC',
        'default',
        'enabled',
        'Services/C',
        'ASC',
        's/logger',
        '../../util',
        'autoClose',
        'ls/Ticket',
        'ket:\x20',
        'GtwCm',
        'FRbRs',
        'fcYDQ',
        'oPaRM',
        'where',
        'read',
        'mento\x20foi\x20',
        'msg',
        '../../mode',
        '1012MaIkmO',
        'contact',
        'answered',
        'include',
        'ao\x20realiza',
        'ticket:upd',
        '3487014fthdzJ',
        'sendType',
        '__esModule',
        'r\x20atualiza',
        'findOne',
        'geSystemSe',
        'fault',
        'pending',
        'ls/Contact',
        'model',
        'oCOvq',
        'Contato\x20nã',
        'now',
        'Seu\x20atendi',
        'warn',
        'VcDTE',
        'eAt',
        'ticket',
        'key',
        'autoCloseT',
        'NUGRW',
        'ticket.\x20ID',
        '../../help',
        'logger',
        'exxth',
        'open',
        'stringify',
        'ls/Tenant',
        'pmYDz',
        'name',
        'floor',
        'payload',
        'Emit',
        ':::\x20Error\x20',
        'ByCdN',
        'value',
        'FICvX',
        'ers/socket',
        'RSaHa',
        'ate',
        'type',
        'ção\x20do\x20tic',
        'closed',
        '45170345eLolJM',
        '49540vOhhZF',
        'YSonk',
        'status',
        'GqnRX',
        'encerrado.',
        'o\x20encontra',
        'XKaiv',
        '3319WnouwA',
        'uuid',
        '508tiOpuJ',
        '../Message',
        '795319gzDJzl',
        'ime',
        'essage',
        'VXJOf',
        'fromMe',
        'rvice',
        'findAll',
        '48jDTDdq',
        'update'
    ];
    a = function () {
        return a8;
    };
    return a();
}
k[a4(0x117)] = !![], Object[a3(0x140) + a3(0x139)](exports, a3(0xf6), k);
const logger_1 = require(a4(0xe1) + a4(0xe0)), Ticket_1 = __importDefault(require(a3(0xed) + a4(0xe3))), Setting_1 = __importDefault(require(a4(0xed) + a4(0x14b))), Tenant_1 = __importDefault(require(a4(0xed) + a3(0x10f))), ShowTicketService_1 = __importDefault(require(a4(0x138) + a4(0x13e))), socketEmit_1 = __importDefault(require(a4(0x10a) + a4(0x119) + a4(0x114))), uuid_1 = require(a3(0x128)), CreateMessageSystemService_1 = __importDefault(require(a4(0x12a) + a3(0xde) + a4(0x148) + a4(0xf9) + a3(0x130))), Contact_1 = __importDefault(require(a4(0xed) + a3(0xfc))), FindUpdateTicketsautoClose = async () => {
        const a6 = a4, a7 = a4, s = {
                'wlOqR': a6(0x111),
                'MNgaZ': a6(0xdf),
                'ecsqz': a7(0xe2),
                'NUGRW': a6(0x107) + a7(0x12c),
                'VcDTE': a6(0x149) + a6(0x12d),
                'GtwCm': function (t, u) {
                    return t === u;
                },
                'RSaHa': a6(0xdd),
                'pmYDz': a7(0x10d),
                'YSonk': function (t, u) {
                    return t === u;
                },
                'oCOvq': function (t, u) {
                    return t / u;
                },
                'fcYDQ': function (t, u) {
                    return t * u;
                },
                'FICvX': function (t, u) {
                    return t(u);
                },
                'oPaRM': function (t, u) {
                    return t > u;
                },
                'EePfO': function (t, u) {
                    return t - u;
                },
                'LYoOy': a6(0x101) + a6(0xeb) + a6(0x124),
                'aVkdu': a7(0x134),
                'XKaiv': a6(0xfb),
                'FRbRs': a7(0x11e),
                'ByCdN': a6(0xf3) + a6(0x11b),
                'exxth': function (t, u) {
                    return t + u;
                },
                'GqnRX': a7(0x115) + a6(0xf2) + a7(0xf7) + a6(0x11d) + a7(0xe4),
                'DUfAG': function (t, u) {
                    return t + u;
                },
                'VXJOf': a7(0x115) + a6(0xf2) + a7(0x136) + a6(0x13a)
            };
        try {
            const t = {};
            t[a7(0xd9)] = [[
                    s[a6(0x146)],
                    s[a7(0x143)]
                ]];
            const u = await Tenant_1[a6(0xdc)][a7(0x131)](t);
            for (const v of u) {
                const w = v['id'], x = {};
                x[a7(0x106)] = s[a7(0x13d)], x[a7(0x13f)] = w;
                const y = {};
                y[a7(0xe9)] = x;
                const z = await Setting_1[a6(0xdc)][a7(0xf8)](y), A = {};
                A[a6(0x106)] = s[a7(0x108)], A[a7(0x13f)] = w;
                const B = {};
                B[a7(0xe9)] = A;
                const C = await Setting_1[a7(0xdc)][a6(0xf8)](B), D = {};
                D[a6(0x106)] = s[a6(0x103)], D[a6(0x13f)] = w;
                const E = {};
                E[a7(0xe9)] = D;
                const F = await Setting_1[a7(0xdc)][a6(0xf8)](E);
                if (s[a7(0xe5)](z?.[a7(0x117)], s[a6(0x11a)])) {
                    const G = {};
                    G[a6(0x13f)] = w, G[a6(0x122)] = s[a6(0x110)];
                    const H = {};
                    H[a6(0xfd)] = Contact_1[a6(0xdc)];
                    const I = {};
                    I[a6(0xe9)] = G, I[a7(0xf1)] = [H];
                    const J = await Ticket_1[a7(0xdc)][a6(0x131)](I);
                    for (const K of J) {
                        if (s[a6(0x121)](K[a6(0xf0)], ![]))
                            continue;
                        const L = Math[a7(0x112)](s[a6(0xfe)](Date[a7(0x100)](), -0xd8e + -0x1 * -0x516 + 0x4 * 0x318)), M = Math[a7(0x112)](s[a6(0xfe)](K[a7(0x142) + a6(0x104)], -0x1c05 + -0x2c + 0x2019)), N = C ? s[a6(0xe7)](s[a7(0x118)](parseInt, C[a6(0x117)]), -0x98 * -0x2f + -0x1 * 0x22a1 + -0x1 * -0x6f5) : 0x2433 + -0x6d * -0xf + -0x2a96;
                        if (s[a6(0xe8)](s[a7(0xda)](L, M), N)) {
                            const O = F?.[a7(0x117)] || s[a6(0x141)], P = O, Q = {};
                            Q[a6(0x137)] = P, Q[a6(0x12f)] = !![], Q[a6(0xea)] = !![], Q[a6(0xf5)] = s[a6(0x13b)];
                            const R = Q, S = (-0x6ef * -0x5 + 0x4df * -0x2 + 0x1 * -0x18ed, uuid_1['v4'])(), T = {};
                            T[a7(0xec)] = R, T[a7(0x13f)] = K[a7(0x13f)], T[a6(0x105)] = K, T[a6(0xf5)] = R[a7(0xf5)], T[a7(0x122)] = s[a7(0x126)], T[a6(0x14a)] = S;
                            const U = T;
                            K[a7(0xef)] && K[a6(0xef)][a7(0x111)] ? await (-0x351 * 0x9 + -0x1 * -0x1615 + -0x3e2 * -0x2, CreateMessageSystemService_1[a6(0xdc)])(U) : console[a7(0x102)](a7(0xff) + a6(0x125) + a7(0x13c) + a6(0x109) + a7(0x144) + ':\x20' + K['id']);
                            try {
                                const V = {};
                                V[a7(0x122)] = s[a7(0xe6)], await K[a6(0x133)](V);
                                const W = {};
                                W['id'] = K['id'], W[a6(0x13f)] = K[a7(0x13f)];
                                const X = await (-0x4 * -0x9b5 + -0x17fc + -0x98 * 0x19, ShowTicketService_1[a6(0xdc)])(W), Y = {};
                                Y[a6(0x13f)] = K[a7(0x13f)], Y[a7(0x11c)] = s[a6(0x116)], Y[a7(0x113)] = X, (-0xec1 + 0x1ced + -0x2 * 0x716, socketEmit_1[a7(0xdc)])(Y);
                            } catch (Z) {
                                logger_1[a6(0x10b)][a6(0x102)](s[a6(0x10c)](s[a7(0x123)], JSON[a7(0x10e)](Z)));
                            }
                        }
                    }
                }
            }
        } catch (a0) {
            logger_1[a6(0x10b)][a7(0x102)](s[a6(0x135)](s[a7(0x12e)], JSON[a6(0x10e)](a0)));
        }
    };
exports[a3(0xdc)] = FindUpdateTicketsautoClose;