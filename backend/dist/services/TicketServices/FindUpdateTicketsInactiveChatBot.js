'use strict';
const L = b, M = b;
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x1b61 + -0xe01 + 0x2a9d);
        let h = e[f];
        return h;
    }, b(c, d);
}
(function (c, d) {
    const J = b, K = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(J(0x13c)) / (0x1ec8 + -0x14fd + 0x4e5 * -0x2) * (parseInt(J(0x13d)) / (-0x161a + -0x1d94 + 0x33b0)) + -parseInt(K(0x151)) / (0x44 * 0x1 + 0x511 + 0x3 * -0x1c6) + -parseInt(K(0x141)) / (0x1 * -0xe5a + 0x151f + -0x13 * 0x5b) + -parseInt(K(0x1bf)) / (-0x1af7 + -0x924 + -0x2420 * -0x1) * (-parseInt(K(0x172)) / (0xd09 * -0x1 + -0x1653 + -0x2 * -0x11b1)) + parseInt(J(0x206)) / (0x1b * 0x16f + -0x206e + -0x640) + -parseInt(K(0x14e)) / (-0x17bb + 0xe46 + 0x97d) * (-parseInt(J(0x1f8)) / (-0x1768 + 0x1cb * -0x11 + 0x35ec)) + -parseInt(K(0x1a6)) / (-0x1d48 + 0x1b0a + 0x2 * 0x124);
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, -0xb * -0x467d + 0x184482 + -0xd2263));
function a() {
    const S = [
        'destiny',
        'o\x20encontra',
        'TZejM',
        'QueryTypes',
        'msg',
        'XgOKv',
        '-\x20concat(c',
        'mIRQA',
        'geSystemSe',
        'default',
        '\x20join\x20late',
        '7928508pVHYdd',
        'ImnZp',
        'pending',
        '\x20t\x0a\x20\x20\x20\x20inn',
        'ls/Ticket',
        'id,\x0a\x20\x20\x20\x20\x20\x20',
        'TIMESTAMP\x20',
        'sendType',
        'ns\x27->\x27notR',
        'ResponseMe',
        'EzNMP',
        'nTMhj',
        'ral\x20json_a',
        'here\x20t.sta',
        'iar\x20o\x20log\x20',
        '3662BCGsMC',
        '268JvsIWa',
        '=\x20\x27configu',
        '->>\x27type\x27\x20',
        'reload',
        '5822924ZsJATd',
        'ticket\x20ID:',
        'l\x20message',
        'IkNaq',
        '\x20and\x20(t.\x22q',
        'DntfJ',
        'hgkLK',
        'JaTiC',
        'raeVk',
        'ahmpn',
        'defineProp',
        'lastIntera',
        'fMJYZ',
        '24QKXfiW',
        'findByPk',
        'eMessage\x27-',
        '1123842LaBVIL',
        'body',
        'onfig->\x27co',
        'tenantId',
        'w->\x27nodeLi',
        '\x20encontrad',
        'nId',
        '>\x27message\x27',
        'Services/C',
        'ijxrI',
        'swiLr',
        'reateMessa',
        'vice',
        't\x0a\x20\x20\x20\x20\x20\x20t.',
        'ons\x27->\x27not',
        'o.\x20ID\x20do\x20t',
        'FiYxy',
        'Id\x22\x20and\x20cf',
        'payload',
        'integratio',
        'iny\x27\x20as\x20de',
        'nantId\x22\x20=\x20',
        'fault',
        'autoClose',
        'er\x20join\x20\x22C',
        'st\x27)\x20as\x20co',
        'Message',
        'ponseMessa',
        '.id\x20=\x20t.\x22c',
        'tus\x20=\x20\x27pen',
        'nfiguratio',
        'cBnAJ',
        'read',
        '8763618MbHPmp',
        'bot',
        'cThkE',
        '\x0a\x20\x20\x20\x20selec',
        'sage\x27->\x27ti',
        'message',
        'Total\x20de\x20t',
        'LAMwD',
        'and\x20config',
        'UMvQm',
        'WXPzC',
        'status',
        '\x20null\x20and\x20',
        'ueueId\x22\x20is',
        'type_actio',
        'ticketId',
        'map',
        'notRespons',
        '../../mode',
        'ntrados:',
        'ding\x27\x0a\x20\x20\x20\x20',
        '<\x20CURRENT_',
        'nfig\x0a\x20\x20\x20\x20w',
        'rations\x27\x0a\x20',
        'erty',
        'length',
        'e\x0a\x20\x20\x20\x20from',
        'ssage\x27->\x27t',
        'useIntegra',
        'grMLc',
        'uuid',
        'sequelize',
        'ocessar\x20o\x20',
        'UTES\x27)::in',
        '../Message',
        '__importDe',
        'esponseMes',
        'Contato\x20nã',
        'ers/socket',
        'type',
        '__esModule',
        'bmXDX',
        '../../help',
        'Mjqfc',
        'SvPtr',
        'cEVin',
        '\x20is\x20null)\x0a',
        't.\x22userId\x22',
        'EWQYn',
        '>\x27configur',
        'tion',
        'hatFlowId\x22',
        '3599510bNUNKB',
        'ticket',
        'include',
        'Ticket\x20não',
        '\x0a\x20\x20\x20\x20cross',
        'MZkzb',
        'nts(cf.flo',
        'Erro\x20ao\x20pr',
        'f\x20on\x20t.\x22te',
        'ate',
        'closed',
        '\x20\x20\x20config-',
        'warn',
        '\x20do\x20ticket',
        '\x0a\x20\x20\x20\x20\x20\x20con',
        'Erro\x20ao\x20cr',
        'number',
        'value',
        'config->\x27c',
        'ations\x27->\x27',
        'tivos\x20enco',
        'nUZkA',
        'YPkXm',
        'ZHYGJ',
        'zHEoB',
        '5DEYXXo',
        'vWnNd',
        'update',
        'jhhib',
        'error',
        'fig->\x27conf',
        'queueId',
        'SELECT',
        'me\x27,\x20\x27\x20MIN',
        'ge\x27->\x27dest',
        'ctionBot\x22\x20',
        '\x20as\x20messag',
        'tMtwj',
        'log',
        'do\x20para\x20o\x20',
        'DSDLI',
        'stiny,\x0a\x20\x20\x20',
        'contact',
        'idFront',
        'all',
        'name',
        'PhvRC',
        'HpVVC',
        'gogGe',
        'icket:\x20',
        'cf.\x22tenant',
        'pe_action,',
        'Emit',
        'eHLWG',
        'ype\x27\x20as\x20ty',
        'rvice',
        'igurations',
        '\x20\x20\x20and\x20t.\x22',
        'egrationsI',
        'ticket:upd',
        'pMWYq',
        'ickets\x20ina',
        'isFarewell',
        'terval\x0a\x20\x20\x20',
        './CreateLo',
        'EcmIX',
        'qmapm',
        '\x20\x22Tickets\x22',
        'ticket.\x20ID',
        'userId',
        'sLoua',
        'hatFlow\x22\x20c',
        'ers/GetInt',
        'LBIRb',
        'rray_eleme',
        'fromMe',
        '\x27->\x27notRes',
        'gENSy',
        'onfigurati',
        'No\x20farewel',
        'gTicketSer',
        'query',
        '103401fNZvsI',
        'ouNqK',
        'do\x20ticket:'
    ];
    a = function () {
        return S;
    };
    return a();
}
var __importDefault = this && this[L(0x195) + L(0x167)] || function (c) {
    const N = M;
    return c && c[N(0x19a)] ? c : { 'default': c };
};
const k = {};
k[L(0x1b7)] = !![], Object[L(0x14b) + M(0x18a)](exports, M(0x19a), k);
const sequelize_1 = require(M(0x191)), Ticket_1 = __importDefault(require(M(0x184) + L(0x20a))), socketEmit_1 = __importDefault(require(M(0x19c) + L(0x198) + M(0x1da))), CreateLogTicketService_1 = __importDefault(require(M(0x1e6) + M(0x1f6) + L(0x15d))), CreateMessageSystemService_1 = __importDefault(require(M(0x194) + L(0x159) + M(0x15c) + L(0x203) + L(0x1dd))), uuid_1 = require(M(0x190)), GetIntegrationsID_1 = __importDefault(require(M(0x19c) + M(0x1ee) + M(0x1e0) + 'D')), FindUpdateTicketsInactiveChatBot = async () => {
        const O = L, P = M, e = {};
        e[O(0x14a)] = O(0x1b5) + P(0x13b) + P(0x1fa), e[O(0x1fd)] = function (j, l) {
            return j != l;
        }, e[P(0x207)] = function (j, l) {
            return j === l;
        }, e[P(0x19d)] = O(0x200), e[P(0x179)] = P(0x1d0), e[P(0x1bd)] = function (j, l) {
            return j !== l;
        }, e[P(0x1bc)] = O(0x1d4), e[O(0x1d6)] = O(0x19e), e[O(0x1ce)] = function (j, l) {
            return j == l;
        }, e[O(0x1db)] = function (j, l) {
            return j !== l;
        }, e[P(0x17b)] = P(0x1bb), e[P(0x1a2)] = P(0x174), e[P(0x15b)] = function (j, l) {
            return j === l;
        }, e[P(0x1c0)] = P(0x1b6), e[P(0x1e2)] = O(0x1be), e[O(0x1ab)] = O(0x15a), e[O(0x149)] = O(0x1ec), e[O(0x1f9)] = function (j, l) {
            return j == l;
        }, e[O(0x1d5)] = function (j, l) {
            return j === l;
        }, e[P(0x18f)] = O(0x211), e[P(0x1e8)] = function (j, l) {
            return j == l;
        }, e[O(0x1f3)] = P(0x1b0), e[P(0x17c)] = P(0x168), e[O(0x148)] = P(0x1f5) + P(0x143), e[P(0x1e7)] = function (j, l) {
            return j === l;
        }, e[P(0x161)] = O(0x14d), e[O(0x19f)] = O(0x210), e[O(0x144)] = O(0x1c2), e[O(0x1ef)] = P(0x173), e[P(0x1cb)] = P(0x208), e[O(0x202)] = function (j, l) {
            return j === l;
        }, e[P(0x147)] = O(0x170), e[P(0x146)] = P(0x1e1) + P(0x1af), e[O(0x19b)] = O(0x178) + O(0x1e3) + O(0x1ba) + O(0x185);
        const f = e, g = P(0x175) + P(0x15e) + O(0x20b) + O(0x1b8) + O(0x1f4) + O(0x15f) + P(0x20f) + P(0x18d) + O(0x1dc) + O(0x1d9) + O(0x1b4) + O(0x1c4) + P(0x1de) + P(0x1f2) + O(0x16c) + P(0x1c8) + O(0x165) + O(0x1cf) + O(0x1b1) + P(0x1a3) + P(0x1b9) + O(0x183) + P(0x150) + O(0x158) + O(0x1ca) + P(0x18c) + P(0x1e9) + P(0x209) + P(0x169) + O(0x1ed) + P(0x1ae) + P(0x166) + P(0x1d8) + O(0x162) + P(0x16d) + O(0x1a5) + O(0x1aa) + P(0x205) + P(0x212) + O(0x1f0) + P(0x1ac) + O(0x155) + P(0x16a) + P(0x188) + P(0x213) + O(0x16e) + P(0x186) + P(0x17a) + P(0x13f) + P(0x13e) + P(0x189) + O(0x1df) + P(0x14c) + P(0x1c9) + O(0x187) + O(0x20c) + O(0x201) + P(0x153) + P(0x16f) + P(0x20e) + P(0x196) + O(0x176) + O(0x1c7) + O(0x193) + P(0x1e5) + O(0x145) + O(0x17f) + P(0x17e) + P(0x1a1) + O(0x1a0) + '\x20\x20', h = {};
        h[P(0x199)] = sequelize_1[O(0x1fe)][O(0x1c6)];
        const i = await Ticket_1[O(0x204)][O(0x191)]?.[O(0x1f7)](g, h);
        console[O(0x1cc)](f[P(0x19b)], i[P(0x18b)]), await Promise[P(0x1d2)](i[P(0x182)](async j => {
            const Q = P, R = P;
            try {
                if (!j[Q(0x1fb)] && f[R(0x1fd)](j[Q(0x180) + 'n'], -0xb * -0x89 + -0xb9e * 0x2 + 0x115c)) {
                    if (f[Q(0x207)](f[Q(0x19d)], f[R(0x19d)]))
                        return;
                    else
                        f[Q(0x1c3)](R(0x1ad) + R(0x192) + R(0x142) + '\x20' + g['id'], h);
                }
                const l = {};
                l[Q(0x1a8)] = [f[R(0x179)]];
                const m = await Ticket_1[Q(0x204)][R(0x14f)](j['id'], l);
                if (!m) {
                    if (f[Q(0x1bd)](f[Q(0x1bc)], f[R(0x1d6)])) {
                        console[R(0x1b2)](R(0x1a9) + Q(0x156) + R(0x160) + R(0x1d7) + j['id']);
                        return;
                    } else
                        f[Q(0x18e) + Q(0x1a4)] = !![], g[R(0x164) + Q(0x157)] = h;
                }
                const n = {
                    'chatFlowId': null,
                    'stepChatFlow': null,
                    'botRetries': 0x0,
                    'lastInteractionBot': new Date()
                };
                if (f[R(0x1ce)](j[Q(0x180) + 'n'], -0x189c + 0xab1 + -0x42 * -0x36)) {
                    if (f[Q(0x1db)](f[Q(0x17b)], f[R(0x1a2)])) {
                        n[Q(0x1c5)] = j[Q(0x1fb)];
                        const r = await (-0x2313 + 0x132b * -0x1 + -0x1 * -0x363e, GetIntegrationsID_1[R(0x204)])(j[R(0x1fb)]);
                        if (f[Q(0x15b)](typeof r, f[R(0x1c0)])) {
                            if (f[Q(0x1db)](f[R(0x1e2)], f[Q(0x1e2)])) {
                                const t = {};
                                return t[Q(0x204)] = j, g && h[Q(0x19a)] ? o : t;
                            } else
                                n[Q(0x18e) + R(0x1a4)] = !![], n[R(0x164) + Q(0x157)] = r;
                        } else
                            f[R(0x207)](f[Q(0x1ab)], f[R(0x149)]) ? l[R(0x1c3)](f[R(0x14a)], f) : (n[R(0x18e) + Q(0x1a4)] = ![], n[Q(0x164) + Q(0x157)] = null);
                    } else
                        l[R(0x1b2)](R(0x197) + Q(0x1fc) + Q(0x1cd) + R(0x1ea) + R(0x1b3) + ':\x20' + f['id']);
                }
                if (f[Q(0x1f9)](j[R(0x180) + 'n'], -0x2553 + -0x17ab * -0x1 + 0xdaa)) {
                    if (f[R(0x1d5)](f[R(0x18f)], f[R(0x18f)]))
                        n[R(0x1eb)] = j[R(0x1fb)];
                    else {
                        l[Q(0x1b2)](R(0x1a9) + R(0x156) + R(0x160) + R(0x1d7) + f['id']);
                        return;
                    }
                }
                if (f[Q(0x1e8)](j[R(0x180) + 'n'], -0x5 * 0x69d + 0x1 * 0xa3d + 0x16d7)) {
                    n[R(0x1e4) + R(0x16b)] = !![], n[R(0x17d)] = f[Q(0x1f3)];
                    const w = {};
                    w[R(0x181)] = j['id'], w[R(0x199)] = f[Q(0x17c)], w[R(0x177)] = j[R(0x177)] || f[Q(0x148)];
                    const x = w;
                    try {
                        if (f[R(0x1e7)](f[R(0x161)], f[Q(0x161)]))
                            await (0x264d + 0x1798 + 0x1 * -0x3de5, CreateLogTicketService_1[R(0x204)])(x);
                        else
                            return;
                    } catch (z) {
                        f[Q(0x15b)](f[R(0x19f)], f[Q(0x144)]) ? l[Q(0x1eb)] = w[Q(0x1fb)] : console[R(0x1c3)](f[Q(0x14a)], z);
                    }
                    if (j[R(0x177)]) {
                        const B = j[R(0x177)], C = {};
                        C[R(0x152)] = B, C[R(0x1f1)] = !![], C[Q(0x171)] = !![], C[Q(0x20d)] = f[R(0x1ef)];
                        const D = C, E = (-0x10ca + -0x3 * -0x99d + -0xc0d, uuid_1['v4'])(), F = {};
                        F[R(0x1ff)] = D, F[Q(0x154)] = m[Q(0x154)], F[R(0x1a7)] = m, F[R(0x20d)] = D[Q(0x20d)], F[Q(0x17d)] = f[Q(0x1cb)], F[Q(0x1d1)] = E;
                        const G = F;
                        m[Q(0x1d0)] && m[Q(0x1d0)][Q(0x1d3)] ? f[Q(0x202)](f[R(0x147)], f[R(0x147)]) ? await (-0xd84 + 0xe2 * -0x1 + -0xc2 * -0x13, CreateMessageSystemService_1[Q(0x204)])(G) : (l[Q(0x18e) + Q(0x1a4)] = ![], w[Q(0x164) + R(0x157)] = null) : console[R(0x1b2)](R(0x197) + Q(0x1fc) + Q(0x1cd) + R(0x1ea) + R(0x1b3) + ':\x20' + m['id']);
                    }
                }
                await m[Q(0x1c1)](n), await m[Q(0x140)]();
                const o = {};
                o[Q(0x154)] = m[Q(0x154)], o[R(0x199)] = f[Q(0x146)], o[Q(0x163)] = m, (-0x1 * -0x7ed + -0x1 * 0x206a + 0x187d, socketEmit_1[R(0x204)])(o);
            } catch (I) {
                console[Q(0x1c3)](R(0x1ad) + Q(0x192) + R(0x142) + '\x20' + j['id'], I);
            }
        }));
    };
exports[M(0x204)] = FindUpdateTicketsInactiveChatBot;