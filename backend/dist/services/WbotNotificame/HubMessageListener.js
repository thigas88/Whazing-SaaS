'use strict';
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - (-0x539 + 0xd82 + -0xa * 0xaf);
        let h = e[f];
        return h;
    }, b(c, d);
}
const ax = b, ay = b;
(function (c, d) {
    const av = b, aw = b, e = c();
    while (!![]) {
        try {
            const f = parseInt(av(0x178)) / (-0x239 + 0x1 * 0x2443 + -0x1 * 0x2209) * (parseInt(aw(0x26e)) / (-0xb7 + -0x242b + 0x24e4)) + parseInt(aw(0x201)) / (-0x143 * -0x3 + 0x41f + -0x7e5) + -parseInt(av(0x25a)) / (-0x128c + 0x1b4f + -0x1 * 0x8bf) * (-parseInt(aw(0x1ef)) / (-0x2678 + 0x1 * -0x1d99 + 0x4416)) + -parseInt(aw(0x21d)) / (0x6 * 0x169 + -0x1b67 + 0x5 * 0x3cb) * (-parseInt(aw(0x1be)) / (0x3 * 0x9de + -0x2345 + -0x6 * -0xf3)) + -parseInt(aw(0x222)) / (-0x67 * 0x5b + 0x956 + 0x1b4f) * (-parseInt(aw(0x28f)) / (-0x21 * 0xd + 0x740 + -0x58a)) + -parseInt(aw(0x17f)) / (0x94e + -0x1f8 * -0xc + 0x34a * -0xa) * (-parseInt(aw(0x252)) / (0x121e + -0x7b2 + 0xa61 * -0x1)) + -parseInt(av(0x258)) / (-0x602 + -0xa9 * 0x3 + 0x809) * (parseInt(av(0x211)) / (-0x1355 * -0x1 + -0x26ea + 0x13a2));
            if (f === d)
                break;
            else
                e['push'](e['shift']());
        } catch (g) {
            e['push'](e['shift']());
        }
    }
}(a, 0x14705 + 0x4283 * -0x16 + 0x74d48));
var __importDefault = this && this[ax(0x1b2) + ay(0x2a5)] || function (c) {
    const az = ay;
    return c && c[az(0x2a6)] ? c : { 'default': c };
};
const z = {};
z[ax(0x1a7)] = !![], Object[ay(0x1de) + ay(0x188)](exports, ax(0x2a6), z);
function a() {
    const aG = [
        'typebot',
        'tMYWN',
        'xFsNH',
        'VdaKy',
        'KoPvO',
        '../../util',
        'LRfZc',
        'openai',
        'BgALD',
        'GONuN',
        'icket',
        'toFormat',
        'SvYlM',
        'XpyPg',
        'LgQtf',
        'lZMrO',
        'HubMessage',
        'useIntegra',
        'transcript',
        'jMQpK',
        'adFiles',
        'handleRati',
        'Nhhfc',
        'WRDnO',
        '\x20-\x20',
        'peg',
        'EYjOa',
        'type',
        '.mp4',
        '../../libs',
        'end',
        '2789831RXXupK',
        'pending',
        'Cpfot',
        'frLfH',
        'CFFyX',
        'DfAoN',
        '84nLsnyw',
        'groq',
        '12xxxHnB',
        'audio',
        'getTime',
        'PCZbA',
        'QEPMq',
        'channel',
        'YhCgf',
        'the\x20media\x20',
        'hodaQ',
        './public/',
        'ers/Downlo',
        'story',
        'bAUcW',
        'tenantId',
        'soIdI',
        'BusinessHo',
        'fromMe',
        'findOne',
        'code',
        'jzfKX',
        '215006hGysCG',
        'ers/GetInt',
        'lBXIC',
        'Unable\x20to\x20',
        'update',
        'uxwjB',
        'ssageServi',
        'eateContac',
        'wServices/',
        'Hook',
        'HkEiO',
        '../../mode',
        't\x20sent\x20',
        'HSunf',
        'e/verifyRa',
        'ticket',
        '../ChatFlo',
        'Error\x20tran',
        'groq-sdk',
        'default',
        '../WbotSer',
        'tService',
        'XisHK',
        'aauFK',
        'rQNXQ',
        'pqbdM',
        's/logger',
        'Groq',
        'eSNmZ',
        '.mp3',
        'fileName',
        'sZiLw',
        'ype',
        '9LXZyKJ',
        'udio:',
        'OtJxT',
        'VerifyStep',
        'unknown',
        'originalna',
        'rtWHD',
        'wzyGg',
        'Stream',
        'kceHg',
        'filename',
        '../TicketS',
        'hdVuR',
        'cacheLayer',
        'mp3',
        'nId',
        'ces/handle',
        '/cache',
        'CYfni',
        'Erro\x20ao\x20te',
        'downloadFi',
        'NQRDb',
        'fault',
        '__esModule',
        'OQRkr',
        'VARiq',
        'integratio',
        'yoLJG',
        'disabled',
        'pTwTa',
        'replace',
        'msg',
        'QekeG',
        'urs',
        'ers/CheckS',
        'Listener:\x20',
        'from',
        'status',
        'MessageTyp',
        'AvuqW',
        'ZRBAm',
        'QDQOh',
        '1luJdji',
        'OpenAi',
        'body',
        'QOopT',
        'RSAmh',
        'XvBOr',
        'SENT',
        '10isyhUg',
        'oTiyU',
        'DFnsb',
        'contactId',
        'groupConta',
        'vices/help',
        'split',
        'FtkGJ',
        'IrDyG',
        'erty',
        'mimeType',
        'ntar\x20trans',
        'Ovagu',
        'logger',
        'tTUeB',
        'aahZA',
        'LgboS',
        'ojPzC',
        'ice',
        'DvICi',
        'ZulCU',
        'OUT',
        'Szjjq',
        './CreateMe',
        'mediaType',
        'direction',
        'payload',
        'ETrgS',
        'nt\x20',
        'ions',
        'ers/socket',
        'ls/Whatsap',
        'MQXtu',
        'whisper-la',
        'KCMvy',
        'text',
        'TmZrs',
        'uxVoY',
        'jRQqm',
        'string',
        'value',
        'Yolgo',
        'sChatFlowT',
        'dnzvo',
        'ATUS',
        'LxQBb',
        'ssageAck',
        'ionkey',
        'zuOUV',
        'qcYti',
        'MESSAGE_ST',
        '__importDe',
        'json',
        'OLopg',
        'hub_',
        'RXELZ',
        './FindOrCr',
        'BRzVz',
        'DlUdo',
        'ant1',
        'set',
        'ageAck',
        'rVvQC',
        '224vOyOck',
        'setFfmpegP',
        'rniPV',
        'Emit',
        'ndOrCreate',
        'ffmpeg-sta',
        '../UserRat',
        'MessageWeb',
        'GaFPb',
        'warn',
        'url',
        'egrationsT',
        'lastMessag',
        'create',
        'ekker',
        'e/handleRa',
        'tionsServi',
        'ages',
        'originalNa',
        'whatsapp',
        'qMFmM',
        'apiKey',
        'unlinkSync',
        'KhWxw',
        'vGHIJ',
        'ticket:upd',
        'messageSta',
        'wrKoE',
        'CQfKV',
        'isFarewell',
        'tion',
        'IiQMv',
        'defineProp',
        'ate',
        'messageId',
        'formar\x20aud',
        'hjEDt',
        'tus',
        'ers/Verify',
        'XyLPb',
        'chat',
        'qkyrC',
        'message\x20no',
        'erXQo',
        'QrJte',
        'pvGxy',
        'noOwV',
        'lxvgv',
        'nTloq',
        '297960lzyaJp',
        'ath',
        'ettingsten',
        'tFIlZ',
        'OLLBT',
        'dZXkL',
        'determine\x20',
        'EvYhv',
        'EWihb',
        'Message',
        'les',
        'FDLtn',
        'squEo',
        'n8n',
        'KSWkZ',
        'fileUrl',
        'JiWjy',
        './UpdateMe',
        '357783rJZNmC',
        'HandleMess',
        'get',
        'cMXMR',
        '../Integra',
        'rge-v3',
        'ticketId',
        'pop',
        'ebotHub',
        'ingsServic',
        'descriptio',
        'ICPiu',
        'tic',
        'NkKIj',
        'message\x20se',
        'TicketServ',
        '1911377cpBLMm',
        'oeabr',
        'ervices/Fi',
        'cEUzA',
        'error',
        'contacts:',
        'contact',
        'nQqRH',
        'ion',
        'e4\x20',
        'NAUCO',
        ':unreads',
        '68064ubZTqL',
        'userCreati',
        'createRead',
        'unreadMess',
        'fRzXZ',
        '1557544tzcbQJ',
        'scribing\x20a',
        'where',
        'whatsappId',
        'UpdateMess',
        'fluent-ffm',
        'io\x20em\x20text',
        '../../help',
        'verifyRati',
        'ces/Handle',
        'zRjqp',
        'info',
        'PNlNh',
        'ageWebHook',
        'ting',
        'save',
        'MbMOi'
    ];
    a = function () {
        return aG;
    };
    return a();
}
const fluent_ffmpeg_1 = __importDefault(require(ax(0x227) + ay(0x24c))), ffmpeg_static_1 = __importDefault(require(ax(0x1c3) + ax(0x20d))), groq_sdk_1 = __importDefault(require(ay(0x280))), Whatsapp_1 = __importDefault(require(ax(0x279) + ax(0x19e) + 'p')), socketEmit_1 = __importDefault(require(ay(0x229) + ax(0x19d) + ax(0x1c1))), DownloadFiles_1 = require(ax(0x229) + ay(0x264) + ay(0x247)), logger_1 = require(ax(0x238) + ay(0x288)), CreateMessageService_1 = __importDefault(require(ax(0x196) + ax(0x274) + 'ce')), FindOrCreateContactService_1 = __importDefault(require(ay(0x1b7) + ax(0x275) + ax(0x283))), UpdateMessageAck_1 = require(ax(0x200) + ax(0x1ad)), FindOrCreateTicketService_1 = __importDefault(require(ax(0x29a) + ax(0x213) + ax(0x1c2) + ax(0x210) + ax(0x191))), VerifyStepsChatFlowTicket_1 = __importDefault(require(ax(0x27e) + ax(0x276) + ay(0x292) + ax(0x1a9) + ax(0x23d))), VerifyBusinessHours_1 = __importDefault(require(ay(0x282) + ay(0x184) + ax(0x1e4) + ay(0x269) + ay(0x2b0))), cache_1 = require(ax(0x250) + ax(0x2a0)), CheckSettingstenant1_1 = __importDefault(require(ay(0x229) + ax(0x2b1) + ax(0x1f1) + ax(0x1ba))), verifyRating_1 = require(ax(0x1c4) + ax(0x20a) + ay(0x27c) + ay(0x230)), handleRating_1 = require(ay(0x1c4) + ax(0x20a) + ax(0x1cd) + ax(0x230)), HandleMessageWebHook_1 = require(ax(0x205) + ax(0x1ce) + ax(0x22b) + ay(0x1c5) + ay(0x277)), HandleMessageTypebotHub_1 = __importDefault(require(ay(0x205) + ax(0x1ce) + ax(0x22b) + ax(0x174) + ax(0x209))), handleOpenAi_1 = __importDefault(require(ax(0x205) + ax(0x1ce) + ax(0x29f) + ay(0x179))), handleGroq_1 = __importDefault(require(ax(0x205) + ax(0x1ce) + ay(0x29f) + ay(0x289))), GetIntegrationsType_1 = __importDefault(require(ax(0x229) + ax(0x26f) + ay(0x1c9) + ax(0x28e)));
fluent_ffmpeg_1[ay(0x281)][ax(0x1bf) + ax(0x1f0)](ffmpeg_static_1[ax(0x281)]);
const fs = require('fs'), verifySentMessageStatus = c => {
        const aA = ax, aB = ax, d = {
                'zuOUV': function (g, h) {
                    return g(h);
                },
                'KCMvy': aA(0x243) + aB(0x2b2) + aB(0x20f) + aB(0x19b),
                'eSNmZ': function (g, h) {
                    return g === h;
                },
                'DfAoN': aB(0x17e),
                'Yolgo': function (g, h) {
                    return g !== h;
                },
                'MQXtu': aA(0x266),
                'SvYlM': aA(0x260)
            }, {
                messageStatus: {code: e}
            } = c, f = d[aA(0x28a)](e, d[aB(0x257)]);
        if (f) {
            if (d[aB(0x1a8)](d[aA(0x19f)], d[aA(0x23f)]))
                return !![];
            else {
                const h = d[aB(0x1af)](k, l);
                h ? (s[aB(0x18c)][aA(0x22d)](d[aA(0x1a1)]), (0x1 * -0x24a1 + 0x499 + 0x2008, t[aA(0x226) + aB(0x1bc)])(u[aB(0x1e0)])) : v[aA(0x18c)][aB(0x22d)](aA(0x243) + aB(0x2b2) + aB(0x1e8) + aA(0x27a) + w[aB(0x1d8) + aA(0x1e3)][aA(0x26c)] + aA(0x24b) + x[aB(0x1d8) + aB(0x1e3)][aA(0x20b) + 'n']);
                return;
            }
        }
        return ![];
    }, HubMessageListener = async (r, s, t) => {
        const aC = ay, aD = ax, u = {
                'pvGxy': aC(0x243) + aC(0x2b2) + aC(0x20f) + aD(0x19b),
                'OLopg': aD(0x29d),
                'tTUeB': aC(0x251),
                'ETrgS': aC(0x215),
                'ICPiu': function (E, F) {
                    return E(F);
                },
                'GaFPb': function (E, F) {
                    return E === F;
                },
                'kceHg': aD(0x17e),
                'LxQBb': aD(0x271) + aC(0x1f5) + aC(0x261) + aD(0x24e),
                'lZMrO': aD(0x27f) + aD(0x223) + aC(0x290),
                'cEUzA': aD(0x2a2) + aD(0x18a) + aD(0x1e1) + aD(0x228) + 'o',
                'erXQo': function (E, F) {
                    return E === F;
                },
                'squEo': aD(0x221),
                'PCZbA': aC(0x17c),
                'FDLtn': aD(0x293),
                'DFnsb': function (E, F) {
                    return E === F;
                },
                'NQRDb': function (E, F) {
                    return E !== F;
                },
                'Nhhfc': aD(0x25e),
                'LgboS': aD(0x23c),
                'BRzVz': function (E, F) {
                    return E === F;
                },
                'QDQOh': aD(0x194),
                'QekeG': function (E, F) {
                    return E === F;
                },
                'nTloq': aC(0x1d2),
                'NAUCO': aC(0x1c0),
                'yoLJG': function (E, F) {
                    return E === F;
                },
                'nQqRH': aD(0x1b1) + aD(0x1ab),
                'aahZA': function (E, F) {
                    return E === F;
                },
                'IiQMv': aD(0x286),
                'jMQpK': aD(0x175),
                'KhWxw': function (E, F) {
                    return E !== F;
                },
                'DvICi': aC(0x1b6),
                'ZRBAm': function (E, F) {
                    return E === F;
                },
                'QOopT': aD(0x1f2),
                'EvYhv': aC(0x1b9),
                'pTwTa': aD(0x21e) + 'on',
                'KoPvO': aD(0x2ab),
                'OLLBT': function (E, F) {
                    return E === F;
                },
                'IrDyG': aC(0x285),
                'frLfH': aD(0x256),
                'cMXMR': aD(0x1a3),
                'EYjOa': function (E, F) {
                    return E === F;
                },
                'hodaQ': aC(0x1ea),
                'uxwjB': aD(0x23b),
                'PNlNh': function (E, F) {
                    return E + F;
                },
                'HSunf': aD(0x236),
                'dnzvo': function (E, F) {
                    return E(F);
                },
                'ojPzC': aD(0x1a2),
                'ekker': function (E, F) {
                    return E === F;
                },
                'tMYWN': aC(0x180),
                'soIdI': aD(0x212),
                'XvBOr': function (E, F) {
                    return E(F);
                },
                'pqbdM': function (E, F) {
                    return E || F;
                },
                'Cpfot': aC(0x1e6),
                'LgQtf': aC(0x1d7) + aD(0x1df),
                'XpyPg': function (E, F) {
                    return E === F;
                },
                'CYfni': aD(0x2a7),
                'VARiq': aD(0x232),
                'hdVuR': aD(0x1d9),
                'HkEiO': aC(0x270),
                'xFsNH': function (E, F) {
                    return E === F;
                },
                'rVvQC': aD(0x25b),
                'WRDnO': aC(0x193),
                'qcYti': aD(0x24f),
                'OtJxT': aC(0x28b),
                'sZiLw': aD(0x1f7),
                'rtWHD': aD(0x1da),
                'Ovagu': aC(0x20e),
                'LRfZc': aC(0x1a0) + aC(0x206),
                'FtkGJ': aC(0x1b3),
                'uxVoY': aC(0x22c),
                'wzyGg': aC(0x195),
                'jRQqm': aC(0x1a6),
                'qkyrC': aD(0x26d),
                'hjEDt': function (E, F) {
                    return E === F;
                },
                'dZXkL': aD(0x1fc),
                'noOwV': aD(0x233),
                'XyLPb': aC(0x253),
                'JiWjy': function (E, F) {
                    return E === F;
                },
                'vGHIJ': aC(0x23a),
                'XisHK': function (E, F) {
                    return E === F;
                },
                'lxvgv': aD(0x259),
                'KSWkZ': function (E, F) {
                    return E === F;
                }
            };
        u[aD(0x181)](r[aC(0x198)], 'IN') && (u[aD(0x2a4)](u[aD(0x249)], u[aD(0x18f)]) ? r[aC(0x26a)] = ![] : e[aD(0x18c)][aC(0x1c7)](aC(0x21a) + f));
        const v = u[aC(0x1b8)](r[aD(0x198)], u[aC(0x177)]);
        if (v) {
            if (u[aC(0x2af)](u[aC(0x1ee)], u[aD(0x21b)]))
                f[aD(0x18c)][aD(0x22d)](u[aC(0x1eb)]), (-0x12ca + 0x199 * -0x11 + 0x51b * 0x9, g[aD(0x226) + aD(0x1bc)])(h[aD(0x1e0)]);
            else
                return;
        }
        const w = u[aC(0x2aa)](r[aD(0x24e)], u[aD(0x218)]);
        if (w) {
            if (u[aD(0x18e)](u[aD(0x1dd)], u[aD(0x246)]))
                return;
            else {
                const H = u[aD(0x20c)](verifySentMessageStatus, r);
                if (H) {
                    if (u[aC(0x1d5)](u[aD(0x192)], u[aC(0x192)])) {
                        const J = {};
                        return J[aC(0x281)] = j, g && h[aD(0x2a6)] ? i : J;
                    } else
                        logger_1[aD(0x18c)][aD(0x22d)](u[aC(0x1eb)]), (0x1fc7 + 0x207b + -0x4042, UpdateMessageAck_1[aD(0x226) + aD(0x1bc)])(r[aC(0x1e0)]);
                } else
                    u[aC(0x176)](u[aC(0x17b)], u[aC(0x1f6)]) ? (-0x2ab * 0x1 + -0x2617 + -0x2 * -0x1461, h[aD(0x281)])(i)[aD(0x23e)](u[aC(0x1b4)])[aC(0x231)](j)['on'](u[aC(0x18d)], () => m())['on'](u[aC(0x19a)], K => m(K)) : logger_1[aD(0x18c)][aD(0x22d)](aD(0x243) + aD(0x2b2) + aC(0x1e8) + aD(0x27a) + r[aC(0x1d8) + aD(0x1e3)][aC(0x26c)] + aC(0x24b) + r[aD(0x1d8) + aC(0x1e3)][aD(0x20b) + 'n']);
                return;
            }
        }
        const x = await (-0x175f + 0x3fb * -0x3 + 0x2350, CheckSettingstenant1_1[aC(0x281)])(u[aC(0x2ac)]);
        if (u[aD(0x2a4)](x, u[aD(0x237)])) {
            if (u[aC(0x1f3)](u[aC(0x187)], u[aC(0x187)]))
                return;
            else
                e = f[aC(0x189)][aD(0x185)]('/')[-0x2339 + -0x111b + -0x3454 * -0x1];
        }
        const {
            message: {
                id: y,
                from: A,
                channel: B,
                contents: C,
                visitor: D
            }
        } = r;
        try {
            const L = { ...D };
            L[aC(0x2b3)] = A, L[aD(0x1d1)] = s, L[aC(0x25f)] = B;
            const M = await (0xe25 + 0xdf5 + -0x6d * 0x42, FindOrCreateContactService_1[aD(0x281)])(L);
            let N = 0x45 * -0x3f + 0x1fbb + -0x20 * 0x76;
            if (w)
                u[aD(0x2a4)](u[aC(0x255)], u[aD(0x204)]) ? await cache_1[aD(0x29c)][aD(0x1bb)](aC(0x216) + M['id'] + aD(0x21c), '0') : Q = f[0x1845 + -0xf82 + -0x8c3][aC(0x1fe)];
            else {
                if (u[aD(0x24d)](u[aC(0x262)], u[aC(0x273)]))
                    O[aD(0x26a)] = ![];
                else {
                    const V = await cache_1[aD(0x29c)][aC(0x203)](aC(0x216) + M['id'] + aC(0x21c));
                    N = u[aC(0x22e)](+V, 0x123 * 0x1a + 0x2040 + -0xd * 0x4c1), await cache_1[aC(0x29c)][aD(0x1bb)](aC(0x216) + M['id'] + aC(0x21c), '' + N);
                }
            }
            r[aC(0x17a)] = C[-0x1d80 + -0x74d + 0x1 * 0x24cd][aC(0x1a2)];
            const O = {};
            O[aD(0x182)] = M['id'], O[aD(0x225)] = s['id'], O[aC(0x267)] = s[aC(0x267)];
            const P = await (-0x2f6 * -0x2 + -0xd28 * -0x2 + -0x203c, verifyRating_1[aD(0x22a) + 'ng'])(O);
            if (P) {
                if (u[aD(0x181)](u[aC(0x27b)], u[aD(0x27b)])) {
                    const W = C[-0x5 * -0x5d9 + 0x3 * -0xc15 + -0x12b * -0x6][aC(0x1a2)];
                    (0x4e2 + 0x150b * -0x1 + 0x3 * 0x563, handleRating_1[aD(0x248) + 'ng'])(u[aC(0x1aa)](parseFloat, W), M['id'], s['id'], s[aC(0x267)]);
                    return;
                } else
                    return !![];
            }
            const Q = {};
            Q[aC(0x217)] = M, Q[aD(0x225)] = s['id'], Q[aC(0x220) + aD(0x1cf)] = N, Q[aC(0x267)] = s[aD(0x267)], Q[aD(0x183) + 'ct'] = undefined, Q[aD(0x2ae)] = r, Q[aD(0x25f)] = aC(0x1b5) + B;
            const R = await (-0x88 * 0x35 + -0x49c + 0x6 * 0x576, FindOrCreateTicketService_1[aC(0x281)])(Q);
            if (u[aC(0x24d)](C[0x35e * 0xb + 0x136e + -0x8 * 0x70f]?.[aC(0x24e)], u[aC(0x190)])) {
                if (u[aD(0x1cc)](u[aD(0x234)], u[aC(0x268)])) {
                    const Z = i[0x24ce + -0x179 + -0x2355][aD(0x1a2)];
                    (0x2cf * -0x9 + -0x5 * 0x1bb + 0x21ee, j[aD(0x248) + 'ng'])(u[aD(0x20c)](k, Z), l['id'], m['id'], n[aD(0x267)]);
                    return;
                } else {
                    await R[aC(0x272)]({
                        'lastMessage': u[aC(0x17d)](String, r[aC(0x17a)]),
                        'lastMessageAt': new Date()[aD(0x25c)](),
                        'answered': u[aD(0x287)](w, ![])
                    });
                    const Z = {};
                    Z['id'] = y, Z[aD(0x182)] = M['id'], Z[aC(0x17a)] = C[-0x1e21 + 0x1239 + 0xbe8][aD(0x1a2)] || '', Z[aD(0x207)] = R['id'], Z[aC(0x26a)] = ![], Z[aC(0x267)] = s[aD(0x267)], Z[aC(0x197)] = u[aD(0x254)], await (-0x143f + 0x29 * -0xc5 + 0x33cc, CreateMessageService_1[aC(0x281)])(Z);
                    const a0 = {};
                    a0[aC(0x1ca) + 'e'] = C[-0x1b72 + 0x227d + 0x70b * -0x1][aD(0x1a2)], await R[aC(0x272)](a0);
                    const a1 = {};
                    a1[aD(0x267)] = s[aC(0x267)], a1[aC(0x24e)] = u[aD(0x241)], a1[aD(0x199)] = R, (-0xd * -0x251 + 0x3 * 0x736 + -0x33bf, socketEmit_1[aD(0x281)])(a1);
                }
            } else {
                if (C[-0x2592 + 0x1 * -0x6b + 0x25fd]?.[aC(0x1fe)] || C[-0x6fb + -0x64e * -0x5 + 0x188b * -0x1]?.[aC(0x265)]?.[aD(0x1c8)]) {
                    let a2;
                    if (C[-0x22f6 + -0x22cd + 0x45c3]?.[aC(0x1fe)]) {
                        if (u[aD(0x240)](u[aD(0x2a1)], u[aC(0x2a8)])) {
                            const {
                                    messageStatus: {code: a7}
                                } = O, a8 = u[aD(0x1c6)](a7, u[aC(0x298)]);
                            if (a8)
                                return !![];
                            return ![];
                        } else
                            a2 = C[-0x1e + 0xace + 0x1 * -0xab0][aC(0x1fe)];
                    } else
                        C[-0x1b02 + -0xaaa + 0x25ac]?.[aD(0x265)]?.[aD(0x1c8)] && (u[aC(0x2aa)](u[aC(0x29b)], u[aD(0x278)]) ? O[aD(0x18c)][aD(0x1c7)](u[aD(0x1ac)]) : a2 = C[0xa08 + -0x1a52 + 0x104a][aD(0x265)][aC(0x1c8)]);
                    const a3 = await (-0x1738 + -0x1b11 + 0x3249, DownloadFiles_1[aC(0x2a3) + aD(0x1f9)])(a2);
                    let a4 = u[aD(0x1fa)], a5;
                    a5 = C[-0xda1 * 0x1 + -0x66b + 0x140c * 0x1][aC(0x1a2)] || '';
                    if (u[aC(0x235)](C[-0x1030 * 0x2 + 0xb * 0x28d + -0xd * -0x55]?.[aD(0x24e)], u[aC(0x1bd)])) {
                        if (u[aD(0x2a4)](u[aD(0x24a)], u[aC(0x24a)]))
                            f[aC(0x215)](u[aC(0x242)], g), h = u[aD(0x214)];
                        else {
                            const a9 = aC(0x263) + a3[aC(0x299)];
                            let aa;
                            aa = a9[aC(0x2ad)](u[aC(0x1b0)], u[aC(0x291)]), await new Promise((ae, af) => {
                                const aE = aD, aF = aC;
                                u[aE(0x1e9)](u[aE(0x1fb)], u[aF(0x25d)]) ? f[aF(0x18c)][aF(0x22d)](aF(0x243) + aF(0x2b2) + aF(0x1e8) + aF(0x27a) + g[aF(0x1d8) + aF(0x1e3)][aF(0x26c)] + aE(0x24b) + h[aF(0x1d8) + aE(0x1e3)][aE(0x20b) + 'n']) : (-0x28f * 0xb + -0x3a6 + 0x1fcb, fluent_ffmpeg_1[aE(0x281)])(a9)[aE(0x23e)](u[aF(0x1b4)])[aE(0x231)](aa)['on'](u[aF(0x18d)], () => ae())['on'](u[aF(0x19a)], ah => af(ah));
                            }), fs[aD(0x1d4)](a9), a3[aD(0x299)] = aa[aD(0x185)]('/')[aD(0x208)](), a4 = u[aC(0x1bd)];
                            const ab = {};
                            ab['id'] = R[aD(0x225)];
                            const ac = {};
                            ac[aD(0x224)] = ab;
                            const ad = await Whatsapp_1[aD(0x281)][aD(0x26b)](ac);
                            if (u[aD(0x1cc)](a5, '') && u[aD(0x1f3)](ad?.[aC(0x245) + aD(0x219)], !![]) && u[aD(0x2a4)](ad?.[aC(0x245) + aD(0x1ae)], null)) {
                                if (u[aC(0x2a4)](u[aC(0x28d)], u[aC(0x28d)]))
                                    return;
                                else {
                                    const af = {};
                                    af[aD(0x1d3)] = ad?.[aC(0x245) + aD(0x1ae)];
                                    const ag = new groq_sdk_1[(aD(0x281))](af), ah = aC(0x263) + a3[aC(0x299)];
                                    try {
                                        if (u[aC(0x2a4)](u[aC(0x295)], u[aC(0x18b)])) {
                                            const ai = await ag[aD(0x25b)][aC(0x245) + aD(0x19c)][aC(0x1cb)]({
                                                'file': fs[aC(0x21f) + aC(0x297)](ah),
                                                'model': u[aD(0x239)],
                                                'response_format': u[aC(0x186)]
                                            });
                                            a5 = ai[aD(0x1a2)];
                                        } else
                                            return;
                                    } catch (ak) {
                                        u[aC(0x2a4)](u[aD(0x1a4)], u[aC(0x296)]) ? (console[aC(0x215)](u[aC(0x242)], ak), a5 = u[aD(0x214)]) : O = u[aC(0x1fa)];
                                    }
                                }
                            }
                        }
                    } else
                        a3[aC(0x189)] && u[aD(0x181)](typeof a3[aD(0x189)], u[aD(0x1a5)]) ? u[aD(0x1f3)](u[aD(0x1e7)], u[aD(0x1e7)]) ? a4 = a3[aC(0x189)][aC(0x185)]('/')[0x2027 + -0x189d + -0xc1 * 0xa] : Q = f[-0xe3 * -0x9 + -0x1c * -0xa6 + 0x1a23 * -0x1][aD(0x265)][aD(0x1c8)] : a4 = u[aD(0x1fa)];
                    if (u[aD(0x2af)](typeof a3[aD(0x189)], u[aD(0x1a5)])) {
                        await R[aD(0x272)]({
                            'lastMessage': u[aC(0x1aa)](String, r[aD(0x17a)]),
                            'lastMessageAt': new Date()[aD(0x25c)](),
                            'answered': u[aD(0x287)](w, ![])
                        });
                        const an = {};
                        an['id'] = y, an[aC(0x182)] = M['id'], an[aC(0x17a)] = a5, an[aC(0x207)] = R['id'], an[aD(0x26a)] = ![], an[aD(0x267)] = s[aC(0x267)], an[aD(0x28c)] = '' + a3[aD(0x299)], an[aD(0x197)] = a4, an[aD(0x1d0) + 'me'] = a3[aC(0x294) + 'me'], await (-0x22bb * -0x1 + -0xa12 + -0x3b * 0x6b, CreateMessageService_1[aC(0x281)])(an);
                        const ao = {};
                        ao[aD(0x1ca) + 'e'] = a3[aD(0x299)] || '', await R[aD(0x272)](ao);
                        const ap = {};
                        ap[aD(0x267)] = s[aD(0x267)], ap[aC(0x24e)] = u[aC(0x241)], ap[aD(0x199)] = R, (0xdd3 + -0xb * 0xef + -0x38e, socketEmit_1[aD(0x281)])(ap);
                    } else
                        logger_1[aC(0x18c)][aC(0x1c7)](u[aD(0x1ac)]);
                }
            }
            const S = await (-0x12d5 * 0x1 + 0x41 * -0x23 + 0x1bb8, VerifyBusinessHours_1[aC(0x281)])(r, R);
            if (S)
                await (0x1b4f + 0xfa * -0xe + -0xda3, VerifyStepsChatFlowTicket_1[aD(0x281)])(r, R);
            if (u[aC(0x1e2)](R[aD(0x244) + aC(0x1dc)], !![])) {
                const aq = await (-0xf41 + 0x3c7 * -0x8 + -0x67f * -0x7, GetIntegrationsType_1[aD(0x281)])(R[aC(0x2a9) + aD(0x29e)]);
                u[aD(0x18e)](aq, u[aD(0x1f4)]) && await (-0xdd8 + -0x1 * -0x234d + -0x1575 * 0x1, HandleMessageWebHook_1[aD(0x202) + aC(0x22f)])(R[aC(0x2a9) + aC(0x29e)], y);
                if (u[aC(0x18e)](aq, u[aD(0x1ec)]) && u[aD(0x240)](R[aC(0x173)], u[aD(0x1e5)])) {
                    const ar = {};
                    ar[aD(0x1e0)] = y, ar[aD(0x27d)] = R, await (0xe8d + 0x7 * -0x8e + -0xaab * 0x1, HandleMessageTypebotHub_1[aD(0x281)])(ar);
                }
                if (u[aC(0x1ff)](aq, u[aD(0x1d6)]) && u[aC(0x1e9)](R[aD(0x173)], u[aC(0x1e5)])) {
                    const as = {};
                    as[aC(0x1e0)] = y, as[aC(0x27d)] = R, await (0x220b + 0x453 * 0x2 + -0x2ab1 * 0x1, handleOpenAi_1[aD(0x281)])(as);
                }
                if (u[aC(0x284)](aq, u[aD(0x1ed)]) && u[aD(0x1fd)](R[aD(0x173)], u[aC(0x1e5)])) {
                    const at = {};
                    at[aD(0x1e0)] = y, at[aC(0x27d)] = R, await (-0x1e93 * -0x1 + -0x5d1 * 0x1 + -0x18c2, handleGroq_1[aD(0x281)])(at);
                }
            }
            if (R?.[aD(0x1db) + aD(0x1f8)])
                return;
        } catch (au) {
            logger_1[aC(0x18c)][aC(0x1c7)](aD(0x21a) + au);
        }
    };
exports[ay(0x281)] = HubMessageListener;