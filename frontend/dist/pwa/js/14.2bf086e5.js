(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"990d":function(e,a,t){"use strict";t("9eb2")},"9eb2":function(e,a,t){},e422:function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"login-section"},[a("q-layout",{staticClass:"full-width"},[a("q-page-container",[a("q-page",{staticClass:"flex justify-center items-center"},[a("q-ajax-bar",{attrs:{position:"top",color:"primary",size:"5px"}}),a("div",{staticClass:"login-content"},[a("q-img",{staticClass:"logo-image q-mb-lg q-px-md",staticStyle:{"max-width":"100%"},attrs:{src:e.generateMediaUrl(),"spinner-color":"white"}}),a("q-separator",{attrs:{spaced:""}}),a("div",{staticClass:"text-primary"},[a("div",[a("q-input",{staticClass:"q-mb-md",attrs:{rounded:"",color:e.$q.dark.isActive?"white ":"black",clearable:"",placeholder:"Nome da Empresa",outlined:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-domain",color:"primary"}})]},proxy:!0}]),model:{value:e.form.nomeEmpresa,callback:function(a){e.$set(e.form,"nomeEmpresa",a)},expression:"form.nomeEmpresa"}}),a("q-input",{staticClass:"q-mb-md",attrs:{rounded:"",color:e.$q.dark.isActive?"white ":"black",clearable:"",mask:"(##)#####-####",placeholder:"Whatsapp",outlined:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-whatsapp",color:"primary"}})]},proxy:!0}]),model:{value:e.form.whatsapp,callback:function(a){e.$set(e.form,"whatsapp",a)},expression:"form.whatsapp"}}),a("q-input",{staticClass:"q-mb-md",attrs:{rounded:"",color:e.$q.dark.isActive?"white ":"black",clearable:"",placeholder:"Nome do Responsavel",outlined:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-account-star",color:"primary"}})]},proxy:!0}]),model:{value:e.form.nomeResponsavel,callback:function(a){e.$set(e.form,"nomeResponsavel",a)},expression:"form.nomeResponsavel"}}),a("q-input",{staticClass:"q-mb-md",attrs:{rounded:"",color:e.$q.dark.isActive?"white ":"black",clearable:"",placeholder:"meu@email.com",error:e.$v.form.email.$error,"error-message":"Deve ser um e-mail válido.",outlined:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-email-outline",color:"primary"}})]},proxy:!0}]),model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}}),a("q-input",{staticClass:"q-mb-md",attrs:{rounded:"",color:e.$q.dark.isActive?"white ":"black",clearable:"",placeholder:"SENHA",type:e.isPwd?"password":"text",outlined:""},on:{keypress:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.fazerLogin.apply(null,arguments)}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-shield-key-outline",color:"primary"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(a){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.form.password,callback:function(a){e.$set(e.form,"password",a)},expression:"form.password"}}),a("q-select",{staticClass:"q-mb-md",attrs:{rounded:"",color:e.$q.dark.isActive?"white ":"black",clearable:"",options:e.options,label:"Plano",outlined:""},model:{value:e.form.plano,callback:function(a){e.$set(e.form,"plano",a)},expression:"form.plano"}})],1),a("q-btn",{staticClass:"q-mr-sm q-my-lg generate-button btn-rounded-50",staticStyle:{width:"150px"},attrs:{color:"primary",loading:e.loading},on:{click:e.handleTenant}},[e._v("\n              Fazer Cadastro\n            ")]),a("q-btn",{staticClass:"q-px-sm",attrs:{flat:"",color:"info","no-caps":"",dense:"",label:"Já tem uma conta? Entre!"},on:{click:e.redirecionarParaLogin}})],1)],1)],1)],1)],1)],1),e.whatsappNumber?a("q-btn",{staticClass:"whatsapp-float",attrs:{fab:"",icon:"mdi-whatsapp",color:"green",round:""},on:{click:e.abrirWhatsApp}},[a("q-tooltip",[e._v("\n      Solicitar suporte!\n    ")])],1):e._e()],1)},r=[],s=(t("14d9"),t("b5ae")),n=t("5654"),i=t("6320"),l=t("a0b3"),c={name:"Signup",data(){return{isPwd:!0,loading:!1,form:{nomeEmpresa:"",cnpj:"",whatsapp:"",nomeResponsavel:"",email:"",password:"",plano:null,whatsappNumber:null},planos:[]}},computed:{options(){return this.formattedPlanos()}},validations:{form:{email:{required:s["required"],email:s["email"]},password:{required:s["required"],minLength:Object(s["minLength"])(6)},nomeEmpresa:{required:s["required"]},whatsapp:{required:s["required"]},nomeResponsavel:{required:s["required"]},plano:{required:s["required"]}}},methods:{async fetchConfigurations(){try{const e=await Object(l["b"])(),a=e.data;this.whatsappNumber=a.whatsappnumber||null}catch(e){console.error("Erro ao buscar configurações:",e)}},generateMediaUrl(){return"http://localhost:3100/public/logos/signup.png"},abrirWhatsApp(){if(this.whatsappNumber){const e=`https://wa.me/${this.whatsappNumber}?text=Ol%C3%A1%21+tenho+duvidas+teste`;window.open(e,"_blank")}},async fetchPlanData(){try{const e=await Object(n["e"])();this.planos=e.data}catch(e){console.error("Error fetching plan data:",e)}},formattedPlanos(){const e=this.planos.map((e=>({label:`${e.name} - Atendentes: ${e.maxUsers} - Canais: ${e.maxConnections} - R$ ${e.value.toFixed(2).replace(".",",")}`,value:e.id,maxUsers:e.maxUsers,maxConnections:e.maxConnections})));return e},redirecionarParaLogin(){this.$router.push("/login")},async handleTenant(){if(this.$v.form.$invalid)return this.$v.$touch(),void this.$q.notify("Informe todos os dados corretamente.");const e={name:this.form.nomeResponsavel,email:this.form.email,password:this.form.password,tenantName:this.form.nomeEmpresa,cnpj:this.form.cnpj,phone:this.form.whatsapp,plano:this.form.plano};this.loading=!0;try{await Object(i["k"])(e),this.$q.notify({type:"positive",message:"Teste cadastrado com sucesso.",position:"top",progress:!0,actions:[{icon:"close",round:!0,color:"white"}]}),this.redirecionarParaLogin()}catch(a){this.$q.notify({type:"negative",message:"Erro ao cadastrar teste. Tente novamente.",position:"top",progress:!0,actions:[{icon:"close",round:!0,color:"white"}]}),console.error("Error creating tenant:",a)}finally{this.loading=!1}},clear(){this.form.email="",this.form.password="",this.$v.form.$reset()}},mounted(){this.fetchConfigurations(),this.fetchPlanData()}},p=c,m=(t("990d"),t("2877")),d=t("4d5a"),u=t("09e3"),f=t("9989"),h=t("7ea5"),b=t("068f"),q=t("eb85"),w=t("27f9"),y=t("0016"),v=t("ddd8"),g=t("9c40"),k=t("05c0"),x=t("eebe"),C=t.n(x),$=Object(m["a"])(p,o,r,!1,null,"1cc3a7d4",null);a["default"]=$.exports;C()($,"components",{QLayout:d["a"],QPageContainer:u["a"],QPage:f["a"],QAjaxBar:h["a"],QImg:b["a"],QSeparator:q["a"],QInput:w["a"],QIcon:y["a"],QSelect:v["a"],QBtn:g["a"],QTooltip:k["a"]})}}]);