(function(e){function t(t){for(var n,o,i=t[0],c=t[1],d=t[2],l=0,u=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(u.length)u.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==s[i]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={7:0},s={7:0},r=[];function i(e){return c.p+"js/"+({1:"chunk-common"}[e]||e)+"."+{1:"45e75735",2:"0fd242a4",3:"d3f55ca6",4:"4a6276a1",5:"cdcf02ee",6:"6204879f",8:"190cb174",9:"61adb626",10:"981d722f",11:"6fad22f0",12:"ef29985a",13:"d5c5ff53",14:"2bf086e5",15:"3d91f388",16:"1f65d21e",17:"13bf59d4",18:"25d9908a",19:"29c14139",20:"70646b13",21:"c5370144",22:"43f694cc",23:"6b392898",24:"dc3d2cca",25:"33abce7b",26:"4fc184a8",27:"efc80371",28:"e678fe7b",29:"c64cd96d",30:"0f229560",31:"600a3c54",32:"553b387c",33:"8d6ddb90",34:"0855aaad",35:"18da5e2a",36:"95860180",37:"bc31efb3",38:"824843f1",39:"b6e8dfea",40:"6d86d961",41:"b61da5a7"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={1:1,2:1,3:1,4:1,5:1,6:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=new Promise((function(t,a){for(var n="css/"+({1:"chunk-common"}[e]||e)+"."+{1:"9d9feca7",2:"93f7390b",3:"f04f0640",4:"79b26271",5:"7564dff6",6:"6dd89392",8:"fbb3b4c1",9:"06978700",10:"77e11b03",11:"086e7614",12:"b537e1a3",13:"e08d7f5a",14:"9eaa7c3f",15:"f04f0640",16:"14d62719",17:"d9c63215",18:"f04f0640",19:"e404809a",20:"53131d94",21:"f04f0640",22:"857f2d21",23:"9a11360b",24:"f41db3fa",25:"100b2521",26:"f04f0640",27:"31d6cfe0",28:"31d6cfe0",29:"31d6cfe0",30:"31d6cfe0",31:"31d6cfe0",32:"31d6cfe0",33:"31d6cfe0",34:"31d6cfe0",35:"31d6cfe0",36:"31d6cfe0",37:"31d6cfe0",38:"31d6cfe0",39:"31d6cfe0",40:"31d6cfe0",41:"31d6cfe0"}[e]+".css",s=c.p+n,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var d=r[i],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===n||l===s))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){d=u[i],l=d.getAttribute("data-href");if(l===n||l===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||s,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete o[e],p.parentNode.removeChild(p),a(r)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){o[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,a){n=s[e]=[t,a]}));t.push(n[2]=r);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var u=new Error;d=function(t){l.onerror=l.onload=null,clearTimeout(p);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,a[1](u)}s[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var p=l;r.push([1,0]),a()})({"0047":function(e,t,a){},1:function(e,t,a){e.exports=a("2f39")},"29b2":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("8e27");const o=()=>Object(n["io"])("http://localhost:3100",{reconnection:!0,autoConnect:!0,pingTimeout:1e4,reconnectionDelay:1e3,reconnectionAttempts:10,pingInterval:5e3,transports:["websocket","polling"],auth:e=>{const t=localStorage.getItem("token"),a=t?JSON.parse(t):null;e({token:a})}}),s=o();s.io.on("error",(e=>{console.error("socket error",e)})),s.on("disconnect",(e=>{console.info("socket disconnect",e),"io server disconnect"===e&&s.connect()}))},"2f39":function(e,t,a){"use strict";a.r(t);a("35fc"),a("7cd0"),a("ae0c"),a("43b9"),a("b623"),a("81a9"),a("13da"),a("7d6e"),a("e54f"),a("a4b7"),a("4439"),a("4605"),a("f580"),a("5b2b"),a("8753"),a("2967"),a("7e67"),a("d770"),a("dd82"),a("922c"),a("d7fb"),a("a533"),a("c32e"),a("a151"),a("8bc7"),a("e80f"),a("5fec"),a("e42f"),a("57fc"),a("d67f"),a("880e"),a("1c10"),a("9482"),a("e797"),a("4848"),a("53d0"),a("63b1"),a("e9fd"),a("195c"),a("64e9"),a("33c5"),a("4f62"),a("0dbc"),a("7c38"),a("0756"),a("4953"),a("81db"),a("2e52"),a("2248"),a("7797"),a("12a1"),a("ce96"),a("70ca"),a("2318"),a("24bd"),a("8f27"),a("3064"),a("c9a2"),a("8767"),a("4a8e"),a("b828"),a("3c1c"),a("21cb"),a("c00e"),a("e4a8"),a("e4d3"),a("f4d9"),a("fffd"),a("f645"),a("639e"),a("34ee"),a("b794"),a("af24"),a("7c9c"),a("7bb2"),a("64f7"),a("c382"),a("053c"),a("c48f"),a("f5d1"),a("3cec"),a("c00ee"),a("d450"),a("ca07"),a("14e3"),a("9393"),a("9227"),a("1dba"),a("674a"),a("de26"),a("6721"),a("9cb5"),a("ed9b"),a("fc83"),a("98e5"),a("605a"),a("ba60"),a("df07"),a("7903"),a("e046"),a("58af"),a("7713"),a("0571"),a("3e27"),a("6837"),a("3fc9"),a("0693"),a("bf41"),a("985d"),a("0047"),a("5781");var n=a("2b0e"),o=a("f476"),s=a("42d2"),r=a("b05d"),i=a("714f"),c=a("7f67"),d=a("2a19"),l=a("436b"),u=a("18d6");n["a"].use(r["a"],{config:{dark:!1},lang:o["a"],iconSet:s["a"],directives:{Ripple:i["a"],ClosePopup:c["a"]},plugins:{Notify:d["a"],Dialog:l["a"],LocalStorage:u["a"]}});var p=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},m=[],f={name:"App",data(){return{IDLE_TIMEOUT:300,idleSecondsCounter:0}},methods:{CheckIdleTime(){this.idleSecondsCounter++,this.idleSecondsCounter>=this.IDLE_TIMEOUT&&window.location.reload()},bindEventListeners(){document.onclick=()=>{this.idleSecondsCounter=0},document.onmousemove=()=>{this.idleSecondsCounter=0},document.onkeypress=()=>{this.idleSecondsCounter=0}}},beforeMount(){var e;const t=JSON.parse(localStorage.getItem("usuario"));var a;null!==t&&void 0!==t&&null!==(e=t.configs)&&void 0!==e&&e.isDark&&this.$q.dark.set(null===t||void 0===t||null===(a=t.configs)||void 0===a?void 0:a.isDark);this.bindEventListeners(),setInterval(this.CheckIdleTime,1e3)}},h=f,g=a("2877"),b=Object(g["a"])(h,p,m,!1,null,null,null),v=b.exports,_=a("2f62"),E=(a("14d9"),a("7884")),O=a("ff52"),A=a("29b2");const I=Object(A["a"])(),S={searchParam:"",pageNumber:1,status:["open","pending","closed"],showAll:!1,count:null,queuesIds:[],withUnreadMessages:!1,isNotAssignedUser:!1,includeNotQueueDefined:!0},N={state:{token:null,isAdmin:!1,isSuporte:!1},mutations:{SET_IS_SUPORTE(e,t){const a=["@"];let n=!1;a.forEach((e=>{-1!==(null===t||void 0===t?void 0:t.email.toLocaleLowerCase().indexOf(e.toLocaleLowerCase()))&&(n=!0)})),e.isSuporte=n},SET_IS_ADMIN(e,t){e.isAdmin=!(!e.isSuporte&&"admin"!==t.profile)}},actions:{async UserLogin({commit:e,dispatch:t},a){a.email=a.email.trim();try{var n,o;const{data:t}=await Object(E["a"])(a);localStorage.setItem("token",JSON.stringify(t.token)),localStorage.setItem("username",t.username),localStorage.setItem("profile",t.profile),localStorage.setItem("userId",t.userId),localStorage.setItem("usuario",JSON.stringify(t)),localStorage.setItem("queues",JSON.stringify(t.queues)),localStorage.setItem("queues",JSON.stringify(t.queues)),localStorage.setItem("filtrosAtendimento",JSON.stringify(S)),null!==t&&void 0!==t&&null!==(n=t.configs)&&void 0!==n&&n.filtrosAtendimento&&localStorage.setItem("filtrosAtendimento",JSON.stringify(t.configs.filtrosAtendimento)),null!==t&&void 0!==t&&null!==(o=t.configs)&&void 0!==o&&o.isDark&&O["a"].set(t.configs.isDark),e("SET_IS_SUPORTE",t),e("SET_IS_ADMIN",t),I.emit(`${t.tenantId}:setUserActive`),d["a"].create({type:"positive",message:"Login realizado com sucesso!",position:"top",progress:!0}),"admin"===t.profile?this.$router.push({name:"home-dashboard"}):this.$router.push({name:"atendimento"})}catch(s){}}}};var T=N;const y={state:{whatsApps:[]},mutations:{LOAD_WHATSAPPS(e,t){e.whatsApps=t},UPDATE_WHATSAPPS(e,t){const a=t;let n=[...e.whatsApps];const o=n.findIndex((e=>e.id===a.id));-1!==o?n[o]=a:n=[a,...n],e.whatsApps=[...n]},UPDATE_SESSION(e,t){const a=t,n=e.whatsApps.findIndex((e=>e.id===a.id));return-1!==n?(e.whatsApps[n].status=a.status,e.whatsApps[n].updatedAt=a.updatedAt,e.whatsApps[n].qrcode=a.qrcode,e.whatsApps[n].retries=a.retries,e.whatsApps):e.whatsApps},DELETE_WHATSAPPS(e,t){const a=t,n=e.whatsApps.findIndex((e=>e.id===a));return-1!==n&&e.whatsApps.splice(n,1),e.whatsApps},RESET_WHATSAPPS(e){e.whatsApps=[]}}};var P=y,R=a("c5bd"),k=a("a18c"),C=a("2ef0"),D=a("e3ee");const w=e=>{const t=Object(C["orderBy"])(e,(e=>Object(D["a"])(e.timestamp||e.createdAt)),["asc"]);return[...t]},M=e=>{const t=Object(C["orderBy"])(e,(e=>Object(D["a"])(e.lastMessageAt||e.updatedAt)),["asc"]);return[...t]},j=e=>{var t,a;const n={searchParam:"",pageNumber:1,status:["open","pending","closed"],showAll:!1,count:null,queuesIds:[],withUnreadMessages:!1,isNotAssignedUser:!1,includeNotQueueDefined:!0},o=()=>{const e=JSON.parse(localStorage.getItem("configuracoes")),t=null===e||void 0===e?void 0:e.find((e=>"NotViewTicketsChatBot"===e.key));return"enabled"===(null===t||void 0===t?void 0:t.value)},s=()=>{const e=JSON.parse(localStorage.getItem("configuracoes")),t=null===e||void 0===e?void 0:e.find((e=>"DirectTicketsToWallets"===e.key));return"enabled"===(null===t||void 0===t?void 0:t.value)},r=()=>{const e=JSON.parse(localStorage.getItem("configuracoes")),t=null===e||void 0===e?void 0:e.find((e=>"NotViewAssignedTickets"===e.key));return"enabled"===(null===t||void 0===t?void 0:t.value)},i=JSON.parse(localStorage.getItem("filtrosAtendimento"))||n,c=JSON.parse(localStorage.getItem("usuario")),d=JSON.parse(localStorage.getItem("queues")),l=JSON.parse(localStorage.getItem("filasCadastradas")||"[]"),u=localStorage.getItem("profile"),p="admin"===u&&i.showAll,m=l.length>0,f=(null===c||void 0===c?void 0:c.userId)||+localStorage.getItem("userId");if(p)return console.log("isAdminShowAll",p),!0;if(e.isGroup)return console.log("ticket.isGroup",e.isGroup),!0;if(i.status.length>0&&!i.status.includes(e.status))return console.log("Status ticket",i.status,e.status),!1;if((null===e||void 0===e?void 0:e.userId)==f)return console.log("Ticket do usuário",null===e||void 0===e?void 0:e.userId,f),!0;if(o()&&e.autoReplyId&&(null===e||void 0===e||!e.userId)&&!e.queueId)return console.log("NotViewTicketsChatBot e o ticket está sem usuário e fila definida"),!1;let h=!0;if(m){const t=d.findIndex((t=>e.queueId===t.id));if(-1===t)return console.log("Usuario não tem acesso a fila",e.queueId),!1;console.log("Fila do ticket liberada para o Usuario",e.queueId),h=!0}if(m&&null!==i&&void 0!==i&&i.queuesIds.length){const t=i.queuesIds.findIndex((t=>e.queueId===t));if(-1==t)return console.log("filas filtradas e diferentes da do ticket",e.queueId),!1}if(s()&&((null===e||void 0===e||null===(t=e.contact)||void 0===t||null===(a=t.wallets)||void 0===a?void 0:a.length)||0)>0){var g;const t=null===e||void 0===e||null===(g=e.contact)||void 0===g?void 0:g.wallets.findIndex((e=>e.id==f));return-1!==t?(console.log("Ticket da carteira do usuário"),!0):(console.log("DirectTicketsToWallets: Ticket não pertence à carteira do usuário",e),!1)}return r()&&((null===e||void 0===e?void 0:e.userId)||f)!==f?(console.log("isNotViewAssignedTickets e ticket não é do usuário",null===e||void 0===e?void 0:e.userId,f),null===e||void 0===e||!e.userId):i.isNotAssignedUser?(console.log("isNotAssignedUser ativo para exibir somente tickets não assinados",i.isNotAssignedUser,!e.userId),i.isNotAssignedUser&&!e.userId):h},x={state:{chatTicketDisponivel:!1,tickets:[],ticketsLocalizadosBusca:[],ticketFocado:{contacts:{tags:[],wallets:[],extraInfo:[]}},hasMore:!1,contatos:[],mensagens:[],notificacaoTicket:0},mutations:{SET_HAS_MORE(e,t){e.hasMore=t},LOAD_TICKETS(e,t){const a=M(t);a.forEach((t=>{const a=e.tickets.findIndex((e=>e.id===t.id));-1!==a?(e.tickets[a]=t,t.unreadMessages>0&&e.tickets.unshift(e.tickets.splice(a,1)[0])):j(t)&&e.tickets.push(t)}))},RESET_TICKETS(e){e.hasMore=!0,e.tickets=[]},RESET_UNREAD(e,t){const a=[...e.tickets],n=t.ticketId,o=a.findIndex((e=>e.id===n));-1!==o&&(a[o]=t,a[o].unreadMessages=0),e.ticket=a},UPDATE_TICKET(e,t){const a=e.tickets.findIndex((e=>e.id===t.id));if(-1!==a){var n,o,s;const r=[...e.tickets];r[a]={...r[a],...t,username:(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.name)||(null===t||void 0===t?void 0:t.username)||r[a].username,profilePicUrl:(null===t||void 0===t||null===(o=t.contact)||void 0===o?void 0:o.profilePicUrl)||(null===t||void 0===t?void 0:t.profilePicUrl)||r[a].profilePicUrl,name:(null===t||void 0===t||null===(s=t.contact)||void 0===s?void 0:s.name)||(null===t||void 0===t?void 0:t.name)||r[a].name},e.tickets=r.filter((e=>j(e))),e.ticketFocado.id==t.id&&(e.ticketFocado={...e.ticketFocado,...t})}else{var r,i,c;const a=[...e.tickets];a.unshift({...t,username:(null===t||void 0===t||null===(r=t.user)||void 0===r?void 0:r.name)||(null===t||void 0===t?void 0:t.username),profilePicUrl:(null===t||void 0===t||null===(i=t.contact)||void 0===i?void 0:i.profilePicUrl)||(null===t||void 0===t?void 0:t.profilePicUrl),name:(null===t||void 0===t||null===(c=t.contact)||void 0===c?void 0:c.name)||(null===t||void 0===t?void 0:t.name)}),e.tickets=a.filter((e=>j(e)))}},DELETE_TICKET(e,t){const a=t,n=e.tickets.findIndex((e=>e.id===a));-1!==n&&e.tickets.splice(n,1)},UPDATE_TICKET_FOCADO_CONTACT(e,t){e.ticketFocado.contact=t},UPDATE_CONTACT(e,t){e.ticketFocado.contactId==t.id&&(e.ticketFocado.contact=t);const a=e.tickets.findIndex((e=>e.contactId===t.id));if(-1!==a){const n=[...e.tickets];n[a].contact=t,n[a].name=t.name,n[a].profilePicUrl=t.profilePicUrl,e.tickets=n}},TICKET_FOCADO(e,t){const a={...t,status:"pending"==t.status?"open":t.status};e.ticketFocado=a},LOAD_INITIAL_MESSAGES(e,t){const{messages:a,messagesOffLine:n}=t;e.mensagens=[];const o=w([...a,...n]);e.mensagens=o},LOAD_MORE_MESSAGES(e,t){const{messages:a,messagesOffLine:n}=t,o=[...a,...n],s=[];o.forEach(((t,a)=>{const n=e.mensagens.findIndex((e=>e.id===t.id));-1!==n?(e.mensagens[n]=t,o.splice(a,1)):s.push(t)}));const r=w(s);e.mensagens=[...r,...e.mensagens]},UPDATE_MESSAGES(e,t){if(e.ticketFocado.id===t.ticket.id){const a=e.mensagens.findIndex((e=>e.id===t.id)),n=[...e.mensagens];if(-1!==a?n[a]=t:n.push(t),e.mensagens=n,t.scheduleDate&&"pending"==t.status){const a=e.ticketFocado.scheduledMessages.findIndex((e=>e.id===t.id));-1===a&&e.ticketFocado.scheduledMessages.push(t)}}else{var a;const n=JSON.parse(localStorage.getItem("configuracoes")),o=null===n||void 0===n?void 0:n.find((e=>"groupnotification"===e.key));if("disabled"===(null===o||void 0===o?void 0:o.value)&&null!==(a=t.ticket)&&void 0!==a&&a.isGroup)return;t.fromMe||"closed"===t.ticket.status||(e.notificacaoTicket+=1)}const n=e.tickets.findIndex((e=>e.id==t.ticket.id));if(-1!==n){let a=[...e.tickets];const o=e.ticketFocado.id==t.ticket.id?0:t.ticket.unreadMessages;a[n]={...e.tickets[n],answered:t.ticket.answered,unreadMessages:o,lastMessage:t.mediaName||t.body,lastMessageAt:t.ticket.lastMessageAt},a=M(a),e.tickets=a}},UPDATE_MESSAGE_STATUS(e,t){var a;if(e.ticketFocado.id!=t.ticket.id)return;const n=e.mensagens.findIndex((e=>e.id===t.id)),o=[...e.mensagens];-1!==n&&(o[n]=t,e.mensagens=o);const s=e.tickets.findIndex((e=>e.id===t.ticket.id));if(-1!==s&&(e.tickets[s].lastMessage=t.ticket.lastMessage,e.tickets[s].lastMessageAt=t.ticket.lastMessageAt,e.tickets[s].updatedAt=t.ticket.updatedAt),e.tickets=M(e.tickets),null!==(a=e.ticketFocado)&&void 0!==a&&a.scheduledMessages){const a=[...e.ticketFocado.scheduledMessages],n=a.filter((e=>e.id!=t.id));e.ticketFocado.scheduledMessages=n}},UPDATE_MESSAGE(e,t){var a;e.ticketFocado.id==t.ticketId&&(e.mensagens=e.mensagens.map((e=>e.id==t.id?{...e,...t}:e)),null!==(a=e.ticketFocado)&&void 0!==a&&a.scheduledMessages&&(e.ticketFocado.scheduledMessages=e.ticketFocado.scheduledMessages.map((e=>e.id==t.id?{...e,...t}:e))))},RESET_MESSAGE(e){e.mensagens=[]}},actions:{async LocalizarMensagensTicket({commit:e,dispatch:t},a){const n=await Object(R["p"])(a);e("SET_HAS_MORE",n.data.hasMore),1===a.pageNumber?e("LOAD_INITIAL_MESSAGES",n.data):e("LOAD_MORE_MESSAGES",n.data)},async AbrirChatMensagens({commit:e,dispatch:t},a){try{await e("TICKET_FOCADO",{}),await e("RESET_MESSAGE");const n=await Object(R["d"])(a);await e("TICKET_FOCADO",n.data);const o={ticketId:a.id,pageNumber:1};await t("LocalizarMensagensTicket",o),await k["a"].push({name:"chat",params:o,query:{t:(new Date).getTime()}})}catch(s){var n,o;if(!s)return;const e=null===s||void 0===s||null===(n=s.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error;e?d["a"].create({type:"negative",message:s.response.data.error,progress:!0,position:"top"}):d["a"].create({type:"negative",message:`Ops... Ocorreu um problema não identificado. ${JSON.stringify(s)}`,progress:!0,position:"top"})}}}};var U=x;const q={state:{notifications:[],notificacoesChat:[],notifications_p:[]},mutations:{UPDATE_NOTIFICATIONS(e,t){e.notifications=t},UPDATE_NOTIFICATIONS_P(e,t){e.notifications_p=t}}};var F=q;const L={state:{flow:{},usuarios:[],filas:[]},mutations:{SET_FLOW_DATA(e,t){e.flow=t.flow,e.usuarios=t.usuarios,e.filas=t.filas},RESET_FLOW_DATA(e){e.flow={},e.usuarios=[],e.filas=[]}}};var $=L;const z={state:{usersApp:[],showMenu:!0},mutations:{SET_USERS_APP(e,t){e.usersApp=t},UPDATE_SHOW_MENU(e,t){e.showMenu=t}}};var V=z;const G={state:{empresas:[]},mutations:{EMPRESAS_ADMIN(e,t){if("create"==t.action)e.empresas=t.data;else if("add"==t.action)e.empresas.push(t.data);else if("update-status"==t.action){const a=e.empresas.findIndex((e=>e.id==t.data.id));e.empresas[a].status=t.data.status}else if("update"==t.action){const a=e.empresas.findIndex((e=>e.id==t.data.id));e.empresas[a].name=t.data.name,e.empresas[a].cnpj=t.data.cnpj,e.empresas[a].maxUsers=t.data.maxUsers,e.empresas[a].maxConnections=t.data.maxConnections,e.empresas[a].phone=t.data.phone,e.empresas[a].email=t.data.email,e.empresas[a].planId=t.data.planId,e.empresas[a].dueDate=t.data.dueDate,e.empresas[a].recurrence=t.data.recurrence}else"delete"==t.action&&(e.empresas=e.empresas.filter((e=>e.id!=t.id)))}}};var H=G;const W=e=>{const t=Object(C["orderBy"])(e,(e=>Object(D["a"])(e.updatedAt)),["desc"]);return t},J={notifications:e=>e.notifications.notifications,notifications_p:e=>e.notifications.notifications_p,tickets:e=>W(e.atendimentoTicket.tickets),mensagensTicket:e=>e.atendimentoTicket.mensagens,ticketFocado:e=>e.atendimentoTicket.ticketFocado,hasMore:e=>e.atendimentoTicket.hasMore,whatsapps:e=>e.whatsapp.whatsApps,isSuporte:e=>e.user.isSuporte,isAdmin:e=>e.user.isAdmin,empresas:e=>e.empresa.empresas,listaUsuarios:e=>e.chatInterno.listaUsuarios,listaGrupos:e=>e.chatInterno.listaGrupos,unreadMessageInterna:e=>e.chatInterno.unreadMessageInterna,mensagemChatInterno:e=>e.chatInterno.mensagemChatInterno,userChat:e=>e.chatInterno.userChat,chatFocado:e=>e.chatInterno.chatFocado,notificacaoChatInterno:e=>e.chatInterno.notificacaoChatInterno,notificacoesChat:e=>e.chatInterno.notificacoesChat,showMenu:e=>e.usersApp.showMenu,notificacaoTicket:e=>e.atendimentoTicket.notificacaoTicket};var Q=J;const B={state:{mensagemChatInterno:{},unreadMessageInterna:{},listaUsuarios:[],listaGrupos:[],chatFocado:{},notificacaoChatInterno:{},notificacoesChat:0},mutations:{LISTA_USUARIOS_CHAT_INTERNO(e,t){if("create"===t.action)t.data.sort(((e,t)=>new Date(Number(t.timestamp))-new Date(Number(e.timestamp)))),e.listaUsuarios=t.data;else if("update"===t.action){const a=e.listaUsuarios.findIndex((e=>e.id===t.data.id));e.listaUsuarios[a]=t.data,e.listaUsuarios.sort(((e,t)=>new Date(Number(t.date))-new Date(Number(e.date))))}else if("updateAllUsers"===t.action){const t=[...e.listaUsuarios];t.map((e=>(e.isOnline=!1,e))),e.listaUsuarios=t}},LISTA_GRUPOS_CHAT_INTERNO(e,t){if("create"===t.action)t.data.sort(((e,t)=>new Date(Number(t.timestamp))-new Date(Number(e.timestamp)))),e.listaGrupos=t.data;else if("update"===t.action){const a=e.listaGrupos.findIndex((e=>e.id===t.data.id));e.listaGrupos[a]=t.data,e.listaGrupos.sort(((e,t)=>new Date(Number(t.date))-new Date(Number(e.date))))}},CHAT_FOCADO_UPDATE(e,t){e.chatFocado=t},UNREAD_MENSAGEM_INTERNA_UPDATE(e,t){e.unreadMessageInterna=t.data},MENSAGEM_INTERNA_UPDATE(e,t){e.mensagemChatInterno=t.data},NOTIFICACAO_CHAT_INTERNO_UPDATE(e,t){e.notificacaoChatInterno=t.data},LISTA_NOTIFICACOES_CHAT_INTERNO(e,t){console.log("socket ON: INTERNAL_CHAT: "+t.data),"create"===t.action?e.notificacoesChat=parseInt(t.data):"update"===t.action?e.notificacoesChat+=parseInt(t.data):"remove"===t.action&&(e.notificacoesChat-=parseInt(t.data))}}};var K=B;n["a"].use(_["a"]);var Y=function(){const e=new _["a"].Store({getters:Q,modules:{user:T,notifications:F,atendimentoTicket:U,whatsapp:P,chatFlow:$,usersApp:V,empresa:H,chatInterno:K},strict:!1});return e},X=async function(){const e="function"===typeof Y?await Y({Vue:n["a"]}):Y,t="function"===typeof k["a"]?await Object(k["a"])({Vue:n["a"],store:e}):k["a"];e.$router=t;const a={router:t,store:e,render:e=>e(v),el:"#q-app"};return{app:a,store:e,router:t}},Z=a("9483");Object(Z["a"])("service-worker.js",{ready(){},registered(){},cached(){},updatefound(){},updated(){},offline(){},error(){}});var ee=a("1aba"),te=a("1dce"),ae=a.n(te),ne=a("7f53"),oe=a("9aa5"),se=a.n(oe);const re={required:"{attribute} é obrigatório",email:"{attribute} é inválido.",minValue:"{attribute} deve ser maior que {min}",minLength:"{attribute} deve possui no mínimo {min} carateres",maxLength:"{attribute} deve possui no máximo {min} carateres",validaData:"Data inválida"},ie={email:"E-mail",name:"Nome",nome:"Nome",username:"Usuário"};var ce=({Vue:e})=>{e.directive("linkified",se.a),e.use(ae.a),e.use(ne["a"],{messages:re,attributes:ie})},de=a("446a");const le=[{error:"ERR_SESSION_EXPIRED",description:"Sua conexão expirou.",detail:"A validade da sua conexão expurou. É necessário realizar novo login."},{error:"ERR_API_CONFIG_NOT_FOUND",description:"Configurações de API não localizadas.",detail:"Atualize a página e tente novamente. Caso o erro persista, faço contato com o suporte."},{error:"ERR_NO_CONTACT_FOUND",description:"Contato não localizado no sistema.",detail:"Verifique se o número realmente está salvo no sistema de forma correta ou cadastre o contato."},{error:"ERR_DUPLICATED_CONTACT",description:"Contato já cadastrado no sistema.",detail:"Localize o contato já cadastro."},{error:"ERR_CONTACT_TICKETS_REGISTERED",description:"O contato não pode ser apagado.",detail:"O contato possui atendimentos registrados e não pode ser excluso para garantir a integridade da informação."},{error:"ERR_CREATING_MESSAGE",description:"Mensagem não foi criada.",detail:"Verifique se a conexão com o Whatsapp está ativa ou se a mensagem não feriu os termos do whatsapp."},{error:"ERR_NO_TICKET_FOUND",description:"Atendimento não localizado.",detail:"Não localizamos o atendimento informado. Atualize a página (F5) e tente novamente. Consulte o suporte caso o erro persista"},{error:"ERR_AUTO_REPLY_RELATIONED_TICKET",description:"Não é possível apagar o registro.",detail:"O fluxo já foi utilizado em diversos atendimentos."},{error:"ERR_NO_AUTO_REPLY_FOUND",description:"Fluxo informado não encontrado.",detail:"Verifique se o fluxo realmente existe. Atualize a página e tente novamente."},{error:"ERR_NO_STEP_AUTO_REPLY_FOUND",description:"Não localizao etapa para o fluxo.",detail:"Verifique o cadastro das etapas do chatbot. Confirme se a etapa realmente existe."},{error:"ERR_CAMPAIGN_CONTACTS_NOT_EXISTS_OR_NOT_ACESSIBLE",description:"Campanha não existe ou não está acessível.",detail:"Verifique se a campanha ainda existe ou se está disponível."},{error:"ERROR_CAMPAIGN_NOT_EXISTS",description:"Campanha não localizada.",detail:"Verifique se a campanha ainda existe ou se está disponível."},{error:"ERR_NO_CAMPAIGN_FOUND",description:"Campanha não localizada.",detail:"Verifique se a campanha ainda existe ou se está disponível."},{error:"ERR_NO_UPDATE_CAMPAIGN_NOT_IN_CANCELED_PENDING",description:"Campanha não está cancelada ou pendente.",detail:"Somente campanhas nos status mencionados podem ser alteradas."},{error:"ERROR_CAMPAIGN_DATE_NOT_VALID",description:"Data para programação inválida.",detail:"A data precisa ser maior que a data atual."},{error:"ERR_NO_CAMPAIGN_CONTACTS_NOT_FOUND",description:"A campanha não existe.",detail:"A campanha não localizada. Atualize a página."},{error:"ERR_CAMPAIGN_CONTACTS_NOT_EXISTS",description:"Campanha não existe. Contatos não vínculados.",detail:"Possívelmente a campanha já foi apagada e não existem contatos vínculados. Atualize a pagína."},{error:"ERR_CAMPAIGN_CONTACTS",description:"Probleme com a campanha.",detail:"Atualize a página e tente novamente."},{error:"ERR_NO_FAST_REPLY_FOUND",description:"Resposta rápida não localizada.",detail:"Verifique se o registro realmente existe. Atualize a página e tente novamente."},{error:"ERR_FAST_REPLY_EXISTS",description:"Resposta rápida não existe.",detail:"Possívelmente o registro já foi deletado. Atualize a página."},{error:"ERR_NO_QUEUE_FOUND",description:"Fila não localizada.",detail:"Possívelmente o registro já foi deletado. Atualize a página."},{error:"ERR_QUEUE_TICKET_EXISTS",description:"Fila possui atendimentos vinculados. ",detail:"Não é possível apagar o registro para manter a integridade das informações."},{error:"ERR_NO_TAG_FOUND",description:"Etiqueta não localizada.",detail:"Possívelmente o registro já foi deletado. Atualize a página."},{error:"ERR_TAG_CONTACTS_EXISTS",description:"Etiqueta possui contatos vinculados. ",detail:"Não é possível apagar o registro para manter a integridade das informações."},{error:"ERR_NO_SETTING_FOUND",description:"Configuração não existe.",detail:"Atualize a pagína e tente novamente. Consulte o suporte caso o erro persista."},{error:"ERR_NO_TENANT_FOUND",description:"Não localizamos empresa cadastrada ou ativa.",detail:"Atualize a pagína e tente novamente. Consulte o suporte caso o erro persista."},{error:"ERR_CREATING_TICKET",description:"Não foi possível criar o atendimento.",detail:"Atualize a pagína e tente novamente. Consulte o suporte caso o erro persista."},{error:"ERR_NO_STATUS_SELECTED",description:"Nenhum status selecionado.",detail:"É necessário selecionar status para listar o atendimentos."},{error:"ERR_INVALID_CREDENTIALS",description:"Usuário e/ou senha inválidos.",detail:"Os dados de login são inválidos. Caso o problmea persista, procure um administrador do sistema para redefinição das crendenciais."},{error:"ERR_NO_USER_FOUND",description:"Usuário não localizado.",detail:"Verifique se o usuário realmente existe. Atualize a página se necessário."},{error:"ERR_WAPP_INVALID_CONTACT",description:"Número informado no contato é inválido",detail:"O número não é um contato vinculdo à uma conta do Whatsapp."},{error:"ERR_WAPP_CHECK_CONTACT",description:"Ocorreu um erro ao válidar o contato pelo whatsapp.",detail:"Verifique se a conexão com o whatsapp está ativa. Se necessário, atualize a página e tente novamente em alguns instantes."},{error:"ERR_DELETE_WAPP_MSG",description:"O Whatsapp não permitiu apagar a mensagem.",detail:"Não é possível apagar mensagens antigas. Se a mensagem for das últimas 24h, verifique se a conexão com o whatsapp está ativa. Se necessário, atualize a página e tente novamente em alguns instantes."},{error:"ERR_SENDING_WAPP_MSG",description:"Mensagem não enviada pelo Whatsapp.",detail:"Verifique se a conexão com o whatsapp está ativa. Se necessário, atualize a página e tente novamente em alguns instantes."},{error:"ERR_WAPP_NOT_INITIALIZED",description:"Sessão com o Whatsapp não inicializada",detail:"Verifique o status da conexão com o whatsapp do sistema. Necessário que a conexão seja estabelecida com sucesso."},{error:"ERR_CONTACTS_NOT_EXISTS_WHATSAPP",description:"Contato não existe no Whatsapp.",detail:"O número não é um contato válido para o Whatsapp."},{error:"ERR_NO_WAPP_FOUND",description:"Sessão não localizada.",detail:"Verifique se o registro realmente existe. Se necessário, atualize a página."},{error:"ERR_OTHER_OPEN_TICKET",description:"Já existe um atendimento aberto para o contato.",detail:"Localize o contato na lista de atendimentos."},{error:"ERR_NO_DEF_WAPP_FOUND",description:'Não existe uma conexão marcado com "PADRÃO".',detail:"Necessário realizar a definição no menu de sessões."},{error:"ERR_FETCH_WAPP_MSG",description:"Não foi possível localizar mensagens.",detail:"Valide o status de conexão com o whatsapp."},{error:"ERR_NO_PERMISSION",description:"Usuário sem permissão.",detail:"Seu usuário não possui permissão para executar a ação."}];var ue=le;const pe=(e,t=null)=>{let a="";var n,o,s,r;t&&(a=(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||(null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.msg)||(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||(null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.data.error)||"Não identificado");const i=ue.find((e=>e.error==a));let c="";throw c=t&&i.error?`\n      <p class="text-bold">\n      <span class="text-bold">${i.description}.</span>\n      </p>\n      <p>${i.detail}</p>\n    `:`\n    <p class="text-bold">\n      <span class="text-bold">${e}</span>\n    </p>\n    `,d["a"].create({type:"warning",progress:!0,position:"top",timeout:500,message:c,actions:[{icon:"close",round:!0,color:"white"}],html:!0}),new Error(c)},me=e=>{const t=`Tudo certo... <br>${e}.`;d["a"].create({type:"positive",progress:!0,position:"top",message:t,timeout:500,actions:[{icon:"close",round:!0,color:"white"}],html:!0})};var fe=a("1732"),he=function(){var e=this,t=e._self._c;return t("div",[t("q-input",e._g(e._b({staticClass:"full-width",class:e.classAtrrs,attrs:{"hide-bottom-space":"",outlined:"","stack-label":"",type:"date","bottom-slots":"",value:e.cValue,error:e.cError,"error-message":e.cErrorMessage,ruler:[t=>e.dateIsValid(t)||"Data inválida!"]},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer q-mr-sm",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{value:e.cQDate,"today-btn":"",mask:"DD/MM/YYYY"},on:{input:e.emitDate}})],1)],1)]},proxy:!0},e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},"q-input",e.$attrs,!1),e.$listeners))],1)},ge=[],be=a("2cf3"),ve=a("49ef"),_e=a("b166"),Ee={name:"ccInputDate",extends:ne["b"],inheritAttrs:!1,data(){return{date:null,dateSelect:null}},props:{value:[String,Date],initValue:{type:[String,Date],default:null},error:{type:[String,Boolean,Number],default:"NI"},errorMessage:{type:[String,Boolean,Number],default:""},classAtrrs:{type:String,default:()=>""},icon:{type:Object,default:()=>{}}},watch:{initValue(e){this.dateFormated(e)}},computed:{cValue(){if(this.value){const e=Object(be["a"])(this.value,"yyyy-MM-dd HH:mm:ss.SSS X",new Date);return Object(ve["a"])(e)?Object(_e["a"])(e,"yyyy-MM-dd"):this.value}if(this.dateSelect){const e=Object(be["a"])(this.dateSelect,"dd/MM/yyyy",new Date);return Object(_e["a"])(e,"yyyy-MM-dd")}return null},cQDate(){if(this.cValue){const e=Object(be["a"])(this.cValue,"yyyy-MM-dd",new Date);return Object(ve["a"])(e)?Object(_e["a"])(e,"dd/MM/yyyy"):this.cValue}return Object(_e["a"])(new Date,"dd/MM/yyyy")},cError(){return"NI"==this.error?this.hasErrors:this.error},cErrorMessage(){return""==this.errorMessage?this.firstErrorMessage:this.errorMessage},iconElment:{cache:!1,get(){const e={name:null,size:"24px",color:"#000"},t={...e,...this.icon};return t.name?t:e}}},methods:{emitDate(e,t,a){let n=e;n||(n=`${a.day}/${a.month}/${a.year}`);const o=Object(be["a"])(n,"dd/MM/yyyy",new Date);this.$emit("input",Object(_e["a"])(o,"yyyy-MM-dd HH:mm:ss.SSS X")),this.$refs.qDateProxy.hide()},dateIsValid(e){return!this.cValue||Object(ve["a"])(e)}}},Oe=Ee,Ae=a("27f9"),Ie=a("0016"),Se=a("7cbe"),Ne=a("52ee"),Te=a("eebe"),ye=a.n(Te),Pe=Object(g["a"])(Oe,he,ge,!1,null,"54488952",null),Re=Pe.exports;ye()(Pe,"components",{QInput:Ae["a"],QIcon:Ie["a"],QPopupProxy:Se["a"],QDate:Ne["a"]});var ke=function(){var e=this,t=e._self._c;return t("div",[t("q-input",e._g(e._b({staticClass:"full-width",class:e.classAtrrs,attrs:{"hide-bottom-space":"",outlined:"","stack-label":"",type:"text",mask:"##/##/#### ##:##","fill-mask":"","bottom-slots":"",value:e.cValue,error:e.cError,"error-message":e.cErrorMessage,ruler:[t=>e.dateIsValid(t)||"Data inválida!"]},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer q-mr-sm",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{value:e.cQDate,"today-btn":"",mask:"DD/MM/YYYY HH:mm"},on:{input:e.emitDate}})],1)],1)]},proxy:!0},{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[t("q-popup-proxy",{ref:"qTimeProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-time",{attrs:{value:e.cQDate,mask:"DD/MM/YYYY HH:mm",format24h:""},on:{input:e.emitDate}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0},e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},"q-input",e.$attrs,!1),e.$listeners))],1)},Ce=[],De={name:"ccInputDateTime",extends:ne["b"],inheritAttrs:!1,data(){return{date:null,dateSelect:null}},props:{value:[String,Date],initValue:{type:[String,Date],default:null},error:{type:[String,Boolean,Number],default:"NI"},errorMessage:{type:[String,Boolean,Number],default:""},classAtrrs:{type:String,default:()=>""},icon:{type:Object,default:()=>{}}},watch:{initValue(e){this.dateFormated(e)}},computed:{cValue(){return this.value?this.value:this.dateSelect?Object(_e["a"])(Object(be["a"])(this.dateSelect,"dd/MM/yyyy HH:mm",new Date),"yyyy-MM-dd HH:mm"):null},cQDate(){return Object(ve["a"])(this.cValue)?Object(_e["a"])(this.cValue,"dd/MM/yyyy HH:mm"):this.cValue?Object(_e["a"])(Object(be["a"])(this.cValue,"yyyy-MM-dd HH:mm",new Date),"dd/MM/yyyy HH:mm"):Object(_e["a"])(new Date,"dd/MM/yyyy HH:mm")},cError(){return"NI"==this.error?this.hasErrors:this.error},cErrorMessage(){return""==this.errorMessage?this.firstErrorMessage:this.errorMessage},iconElment:{cache:!1,get(){const e={name:null,size:"24px",color:"#000"},t={...e,...this.icon};return t.name?t:e}}},methods:{emitDate(e,t,a){let n=e;if(!n){const e=Object(_e["a"])(new Date,"HH:mm");n=`${a.day}/${a.month}/${a.year} ${e}`}const o=Object(be["a"])(n,"dd/MM/yyyy HH:mm",new Date);this.$emit("input",Object(_e["a"])(o,"yyyy-MM-dd HH:mm")),this.$refs.qDateProxy.hide(),this.$refs.qTimeProxy.hide()},dateIsValid(e){return!this.cValue||Object(ve["a"])(e)}}},we=De,Me=a("ca78"),je=a("9c40"),xe=Object(g["a"])(we,ke,Ce,!1,null,"2f28c1af",null),Ue=xe.exports;ye()(xe,"components",{QInput:Ae["a"],QIcon:Ie["a"],QPopupProxy:Se["a"],QDate:Ne["a"],QTime:Me["a"],QBtn:je["a"]}),ye()(xe,"directives",{ClosePopup:c["a"]});var qe=a("e018"),Fe=a("9a1b");const Le=(e,t=!1,a={})=>{const n={language:"pt-br",options:{minimumFractionDigits:2,maximumFractionDigits:3}},o={...n,...a},s=Intl.NumberFormat(o.language,o.options).format(e);return t&&e<=0?"":s},$e=(e,t)=>{if((""+e).includes("e")){const a=(""+e).split("e");let n="";return+a[1]+t>0&&(n="+"),+(Math.round(+a[0]+"e"+n+(+a[1]+t))+"e-"+t)}return+(Math.round(e+"e+"+t)+"e-"+t)},ze=e=>{e=e.replace(/\s(de|da|dos|das)\s/g," ");const t=e.match(/\b(\w)/gi),a=t.splice(1,t.length-1).join("").toLowerCase(),n=t+a;return n.toUpperCase()},Ve=(e,t="dd/MM/yyyy")=>Object(_e["a"])(Object(D["a"])(e),t,{locale:qe["a"]}),Ge=({isDark:e})=>{const t={searchParam:"",pageNumber:1,status:["open","pending","closed"],showAll:!1,count:null,queuesIds:[],withUnreadMessages:!1,isNotAssignedUser:!1,includeNotQueueDefined:!0};O["a"].set(e);const a=JSON.parse(localStorage.getItem("usuario")),n=JSON.parse(localStorage.getItem("filtrosAtendimento"))||t,o={filtrosAtendimento:n,isDark:O["a"].isActive};Object(Fe["g"])(a.userId,o).then((e=>console.log("Configurações do usuário atualizadas"))).catch((e=>console.error)),localStorage.setItem("usuario",JSON.stringify({...a,configs:o}))};var He=({Vue:e})=>{e.component("cInput",de["a"]),e.component("DatePick",Re),e.component("cDateTimePick",Ue),e.prototype.$formatarValorMoeda=Le,e.prototype.$round=$e,e.prototype.$formatarData=Ve,e.prototype.$iniciaisString=ze,e.prototype.$notificarErro=pe,e.prototype.$notificarSucesso=me,e.prototype.$setConfigsUsuario=Ge,e.prototype.$uuid=fe["a"]};/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&a.e(0).then(a.t.bind(null,"a0db",7));const We="";async function Je(){const{app:e,store:t,router:a}=await X();let o=!1;const s=e=>{o=!0;const t=Object(e)===e?a.resolve(e).route.fullPath:e;window.location.href=t},r=window.location.href.replace(window.location.origin,""),i=[ee["a"],ce,He];for(let d=0;!1===o&&d<i.length;d++)if("function"===typeof i[d])try{await i[d]({app:e,router:a,store:t,Vue:n["a"],ssrContext:null,redirect:s,urlPath:r,publicPath:We})}catch(c){return c&&c.url?void(window.location.href=c.url):void console.error("[Quasar] boot error:",c)}!0!==o&&new n["a"](e)}Je()},"446a":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",[t("q-input",e._g(e._b({ref:"inputCustomCodar",class:e.classAtrrs,attrs:{"hide-bottom-space":"","bottom-slots":"",label:e.label,value:e.value,error:e.cError,"error-message":e.cErrorMessage},nativeOn:{input:function(t){return e.valorInputSeEmpty.apply(null,arguments)}},scopedSlots:e._u([e.iconElment.name?{key:"before",fn:function(){return[t("q-icon",{attrs:{name:e.iconElment.name,size:e.iconElment.size,color:e.iconElment.color}})]},proxy:!0}:null,e._l(e.$scopedSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},"q-input",e.$attrs,!1),e.$listeners))],1)},o=[],s=a("7f53"),r={extends:s["b"],name:"ccInput",inheritAttrs:!1,data(){return{}},props:{value:[String,Number,Date],label:String,classAtrrs:{type:String,default:()=>""},error:{type:[String,Boolean,Number],default:"NI"},errorMessage:{type:[String,Boolean,Number],default:""},dense:{type:Boolean,default:!0},icon:{type:Object,default:()=>{}}},computed:{cError(){return"NI"==this.error?this.hasErrors:this.error},cErrorMessage(){return""==this.errorMessage?this.firstErrorMessage:this.errorMessage},iconElment:{cache:!1,get(){const e={name:null,size:"24px",color:"#000"},t={...e,...this.icon};return t.name?t:e}}},methods:{valorInputSeEmpty(e){e.target.value?this.$emit("input",e.target.value):this.$emit("input",null)}}},i=r,c=a("2877"),d=a("27f9"),l=a("0016"),u=a("eebe"),p=a.n(u),m=Object(c["a"])(i,n,o,!1,null,"79826934",null);t["a"]=m.exports;p()(m,"components",{QInput:d["a"],QIcon:l["a"]})},6320:function(e,t,a){"use strict";a.d(t,"o",(function(){return o})),a.d(t,"h",(function(){return s})),a.d(t,"i",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"f",(function(){return d})),a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"n",(function(){return m})),a.d(t,"k",(function(){return f})),a.d(t,"p",(function(){return h})),a.d(t,"m",(function(){return g})),a.d(t,"a",(function(){return b})),a.d(t,"r",(function(){return v})),a.d(t,"d",(function(){return _})),a.d(t,"q",(function(){return E})),a.d(t,"l",(function(){return O}));var n=a("8982");function o(){return Object(n["a"])({url:"/tenants/business-hours/",method:"get"})}function s(e){return Object(n["a"])({url:"/tenants/business-hours/",method:"put",data:e})}function r(e){return Object(n["a"])({url:"/tenants/message-business-hours/",method:"put",data:e})}function i(){return Object(n["a"])({url:"/admin/tenants/",method:"get"})}function c(e,t){return Object(n["a"])({url:`/admin/status/tenant/${e}`,method:"put",data:t})}function d(e,t){return Object(n["a"])({url:`/admin/empresa/${e}`,method:"put",data:t})}function l(e="active"){return Object(n["a"])({url:"/admin/tenants/",method:"get",params:{status:e}})}function u(e){return Object(n["a"])({url:`/admin/users/${e}`,method:"get"})}function p(e){return Object(n["a"])({url:"/admin/tenants/",method:"post",data:e})}function m(){return Object(n["a"])({url:"/admin/channels",method:"get"})}function f(e){return Object(n["a"])({url:"/empresa/signup",method:"post",data:e})}function h(){return Object(n["a"])({url:"/tenants/date/",method:"get"})}function g(e){return Object(n["a"])({url:`/admin/tenants/${e.id}`,method:"delete"})}function b(e){return Object(n["a"])({url:`/admin/tenantsMonth/${e.id}`,method:"post"})}function v(e,t){const a=new FormData;return a.append("file",e),Object(n["a"])({url:`/admin/media-upload?ref=${t}`,method:"post",data:a,headers:{"Content-Type":"multipart/form-data"}})}function _(e){return Object(n["a"])({url:`/admin/invoices/list/${e}`,method:"get"})}function E(e){return Object(n["a"])({url:"/admin/invoices/"+e.id,method:"put",data:e})}function O(e){return Object(n["a"])({url:`/admin/invoices/${e.id}`,method:"delete"})}},7884:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r}));var n=a("8982");function o(e){return Object(n["a"])({url:"/auth/login/",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/auth/logout/",method:"post",data:e})}function r(){return Object(n["a"])({url:"/auth/refresh_token",method:"post"})}},8982:function(e,t,a){"use strict";a("14d9");var n=a("cee4"),o=a("a18c"),s=a("f508"),r=a("a154"),i=a("06d5");const c={};let d=new Date;c.show=function(e){const t=new Date,a=t-d;d=t,a>2e3&&("gears"===e.loading||"hourglass"===e.loading?s["a"].show({spinner:r["a"],message:"",messageColor:"white",spinnerSize:100,spinnerColor:"white",customClass:""}):s["a"].show({spinner:i["a"],message:"Estamos trabalhando...",messageColor:"white",spinnerSize:150,spinnerColor:"white",customClass:""}))},c.hide=function(e){setTimeout((()=>{s["a"].hide()}),1e3)};var l=c,u=a("2a19");const p={ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.",ERR_WAPP_NOT_INITIALIZED:"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.",ERR_WAPP_INITIALIZED:"Não está conectado com o Whatsapp. Estamos reiniciando a conexão. Tente novamente em alguns segundos.",ERR_WAPP_CHECK_CONTACT:"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões",ERR_WAPP_INVALID_CONTACT:"Este não é um número de Whatsapp válido.",ERR_WAPP_DOWNLOAD_MEDIA:"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.",ERR_INVALID_CREDENTIALS:"Erro de autenticação. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.",ERR_DELETE_WAPP_MSG:"Não foi possível excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"Já existe um Ticket aberto para este contato.",ERR_SESSION_EXPIRED:"Sessão expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A criação do usuário foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Você não tem permissão para acessar este recurso.",ERR_DUPLICATED_CONTACT:"Já existe um contato com este número.",ERR_NO_SETTING_FOUND:"Nenhuma configuração encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum Ticket encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usuário encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar Ticket no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhatsApp, talvez ela seja muito antiga."};var m=p,f=a("7884");const h=n["a"].create({baseURL:"http://localhost:3100",timeout:2e4}),g=e=>{var t,a;const n=null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error;let o="Ocorreu um erro não identificado.";n&&(o=m[n]?m[n]:e.response.data.error),u["a"].create({position:"top",type:"negative",html:!0,progress:!0,message:`${JSON.stringify(o)}`})};h.interceptors.request.use((e=>{try{e.loading&&l.show(e.loading)}catch(n){}const t=JSON.parse(localStorage.getItem("token")),a="Bearer "+t;return a&&(e.headers.Authorization=a),e}),(e=>{Promise.reject(e)})),h.interceptors.response.use((e=>{l.hide(e.config);const t=e,a=t.status;return"2"!==a.toString().substr(0,1)?Promise.reject("error"):e}),(e=>{var t;return l.hide(e.config),403!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)||e.config._retry||(e.config._retry=!0,Object(f["c"])().then((e=>{e.data&&localStorage.setItem("token",JSON.stringify(e.data.token))}))),e.response&&401===e.response.status?(localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("profile"),localStorage.removeItem("userId"),-1===e.config.url.indexOf("logout")&&(g(e),setTimeout((()=>{o["a"].push({name:"login"})}),2e3))):e.response&&500===e.response.status?g(e):e.message.indexOf("timeout")>-1&&u["a"].create({message:"Processando informações de estatisticas",position:"top",type:"positive",progress:!0,html:!0}),Promise.reject(e.response)}));t["a"]=h},"9a1b":function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"i",(function(){return p}));var n=a("8982");function o(e){return Object(n["a"])({url:"/users/",method:"get",params:e})}function s(e){return Object(n["a"])({url:"/users",method:"post",data:e})}function r(e,t){return Object(n["a"])({url:`/users/${e}`,method:"put",data:t})}function i(e,t){return Object(n["a"])({url:`/admin/users/${e}`,method:"put",data:t})}function c(e,t){return Object(n["a"])({url:`/users/${e}/configs`,method:"put",data:t})}function d(e){return Object(n["a"])({url:`/users/${e}`,method:"get"})}function l(e){return Object(n["a"])({url:`/users/${e}`,method:"delete"})}function u(e){return Object(n["a"])({url:"/users/chat-interno/",method:"get",params:e})}function p(){return Object(n["a"])({url:"/admin/userstotal",method:"get"})}},a18c:function(e,t,a){"use strict";var n=a("2b0e"),o=a("8c4f"),s=a("2a19"),r=a("6320"),i=a("e3ee"),c=a("3683");const d=[{path:"/",component:()=>Promise.all([a.e(0),a.e(1),a.e(4)]).then(a.bind(null,"713b")),redirect:{name:"home"},children:[{path:"",component:()=>Promise.all([a.e(0),a.e(1),a.e(6)]).then(a.bind(null,"d77e"))},{path:"/home",name:"home-dashboard",component:()=>Promise.all([a.e(0),a.e(1),a.e(6)]).then(a.bind(null,"d77e"))},{path:"/painel-atendimentos",name:"painel-atendimentos",component:()=>Promise.all([a.e(0),a.e(1),a.e(32)]).then(a.bind(null,"d84c"))},{path:"/sessoes",name:"sessoes",component:()=>Promise.all([a.e(0),a.e(1),a.e(40)]).then(a.bind(null,"c124"))},{path:"/contatos",name:"contatos",component:()=>Promise.all([a.e(0),a.e(1),a.e(3)]).then(a.bind(null,"e090"))},{path:"/ajuda",name:"ajuda",component:()=>Promise.all([a.e(1),a.e(16)]).then(a.bind(null,"220b"))},{path:"/empresas",name:"empresas",component:()=>Promise.all([a.e(0),a.e(1),a.e(9)]).then(a.bind(null,"9f18")),meta:{requiresAuth:!0}},{path:"/usuarios",name:"usuarios",component:()=>Promise.all([a.e(0),a.e(1),a.e(26)]).then(a.bind(null,"9bad"))},{path:"/mensagens-rapidas",name:"mensagens-rapidas",component:()=>Promise.all([a.e(0),a.e(1),a.e(39)]).then(a.bind(null,"076b"))},{path:"/filas",name:"filas",component:()=>Promise.all([a.e(0),a.e(1),a.e(35)]).then(a.bind(null,"7010"))},{path:"/configuracoes",name:"configuracoes",component:()=>Promise.all([a.e(0),a.e(1),a.e(31)]).then(a.bind(null,"8ee8"))},{path:"/etiquetas",name:"etiquetas",component:()=>Promise.all([a.e(0),a.e(1),a.e(34)]).then(a.bind(null,"907f"))},{path:"/financeiro",name:"financeiro",component:()=>Promise.all([a.e(0),a.e(1),a.e(36)]).then(a.bind(null,"64f4"))},{path:"/campanhas",name:"campanhas",component:()=>Promise.all([a.e(0),a.e(1),a.e(11)]).then(a.bind(null,"983f"))},{path:"/campanhas/:campanhaId",name:"contatos-campanha",component:()=>Promise.all([a.e(0),a.e(1),a.e(18)]).then(a.bind(null,"8fbc"))},{path:"/horario-atendimento",name:"horarioAtendimento",component:()=>Promise.all([a.e(0),a.e(37)]).then(a.bind(null,"d3b1"))},{path:"/api-service",name:"api-service",component:()=>Promise.all([a.e(0),a.e(17)]).then(a.bind(null,"9c62"))},{path:"/chat-interno",name:"chat-interno",component:()=>Promise.all([a.e(0),a.e(1),a.e(19)]).then(a.bind(null,"eb1e"))},{path:"/equipes",name:"equipes",component:()=>Promise.all([a.e(0),a.e(20)]).then(a.bind(null,"0918"))},{path:"/protocolos",name:"protocolos",component:()=>Promise.all([a.e(0),a.e(1),a.e(21)]).then(a.bind(null,"d4bd"))},{path:"/agendamentos",name:"agendamentos",component:()=>Promise.all([a.e(0),a.e(15)]).then(a.bind(null,"5211"))},{path:"/tarefas",name:"tarefas",component:()=>Promise.all([a.e(0),a.e(1),a.e(41)]).then(a.bind(null,"9575"))},{path:"/integracoes",name:"integracoes",component:()=>Promise.all([a.e(0),a.e(1),a.e(38)]).then(a.bind(null,"cce6"))},{path:"/despedida",name:"despedida",component:()=>Promise.all([a.e(0),a.e(1),a.e(33)]).then(a.bind(null,"b839"))},{path:"/kanban",name:"kanban",component:()=>Promise.all([a.e(0),a.e(1),a.e(10)]).then(a.bind(null,"6fd3"))},{path:"/chat-flow",component:()=>a.e(30).then(a.bind(null,"5fd2")),redirect:"chat-flow",children:[{path:"",name:"chat-flow",component:()=>Promise.all([a.e(0),a.e(1),a.e(12)]).then(a.bind(null,"0bbc"))},{path:"builder",name:"chat-flow-builder",component:()=>Promise.all([a.e(0),a.e(1),a.e(8)]).then(a.bind(null,"e2bb"))}]},{path:"atendimento",name:"atendimento",component:()=>Promise.all([a.e(0),a.e(1),a.e(5)]).then(a.bind(null,"989e")),children:[{path:"chats",name:"chat-empty",component:()=>Promise.all([a.e(0),a.e(1),a.e(2)]).then(a.bind(null,"923d"))},{path:":ticketId",name:"chat",component:()=>Promise.all([a.e(0),a.e(1),a.e(2)]).then(a.bind(null,"923d"))},{path:"contatos",name:"chat-contatos",component:()=>Promise.all([a.e(0),a.e(1),a.e(3)]).then(a.bind(null,"e090")),props:{isChatContact:!0}}]}]},{path:"/relatorios",redirect:"relatorios",component:()=>Promise.all([a.e(0),a.e(1),a.e(4)]).then(a.bind(null,"713b")),children:[{path:"",name:"relatorios",component:()=>Promise.all([a.e(0),a.e(27)]).then(a.bind(null,"1e9a"))},{path:"estatisticas-atendimentos-usuarios",name:"estatisticas-atendimentos-usuarios",component:()=>Promise.all([a.e(0),a.e(1),a.e(25)]).then(a.bind(null,"088f"))},{path:"lista-contatos",name:"lista-contatos",component:()=>Promise.all([a.e(0),a.e(1),a.e(24)]).then(a.bind(null,"2162"))},{path:"contatos-por-etiquetas",name:"contatos-por-etiquetas",component:()=>Promise.all([a.e(0),a.e(1),a.e(23)]).then(a.bind(null,"b1ff"))},{path:"contatos-por-estado",name:"contatos-por-estado",component:()=>Promise.all([a.e(0),a.e(1),a.e(22)]).then(a.bind(null,"e2bc"))}]},{path:"/atendimento",name:"atendimento",component:()=>Promise.all([a.e(0),a.e(1),a.e(5)]).then(a.bind(null,"989e")),children:[{path:"/chats/",name:"chat-empty",component:()=>Promise.all([a.e(0),a.e(1),a.e(2)]).then(a.bind(null,"923d"))},{path:":ticketId",name:"chat",component:()=>Promise.all([a.e(0),a.e(1),a.e(2)]).then(a.bind(null,"923d"))},{path:"contatos",name:"chat-contatos",component:()=>Promise.all([a.e(0),a.e(1),a.e(3)]).then(a.bind(null,"e090")),props:{isChatContact:!0}}]},{path:"*",name:"404",component:()=>a.e(28).then(a.bind(null,"e51e"))},{path:"/signup",name:"signup",component:()=>Promise.all([a.e(0),a.e(1),a.e(14)]).then(a.bind(null,"e422"))},{path:"/login",name:"login",component:()=>Promise.all([a.e(0),a.e(1),a.e(13)]).then(a.bind(null,"013f"))}];var l=d;n["a"].use(o["a"]);const u=new o["a"]({scrollBehavior:()=>({x:0,y:0}),routes:l,mode:"hash",base:""}),p=["login"];u.beforeEach((async(e,t,a)=>{const n=JSON.parse(localStorage.getItem("token"));if(n){const{data:t}=await Object(r["p"])(),n=Object(i["a"])(t.dueDate),o=Object(c["a"])(n,new Date);if(o<0&&"financeiro"!==e.name)s["a"].create({message:"Seu plano está vencido. Por favor, renove seu plano.",position:"top"}),a({name:"financeiro"});else if(e.meta.requiresAuth){const t=JSON.parse(localStorage.getItem("usuario"));"admin"===t.profile?("/empresas"===e.fullPath&&1!==t.tenantId&&(s["a"].create({message:"Acesso não autorizado",position:"top"}),a({name:"home-dashboard"})),a()):(s["a"].create({message:"Acesso não autorizado",position:"top"}),a({name:"home-dashboard"}))}else a()}else-1===p.indexOf(e.name)?"/login"===e.fullPath||"/signup"===e.fullPath||e.query.tokenSetup?a():(s["a"].create({message:"Necessário realizar login",position:"top"}),a({name:"login"})):a()})),u.afterEach((e=>{window.scrollTo(0,0)}));t["a"]=u},a3b0:function(e,t,a){var n={"./de":"75b3","./de.js":"75b3","./en-gb":"1267","./en-gb.js":"1267","./en-us":"d23a","./en-us.js":"d23a","./es":"ec5d3","./es-419":"1805","./es-419.js":"1805","./es.js":"ec5d3","./fr":"be0b","./fr.js":"be0b","./it":"58dc","./it.js":"58dc","./pl":"c817","./pl.js":"c817","./pt":"b4ad","./pt-br":"ccc7","./pt-br.js":"ccc7","./pt.js":"b4ad","./ru":"1af2","./ru.js":"1af2"};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="a3b0"},c5bd:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"j",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"p",(function(){return l})),a.d(t,"g",(function(){return u})),a.d(t,"m",(function(){return p})),a.d(t,"l",(function(){return m})),a.d(t,"i",(function(){return f})),a.d(t,"h",(function(){return h})),a.d(t,"k",(function(){return g})),a.d(t,"q",(function(){return b})),a.d(t,"n",(function(){return v})),a.d(t,"a",(function(){return _})),a.d(t,"o",(function(){return E}));var n=a("8982");function o(e){return Object(n["a"])({url:"/tickets",method:"get",params:e})}function s(e){return Object(n["a"])({url:`/tickets/${e.id}`,method:"get",params:e})}function r(e){return Object(n["a"])({url:`/tickets/${e}`,method:"delete"})}function i(e){return Object(n["a"])({url:`/tickets/${e.ticketId}/logs`,method:"get",params:e})}function c(e,t,a){return Object(n["a"])({url:`/tickets/${e}`,method:"put",data:{status:t,userId:a}})}function d(e,t){return Object(n["a"])({url:`/tickets/${e}`,method:"put",data:t})}function l(e){return Object(n["a"])({url:`/messages/${e.ticketId}`,method:"get",params:e})}function u(e){return Object(n["a"])({url:"/count/messages",method:"get",params:e})}function p(e,t){return Object(n["a"])({url:`/messages/${e}`,method:"post",data:t})}function m(e,t){const a={messages:e,contact:t};return Object(n["a"])({url:"/forward-messages/",method:"post",data:a})}function f(e){return Object(n["a"])({url:`/messages/${e.messageId}`,method:"delete",data:e})}function h(e){return Object(n["a"])({url:"/tickets",method:"post",data:e})}function g(e){return Object(n["a"])({url:`/messages/edit/${e.messageId}`,method:"post",data:e})}function b(e){return Object(n["a"])({url:`/messages/reactions/${e.messageId}`,method:"post",data:e})}function v(e){return Object(n["a"])({url:"/tickets/close-tickets",method:"post",data:e})}function _(e){return Object(n["a"])({url:"/tickets/del-tickets",method:"post",data:e})}function E(e){return Object(n["a"])({url:"/schedule",method:"get",params:e})}}});