(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{d3b1:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return"admin"===e.userProfile?t("div",[t("q-card",{staticClass:"q-ma-lg container-border container-rounded-10",attrs:{square:""}},[t("div",{staticClass:"q-pa-sm q-ma-sm"},[t("h2",{class:e.$q.dark.isActive?"text-green":""},[e._v("\n        Horário de Atendimento\n        "),t("q-icon",{attrs:{name:"help"}},[t("q-tooltip",{attrs:{"content-class":"bg-light-blue-1 text-black q-pa-sm shadow-4"}},[t("span",{staticClass:"text-weight-medium"},[e._v(" Tipos de horário: ")]),t("span",{staticClass:"row col"},[e._v("\n            Aberto: Estabelecimento aberto durante todo o dia. Não será feito envio de mensagem de ausência;\n          ")]),t("span",{staticClass:"row col"},[e._v("\n            Fechado: Estabelecimento fechado durante todo o dia. Será feito envio de mensagem de ausência, independente do horário;\n          ")]),t("span",{staticClass:"row col"},[e._v("\n            Horário: Representa o horário de funcionamento do estabelecimento. O sistema enviará mensagem de ausênica quando mensagens forem recebidas fora dos horários estabelecidos.\n          ")]),t("span",{staticClass:"row col"},[e._v("\n            **Importante: A mensagem de ausência será enviada após o encerramento do atendimento automático.\n          ")])])],1)],1),t("q-btn",{staticClass:"btn-rounded-50 generate-button",attrs:{label:"Salvar",icon:"eva-save-outline"},on:{click:e.salvarHorariosAtendimento}})],1),t("q-separator"),t("q-card-section",[t("div",{staticClass:"row q-col-gutter-sm"},e._l(e.businessHours,(function(s){return t("div",{key:s.value,staticClass:"col-xs-12 col-sm-4 q-mt-sm"},[t("q-card",{staticClass:"container-rounded-10",attrs:{square:"",bordered:"",flat:""}},[t("div",{staticClass:"font-family-main text-bold bg-grey-2 q-pa-xs q-pl-sm",class:e.$q.dark.isActive?"text-black":""},[e._v("\n              "+e._s(s.label)+"\n            ")]),t("q-separator"),t("q-card-section",{staticClass:"q-pt-none"},[t("q-option-group",{staticClass:"row container-border container-rounded-10 q-mt-sm q-pr-md justify-between q-mb-md",attrs:{inline:"",options:e.optType,color:"primary"},model:{value:s.type,callback:function(t){e.$set(s,"type",t)},expression:"dia.type"}}),t("div",{staticClass:"row items-baseline q-gutter-sm"},[t("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==s.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:s.hr1,callback:function(t){e.$set(s,"hr1",t)},expression:"dia.hr1"}}),t("h6",[e._v("às")]),t("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==s.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:s.hr2,callback:function(t){e.$set(s,"hr2",t)},expression:"dia.hr2"}})],1),t("div",{staticClass:"row items-baseline q-gutter-sm"},[t("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==s.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:s.hr3,callback:function(t){e.$set(s,"hr3",t)},expression:"dia.hr3"}}),t("h6",[e._v("às")]),t("q-input",{staticClass:"col-grow",attrs:{disable:"H"!==s.type,dense:"",outlined:"","error-message":"Obrigatório","hide-underline":"",type:"time"},model:{value:s.hr4,callback:function(t){e.$set(s,"hr4",t)},expression:"dia.hr4"}})],1)],1)],1)],1)})),0)])],1),t("q-card",{staticClass:"q-ma-lg container-rounded-10 full-full-height",attrs:{square:"",bordered:""}},[t("div",{staticClass:"q-pa-sm q-ma-sm"},[t("h2",{class:e.$q.dark.isActive?"text-green":""},[e._v("\n        Mensagem de Ausência\n      ")]),t("q-btn",{staticClass:"generate-button btn-rounded-50",attrs:{icon:"eva-save-outline",label:"Salvar"},on:{click:e.salvarMensagemAusencia}})],1),t("q-card-section",{staticClass:"q-pt-none"},[t("div",{staticClass:"row items-center"},[t("div",{staticClass:"col-xs-3 col-sm-2 col-md-1"},[t("q-btn",{staticClass:"q-ml-sm",attrs:{round:"",flat:""}},[t("q-icon",{attrs:{size:"2em",name:"mdi-emoticon-happy-outline"}}),t("q-tooltip",[e._v("\n              Emoji\n            ")]),t("q-menu",{attrs:{anchor:"top right",self:"bottom middle",offset:[5,40]}},[t("VEmojiPicker",{staticStyle:{width:"40vw"},attrs:{showSearch:!1,emojisByRow:20,labelSearch:"Localizar...",lang:"pt-BR"},on:{select:e.onInsertSelectEmoji}})],1)],1),t("q-btn",{attrs:{round:"",flat:"",dense:""}},[t("q-icon",{attrs:{size:"2em",name:"mdi-variable"}}),t("q-tooltip",[e._v("\n            Variáveis\n          ")]),t("q-menu",{attrs:{"touch-position":""}},[t("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},e._l(e.variaveis,(function(s){return t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:s.label,attrs:{clickable:""},on:{click:function(t){return e.onInsertSelectVariable(s.value)}}},[t("q-item-section",[e._v(e._s(s.label))])],1)})),1)],1)],1)],1),t("div",{staticClass:"col-xs-8 col-sm-10 col-md-11 q-pl-sm"},[t("textarea",{ref:"inputEnvioMensagem",staticClass:"q-pa-sm bg-white full-width",staticStyle:{"min-height":"9vh","max-height":"9vh"},attrs:{placeholder:"Digite a mensagem",autogrow:"",dense:"",outlined:""},domProps:{value:e.messageBusinessHours},on:{input:t=>e.messageBusinessHours=t.target.value}})])])])],1)],1):e._e()},o=[],i=s("79b5"),n=s("6320"),r={name:"HorarioAtendimento",components:{VEmojiPicker:i["a"]},data(){return{userProfile:"user",optType:[{value:"O",label:"Aberto"},{value:"C",label:"Fechado"},{value:"H",label:"Horário"}],variaveis:[{label:"Nome Completo",value:"{{name}}"},{label:"Nome",value:"{{firstName}}"},{label:"Saudação",value:"{{greeting}}"},{label:"Protocolo",value:"{{protocol}}"},{label:"Numero Ticket",value:"{{ticket_id}}"},{label:"Hora",value:"{{hour}}"},{label:"Data",value:"{{date}}"}],businessHours:[{day:0,label:"Domingo",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:1,label:"Segunda-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:2,label:"Terça-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:3,label:"Quarta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:4,label:"Quinta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:5,label:"Sexta-Feira",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"},{day:6,label:"Sábado",type:"O",hr1:"08:00",hr2:"12:00",hr3:"14:00",hr4:"18:00"}],messageBusinessHours:null}},methods:{onInsertSelectVariable(e){const t=this;var s=this.$refs.inputEnvioMensagem,a=s.selectionStart,o=s.selectionEnd,i=a,n=s.value;e&&(t.txtContent=this.messageBusinessHours,t.txtContent=n.substring(0,a)+e+n.substring(o,n.length),this.messageBusinessHours=t.txtContent,setTimeout((()=>{s.selectionStart=s.selectionEnd=i+1}),10))},onInsertSelectEmoji(e){const t=this;var s=this.$refs.inputEnvioMensagem,a=s.selectionStart,o=s.selectionEnd,i=a,n=s.value;e.data&&(t.txtContent=this.messageBusinessHours,t.txtContent=n.substring(0,a)+e.data+n.substring(o,n.length),this.messageBusinessHours=t.txtContent,setTimeout((()=>{s.selectionStart=s.selectionEnd=i+e.data.length}),10))},async listarMensagemHorariosAtendimento(){const{data:e}=await Object(n["o"])();this.businessHours=e.businessHours,this.messageBusinessHours=e.messageBusinessHours},async salvarHorariosAtendimento(){try{const{data:e}=await Object(n["h"])(this.businessHours);this.businessHours=e.businessHours,this.$q.notify({color:"positive",position:"top",message:"Horário de funcionamento atualizado."})}catch(e){console.log("Horário de funcionamento erro :"+e)}},async salvarMensagemAusencia(){try{const{data:e}=await Object(n["i"])({messageBusinessHours:this.messageBusinessHours});this.messageBusinessHours=e.messageBusinessHours,this.$q.notify({color:"positive",position:"top",message:"Mensagem de ausência atualizada."})}catch(e){console.log("Mensagem de ausência erro :"+e)}}},mounted(){this.listarMensagemHorariosAtendimento(),this.userProfile=localStorage.getItem("profile")}},l=r,c=s("2877"),u=s("f09f"),d=s("0016"),m=s("05c0"),h=s("9c40"),p=s("eb85"),b=s("a370"),v=s("9f0a"),g=s("27f9"),q=s("4e73"),f=s("1c1c"),y=s("66e5"),C=s("4074"),H=s("7f67"),w=s("eebe"),x=s.n(w),S=Object(c["a"])(l,a,o,!1,null,"05386423",null);t["default"]=S.exports;x()(S,"components",{QCard:u["a"],QIcon:d["a"],QTooltip:m["a"],QBtn:h["a"],QSeparator:p["a"],QCardSection:b["a"],QOptionGroup:v["a"],QInput:g["a"],QMenu:q["a"],QList:f["a"],QItem:y["a"],QItemSection:C["a"]}),x()(S,"directives",{ClosePopup:H["a"]})}}]);