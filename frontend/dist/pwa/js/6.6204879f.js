(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"1dcc":function(t,e,a){},"4e0d":function(t,e,a){"use strict";a("7d24")},"7d24":function(t,e,a){},bc9f:function(t,e,a){"use strict";a("1dcc")},d77e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-sm",class:{"bg-grey-9":t.$q.dark.isActive}},[e("vencimento"),e("q-card",{staticClass:"dashboard-header"},[e("q-card-section",{staticClass:"row justify-between items-center"},[e("div",{staticClass:"dashboard-title col-xs-12 col-md-3 text-h4 text-bold text-md-left",class:{"text-green":t.$q.dark.isActive}},[t._v("\n          Painel de Controle\n        ")]),e("div",{staticClass:"dashboard-header-inputs col-xs-12 col-md-9 justify-end flex q-gutter-sm text-center text-md-right q-my-md rdsPainelDate"},[e("div",{staticClass:"q-mb-sm"},[e("q-datetime-picker",{staticStyle:{width:"200px"},attrs:{dense:"","hide-bottom-space":"",outlined:"","stack-label":"","bottom-slots":"",label:"Data/Hora Agendamento",mode:"date",color:"primary",format24h:""},model:{value:t.params.startDate,callback:function(e){t.$set(t.params,"startDate",e)},expression:"params.startDate"}})],1),e("div",{staticClass:"q-mb-sm"},[e("q-datetime-picker",{staticStyle:{width:"200px"},attrs:{dense:"","hide-bottom-space":"",outlined:"","stack-label":"","bottom-slots":"",label:"Data/Hora Agendamento",mode:"date",color:"primary",format24h:""},model:{value:t.params.endDate,callback:function(e){t.$set(t.params,"endDate",e)},expression:"params.endDate"}})],1),e("q-btn",{staticClass:"generate-button q-mb-sm",class:{"generate-button-dark":t.$q.dark.isActive},attrs:{flat:"",icon:"refresh",label:"Gerar"},on:{click:t.getDashData}}),"disabled"===t.grupoAtivo?e("q-toggle",{attrs:{"checked-icon":"check","unchecked-icon":"clear",color:t.toggleValue?"green":"negative",size:"md"},on:{input:t.handleGroups},model:{value:t.toggleValue,callback:function(e){t.toggleValue=e},expression:"toggleValue"}},[e("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle"}},[e("span",[t._v("Filtrar Grupos")])])],1):t._e()],1)])],1),"admin"===t.userProfile?e("div",{staticClass:"row justify-center"},[e("q-btn",{staticClass:"generate-button btn-rounded-50",class:{"generate-button-dark":t.$q.dark.isActive},attrs:{flat:"",icon:"mdi-close",label:"Fechamento tickets em Massa"},on:{click:t.fecharTicketsEmMassa}},[e("q-tooltip",{attrs:{"content-class":"text-bold"}},[t._v("\n          Fechamento tickets em Massa\n        ")])],1),e("q-btn",{staticClass:"generate-button btn-rounded-50",class:{"generate-button-dark":t.$q.dark.isActive},attrs:{flat:"",icon:"mdi-close",label:"Apagar tickets em Massa"},on:{click:t.apagarTicketsMassa}},[e("q-tooltip",{attrs:{"content-class":"text-bold"}},[t._v("\n          Apagar tickets em Massa\n        ")])],1)],1):t._e(),!1===t.toggleValue?e("q-card",{staticClass:"q-my-md",staticStyle:{"box-shadow":"none !important","background-color":"transparent"}},[e("q-card",{staticClass:"dashboard-container-cards"},[e("q-card-section",{staticClass:"dashboard-cards q-pa-md q-mb-sm"},[e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",class:{"bg-dark text-green":t.$q.dark.isActive},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"my-card-text text-caption my-card-content"},[t._v("Total Atendimentos")]),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("p",{staticClass:"my-card-number my-card-content text-h4 text-bold text-center"},[t._v("\n                      "+t._s(t.ticketsAndTimes.qtd_total_atendimentos)+"\n                    ")])]),e("div",{staticClass:"col"},[e("q-icon",{staticClass:"my-card-content",attrs:{name:"mdi-account-multiple",size:"xl",color:"#2f2f2f"}})],1)])])],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",class:{"bg-dark text-green":t.$q.dark.isActive},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"my-card-text text-caption my-card-content"},[t._v("Ativo")]),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("p",{staticClass:"my-card-number my-card-content text-h4 text-bold text-center"},[t._v("\n                      "+t._s(t.ticketsAndTimes.qtd_demanda_ativa)+"\n                    ")])]),e("div",{staticClass:"col"},[e("q-icon",{staticClass:"my-card-content",attrs:{name:"mdi-account-check",size:"xl",color:"#2f2f2f"}})],1)])])],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",class:{"bg-dark text-green":t.$q.dark.isActive},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"my-card-text text-caption my-card-content"},[t._v("Receptivo")]),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("p",{staticClass:"my-card-number text-h4 text-bold text-center my-card-content"},[t._v("\n                      "+t._s(t.ticketsAndTimes.qtd_demanda_receptiva)+"\n\n                    ")])]),e("div",{staticClass:"col"},[e("q-icon",{staticClass:"my-card-content",attrs:{name:"mdi-phone-incoming",size:"xl",color:"#2f2f2f"}})],1)])])],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",class:{"bg-dark text-green":t.$q.dark.isActive},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"my-card-text text-caption my-card-content"},[t._v("Novos Contatos")]),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("p",{staticClass:"my-card-number text-h4 text-bold text-center my-card-content"},[t._v("\n                      "+t._s(t.ticketsAndTimes.new_contacts)+"\n                    ")])]),e("div",{staticClass:"col"},[e("q-icon",{staticClass:"my-card-content",attrs:{name:"mdi-account-plus",size:"xl",color:"#2f2f2f"}})],1)])])],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",class:{"bg-dark text-green":t.$q.dark.isActive},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"my-card-text text-caption my-card-content"},[t._v("Tempo Médio de Atendimento")]),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("p",{staticClass:"my-card-number text-h5 text-bold text-center my-card-content"},[t._v("\n                      "+t._s(t.cTmaFormat)+"\n                    ")])]),e("div",{staticClass:"col"},[e("q-icon",{staticClass:"my-card-content",attrs:{name:"mdi-clock-outline",size:"xl",color:"#2f2f2f"}})],1)])])],1)],1),e("div",{staticClass:"col-xs-12 col-sm-shrink"},[e("q-card",{staticClass:"my-card full-height",class:{"bg-dark text-green":t.$q.dark.isActive},attrs:{flat:"",bordered:""}},[e("q-card-section",{staticClass:"text-center"},[e("p",{staticClass:"my-card-text text-caption my-card-content"},[t._v("Tempo Médio 1º Resposta")]),e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col"},[e("p",{staticClass:"my-card-number text-h5 text-bold text-center"},[t._v("\n                  "+t._s(t.cTmeFormat)+"\n                  ")])]),e("div",{staticClass:"col"},[e("q-icon",{staticClass:"my-card-content",attrs:{name:"mdi-timer-sand",size:"xl",color:"#2f2f2f"}})],1)])])],1)],1)])])],1)],1):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-sm-6"},[e("q-card",[e("q-card-section",{staticClass:"q-pa-md"},[e("ApexChart",{ref:"ChartTicketsChannels",attrs:{type:"pie",height:"300",width:"100%",options:t.ticketsChannelsOptions,series:t.ticketsChannelsOptions.series}})],1)],1)],1),e("div",{staticClass:"col-xs-12 col-sm-6"},[e("q-card",[e("q-card-section",{staticClass:"q-pa-md"},[e("ApexChart",{ref:"ChartTicketsQueue",attrs:{type:"pie",height:"300",width:"100%",options:t.ticketsQueueOptions,series:t.ticketsQueueOptions.series}})],1)],1)],1)]),e("q-card",{staticClass:"q-my-md"},[e("q-card-section",[e("ApexChart",{ref:"ChartTicketsEvolutionChannels",attrs:{type:"bar",height:"300",width:"100%",options:t.ticketsEvolutionChannelsOptions,series:t.ticketsEvolutionChannelsOptions.series}})],1)],1),e("q-card",{staticClass:"q-my-md"},[e("q-card-section",{staticClass:"q-pa-md"},[e("ApexChart",{ref:"ChartTicketsEvolutionByPeriod",attrs:{type:"line",height:"300",options:t.ticketsEvolutionByPeriodOptions,series:t.ticketsEvolutionByPeriodOptions.series}})],1)],1),!1===t.toggleValue?e("q-card",{staticClass:"q-my-md q-pa-sm"},[e("q-card-section",{staticClass:"q-pa-md"},[e("q-table",{attrs:{title:"Desempenho da Equipe",data:t.ticketsPerUsersDetail,columns:t.TicketsPerUsersDetailColumn,"row-key":"email",pagination:t.paginationTableUser,"rows-per-page-options":[0],bordered:"",flat:"","hide-bottom":""},on:{"update:pagination":function(e){t.paginationTableUser=e}},scopedSlots:t._u([{key:"body-cell-name",fn:function(a){return[e("q-td",{attrs:{props:a}},[e("div",{staticClass:"row col text-bold"},[t._v(" "+t._s(a.row.name||"Não informado")+" ")]),e("div",{staticClass:"row col text-caption"},[t._v(t._s(a.row.email)+" ")])])]}},{key:"body-cell-avaliacao",fn:function(t){return[e("q-td",{attrs:{props:t}},[e("star-rating",{attrs:{rating:t.row.avaliacao,"star-size":20,"max-rating":3,increment:.01,"show-rating":!1,"active-color":"yellow","inactive-color":"grey","round-start-rating":!1}})],1)]}}],null,!1,150784796)})],1)],1):t._e(),e("q-dialog",{attrs:{persistent:""},on:{hide:function(e){t.modaFecharMassa=!1}},model:{value:t.modaFecharMassa,callback:function(e){t.modaFecharMassa=e},expression:"modaFecharMassa"}},[e("q-card",{staticClass:"container-rounded-10 modal-container q-pa-lg"},[e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",color:"negative",icon:"eva-close-outline"}})],1),e("q-card-section",[e("div",{staticClass:"text-h6 text-center font-family-main"},[t._v("Fechar Tickets em Massa")])]),e("div",{staticClass:"container-border container-rounded-10"},[e("q-card-section",{staticClass:"row flex-gap-1 q-col-gutter-sm"},[e("div",{staticClass:"text-h6 font-family-main"},[t._v("\n              Atenção, essa é uma ação em massa e não poderá ser revertida.\n            ")]),e("div",{staticClass:"flex-gap-1 full-width row q-col-gutter-sm"},[e("div",{staticClass:"full-width"},[e("q-datetime-picker",{staticClass:"row col",attrs:{dense:"",rounded:"",outlined:"",format24h:"",mode:"datetime",label:"Data e hora Inicial criação ticket"},model:{value:t.fecharTickets.dateStart,callback:function(e){t.$set(t.fecharTickets,"dateStart",e)},expression:"fecharTickets.dateStart"}})],1),e("div",{staticClass:"full-width"},[e("q-datetime-picker",{staticClass:"row col",attrs:{dense:"",rounded:"",outlined:"",format24h:"",mode:"datetime",label:"Data e hora Final criação ticket"},model:{value:t.fecharTickets.dateEnd,callback:function(e){t.$set(t.fecharTickets,"dateEnd",e)},expression:"fecharTickets.dateEnd"}})],1),e("div",{staticClass:"full-width"},[e("q-select",{attrs:{rounded:"",outlined:"",dense:"",options:t.optionsTickets,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:"Status"},model:{value:t.fecharTickets.status,callback:function(e){t.$set(t.fecharTickets,"status",e)},expression:"fecharTickets.status"}})],1),e("div",{staticClass:"full-width"},[e("q-select",{attrs:{rounded:"",outlined:"",dense:"",label:"Canal",options:t.listaWhats,"map-options":"","emit-value":"","option-value":"id","option-label":"name",clearable:""},model:{value:t.fecharTickets.whatsappId,callback:function(e){t.$set(t.fecharTickets,"whatsappId",e)},expression:"fecharTickets.whatsappId"}})],1),e("div",{staticClass:"full-width"},[e("q-checkbox",{attrs:{label:"Grupo"},model:{value:t.fecharTickets.isGroup,callback:function(e){t.$set(t.fecharTickets,"isGroup",e)},expression:"fecharTickets.isGroup"}})],1)])])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-px-md q-mr-sm btn-rounded-50",attrs:{label:"Cancelar",color:"negative"}}),e("q-btn",{staticClass:"q-px-md btn-rounded-50 generate-button",attrs:{label:"Executar",icon:"eva-save-outline"},on:{click:t.handleFecharMassa}})],1)],1)],1),e("q-dialog",{attrs:{persistent:""},on:{hide:function(e){t.modarApagarMassa=!1}},model:{value:t.modarApagarMassa,callback:function(e){t.modarApagarMassa=e},expression:"modarApagarMassa"}},[e("q-card",{staticClass:"container-rounded-10 modal-container q-pa-lg"},[e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",color:"negative",icon:"eva-close-outline"}})],1),e("q-card-section",[e("div",{staticClass:"text-h6 text-center font-family-main"},[t._v("Apagar Tickets em Massa")])]),e("div",{staticClass:"container-border container-rounded-10"},[e("q-card-section",{staticClass:"row flex-gap-1 q-col-gutter-sm"},[e("div",{staticClass:"text-h6 font-family-main"},[t._v("\n              Atenção, essa é uma ação em massa e não poderá ser revertida.\n            ")]),e("div",{staticClass:"flex-gap-1 full-width row q-col-gutter-sm"},[e("div",{staticClass:"full-width"},[e("q-datetime-picker",{staticClass:"row col",attrs:{dense:"",rounded:"",outlined:"",format24h:"",mode:"datetime",label:"Data e hora Inicial criação ticket"},model:{value:t.apagarTickets.dateStart,callback:function(e){t.$set(t.apagarTickets,"dateStart",e)},expression:"apagarTickets.dateStart"}})],1),e("div",{staticClass:"full-width"},[e("q-datetime-picker",{staticClass:"row col",attrs:{dense:"",rounded:"",outlined:"",format24h:"",mode:"datetime",label:"Data e hora Final criação ticket"},model:{value:t.apagarTickets.dateEnd,callback:function(e){t.$set(t.apagarTickets,"dateEnd",e)},expression:"apagarTickets.dateEnd"}})],1),e("div",{staticClass:"full-width"},[e("q-select",{attrs:{rounded:"",outlined:"",dense:"",options:t.optionsTicketsApagar,"option-value":"value","option-label":"label","emit-value":"","map-options":"",label:"Status"},model:{value:t.apagarTickets.status,callback:function(e){t.$set(t.apagarTickets,"status",e)},expression:"apagarTickets.status"}})],1),e("div",{staticClass:"full-width"},[e("q-select",{attrs:{rounded:"",outlined:"",dense:"",label:"Canal",options:t.listaWhats,"map-options":"","emit-value":"","option-value":"id","option-label":"name",clearable:""},model:{value:t.apagarTickets.whatsappId,callback:function(e){t.$set(t.apagarTickets,"whatsappId",e)},expression:"apagarTickets.whatsappId"}})],1),e("div",{staticClass:"full-width"},[e("q-checkbox",{attrs:{label:"Grupo"},model:{value:t.apagarTickets.isGroup,callback:function(e){t.$set(t.apagarTickets,"isGroup",e)},expression:"apagarTickets.isGroup"}})],1)])])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-px-md q-mr-sm btn-rounded-50",attrs:{label:"Cancelar",color:"negative"}}),e("q-btn",{staticClass:"q-px-md btn-rounded-50 generate-button",attrs:{label:"Executar",icon:"eva-save-outline"},on:{click:t.handleApagarMassa}})],1)],1)],1)],1)},i=[],o=(a("14d9"),a("2ef0")),n=a("ee0e"),c=a("9a1b"),r=a("ab52"),l=a("7963"),d=a("b166"),p=a("ef06"),h=a("5dea"),m=a("5526"),u=a("3683"),b=a("1321"),g=a.n(b),f=a("0016"),v=a("5b3d"),k=a.n(v),y=function(){var t=this,e=t._self._c;return t.isDueSoon?e("div",{staticClass:"text-caption text-center q-pa-sm bg-red"},[e("q-badge",{attrs:{align:"middle",color:"primary"}},[t._v("\n    Seu Plano está vencendo! Pague antes "+t._s(t.duedate)+" para não perder o acesso.\n  ")])],1):t._e()},C=[],q=a("6320"),x=a("e3ee"),w={name:"Vencimento",data(){return{duedate:null,isDueSoon:!1}},methods:{async listarDate(){const{data:t}=await Object(q["p"])(),e=Object(x["a"])(t.dueDate),a=Object(d["a"])(e,"dd/MM/yyyy");this.duedate=a;const s=new Date,i=Object(u["a"])(e,s);i<=3&&i>0?this.isDueSoon=!0:i<=0&&(this.isDueSoon=!0,this.$router.push("/financeiro"))}},async mounted(){await this.listarDate()}},T=w,O=(a("bc9f"),a("2877")),A=a("58a81"),_=a("eebe"),D=a.n(_),E=Object(O["a"])(T,y,C,!1,null,null,null),M=E.exports;D()(E,"components",{QBadge:A["a"]});var $=a("c5bd"),F=a("5c26"),S={name:"IndexDashboard",components:{ApexChart:g.a,QIcon:f["a"],vencimento:M,StarRating:k.a},data(){return{listaWhats:[],fecharTickets:{dateStart:Object(d["a"])(Object(p["a"])(new Date,{days:30}),"yyyy-MM-dd"),dateEnd:Object(d["a"])(new Date,"yyyy-MM-dd"),optionsTickets:[{value:"open",label:"Aberto"},{value:"pending",label:"Pendente"}],listaWhats:[],isGroup:!1},modaFecharMassa:!1,modarApagarMassa:!1,optionsTickets:[{value:"open",label:"Aberto"},{value:"pending",label:"Pendente"}],optionsTicketsApagar:[{value:"open",label:"Aberto"},{value:"pending",label:"Pendente"},{value:"closed",label:"Fechado"}],apagarTickets:{dateStart:Object(d["a"])(Object(p["a"])(new Date,{days:30}),"yyyy-MM-dd"),dateEnd:Object(d["a"])(new Date,"yyyy-MM-dd"),optionsTickets:[{value:"open",label:"Aberto"},{value:"pending",label:"Pendente"},{value:"closed",label:"Fechado"}],listaWhats:[],isGroup:!1},userProfile:"user",confiWidth:{horizontal:!1,width:this.$q.screen.width},toggleValue:!1,grupoAtivo:"disabled",params:{startDate:Object(d["a"])(Object(h["a"])(new Date,6),"yyyy-MM-dd"),endDate:Object(d["a"])(new Date,"yyyy-MM-dd"),queuesIds:[],userIds:[],isGroup:!1},paginationTableUser:{rowsPerPage:40,rowsNumber:0,lastIndex:0},filas:[],usuarios:[],ticketsChannels:[],ticketsChannelsOptions:{animations:{enabled:!0,easing:"easeinout",speed:1e3},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},chart:{toolbar:{show:!0}},legend:{position:"bottom"},title:{text:"Atendimento por canal"},noData:{text:"Sem dados aqui!",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},series:[],labels:[],theme:{mode:"light",palette:"palette1"},plotOptions:{pie:{dataLabels:{offset:-10}}},dataLabels:{enabled:!0,textAnchor:"middle",style:{fontSize:"16px",offsetY:"150",fontFamily:"Helvetica, Arial, sans-serif"},offsetX:0}},ticketsQueue:[],ticketsQueueOptions:{colors:["#008FFB","#00E396","#FEB019"],animations:{enabled:!0,easing:"easeinout",speed:1e3},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},chart:{toolbar:{show:!0}},legend:{position:"bottom"},title:{text:"Atendimento por fila"},noData:{text:"Sem dados aqui!",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},series:[],labels:[],theme:{mode:"light",palette:"palette1"},plotOptions:{pie:{dataLabels:{offset:-10}}},dataLabels:{enabled:!0,textAnchor:"middle",style:{fontSize:"16px",offsetY:"150",fontFamily:"Helvetica, Arial, sans-serif"},offsetX:0}},ticketsEvolutionChannels:[],ticketsEvolutionChannelsOptions:{animations:{enabled:!0,easing:"easeinout",speed:1e3},chart:{type:"bar",stacked:!0,stackType:"100%",toolbar:{tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:0}}},theme:{mode:"light",palette:"palette1"},grid:{show:!0,strokeDashArray:0},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},dataLabels:{enabled:!0},title:{text:"Evolução por canal",align:"left"},stroke:{width:0},xaxis:{type:"category",categories:[],tickPlacement:"on"},yaxis:{title:{text:"Atendimentos",style:{color:"#FFF"}}},tooltip:{y:{formatter:function(t){return Number(t).toFixed(0)}}}},ticketsEvolutionByPeriod:[],ticketsEvolutionByPeriodOptions:{animations:{enabled:!0,easing:"easeinout",speed:1e3},theme:{mode:"light",palette:"palette1"},chart:{toolbar:{tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:0}}},grid:{show:!0,strokeDashArray:0,xaxis:{lines:{show:!0}}},stroke:{width:[4,4,4]},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.05,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},title:{text:"Evolução atendimentos",align:"left"},dataLabels:{enabled:!0,enabledOnSeries:[1]},xaxis:{categories:[]},yaxis:{title:{text:"Atendimentos"}},tooltip:{shared:!1,x:{show:!1},y:{formatter:function(t){return Number(t).toFixed(0)}}},legend:{show:!1}},ticketsAndTimes:{qtd_total_atendimentos:null,qtd_demanda_ativa:null,qtd_demanda_receptiva:null,tma:null,tme:null},ticketsPerUsersDetail:[],TicketsPerUsersDetailColumn:[{name:"name",label:"Usuário",field:"name",align:"left",style:"width: 300px;",format:(t,e)=>t?`${e.name} | ${e.email}`:"Não informado"},{name:"qtd_pendentes",label:"Pendentes",field:"qtd_pendentes"},{name:"qtd_em_atendimento",label:"Atendendo",field:"qtd_em_atendimento"},{name:"qtd_resolvidos",label:"Finalizados",field:"qtd_resolvidos"},{name:"qtd_por_usuario",label:"Total",field:"qtd_por_usuario"},{name:"tme",label:"T.M.E",field:"tme",align:"center",headerStyle:"text-align: center !important",format:t=>Object(m["a"])(t)||""},{name:"tma",label:"T.M.A",field:"tma",align:"center",headerStyle:"text-align: center !important",format:t=>Object(m["a"])(t)||""},{name:"avaliacao",label:"Avaliação",field:"avaliacao",align:"center",headerStyle:"text-align: center !important"}]}},watch:{"$q.dark.isActive"(){this.$router.go()},"$q.screen.width"(){this.setConfigWidth()}},computed:{cTmaFormat(){const t=this.ticketsAndTimes.tma||{};return Object(m["a"])(t)||""},cTmeFormat(){const t=this.ticketsAndTimes.tme||{};return Object(m["a"])(t)||""}},methods:{async listaWhatsapp(){const{data:t}=await Object(F["d"])();this.listaWhats=t.filter((t=>t.isActive))},async handleApagarMassa(){try{const t={status:this.apagarTickets.status,startDate:this.apagarTickets.dateStart,endDate:this.apagarTickets.dateEnd,whatsappId:this.apagarTickets.whatsappId,isGroup:this.apagarTickets.isGroup},e=await Object($["a"])(t);200===e.status?(this.$q.notify({type:"positive",message:"Tickets apagados com sucesso!"}),setTimeout((()=>{window.location.reload()}),1e3)):(this.$q.notify({type:"negative",message:"Ocorreu um erro ao apagar os tickets."}),setTimeout((()=>{window.location.reload()}),1e3)),this.modaFecharMassa=!1}catch(t){this.$q.notify({type:"negative",message:"Ocorreu um erro ao apagar os tickets."}),setTimeout((()=>{window.location.reload()}),1e3)}},async handleFecharMassa(){try{const t={status:this.fecharTickets.status,startDate:this.fecharTickets.dateStart,endDate:this.fecharTickets.dateEnd,whatsappId:this.fecharTickets.whatsappId,isGroup:this.fecharTickets.isGroup},e=await Object($["n"])(t);200===e.status?(this.$q.notify({type:"positive",message:"Tickets fechados com sucesso!"}),setTimeout((()=>{window.location.reload()}),1e3)):(this.$q.notify({type:"negative",message:"Ocorreu um erro ao fechar os tickets."}),setTimeout((()=>{window.location.reload()}),1e3)),this.modaFecharMassa=!1}catch(t){this.$q.notify({type:"negative",message:"Ocorreu um erro ao fechar os tickets."}),setTimeout((()=>{window.location.reload()}),1e3)}},async fecharTicketsEmMassa(){this.modaFecharMassa=!0},async apagarTicketsMassa(){this.modarApagarMassa=!0},async listarFilas(){const{data:t}=await Object(n["d"])();this.filas=t},async listarUsuarios(){const{data:t}=await Object(c["e"])();this.usuarios=t},async listarConfiguracoes(){const{data:t}=await Object(l["b"])();localStorage.setItem("configuracoes",JSON.stringify(t));const e=t.find((t=>"ignoreGroupMsg"===t.key));this.grupoAtivo=e.value},handleGroups(){this.toggleValue?(this.params.isGroup=!0,this.$q.notify({type:"positive",message:"Filtrar estatísticas para grupos!",progress:!0,actions:[{icon:"close",round:!0,color:"white"}]})):(this.params.isGroup=!1,this.$q.notify({type:"positive",message:"Filtrar estatísticas para conversas privadas!",progress:!0,actions:[{icon:"close",round:!0,color:"white"}]}))},setConfigWidth(){const t=Object(u["a"])(new Date(this.params.endDate),new Date(this.params.startDate));if(t>30)this.configWidth={horizontal:!0,width:2200};else{const t=this.$q.screen.width;this.configWidth={horizontal:!0,width:t-(t<768?40:100)}}},getDashTicketsAndTimes(){Object(r["b"])(this.params).then((t=>{this.ticketsAndTimes=t.data[0]})).catch((t=>{console.error(t)}))},getDashTicketsQueue(){Object(r["g"])(this.params).then((t=>{this.ticketsQueue=t.data;const e=[],a=[];this.ticketsQueue.forEach((t=>{e.push(+t.qtd),a.push(t.label)})),this.ticketsQueueOptions.series=e,this.ticketsQueueOptions.labels=a,this.$refs.ChartTicketsQueue.updateOptions(this.ticketsQueueOptions),this.$refs.ChartTicketsQueue.updateSeries(e,!0)})).catch((t=>{console.error(t)}))},getDashTicketsChannels(){const t={whatsapp:"WhatsApp",telegram:"Telegram",hub_facebook:"Facebook",hub_instagram:"Instagram",hub_webchat:"WebChat",instagram:"Instagram"};Object(r["c"])(this.params).then((e=>{this.ticketsChannels=e.data;const a=[],s=[];this.ticketsChannels.forEach((e=>{a.push(+e.qtd),s.push(t[e.label])})),this.ticketsChannelsOptions.series=a,this.ticketsChannelsOptions.labels=s,this.$refs.ChartTicketsChannels.updateOptions(this.ticketsChannelsOptions),this.$refs.ChartTicketsChannels.updateSeries(a,!0)})).catch((t=>{console.error(t)}))},getDashTicketsEvolutionChannels(){Object(r["e"])(this.params).then((t=>{this.ticketsEvolutionChannels=t.data;const e=Object(o["groupBy"])({...this.ticketsEvolutionChannels},"dt_referencia"),a=Object.keys(e);this.ticketsEvolutionChannelsOptions.labels=a,this.ticketsEvolutionChannelsOptions.xaxis.categories=a;const s=[],i=Object(o["groupBy"])({...this.ticketsEvolutionChannels},"label");for(const o in i)s.push({name:o,data:i[o].map((t=>t.qtd))});this.ticketsEvolutionChannelsOptions.series=s,this.$refs.ChartTicketsEvolutionChannels.updateOptions(this.ticketsEvolutionChannelsOptions),this.$refs.ChartTicketsEvolutionChannels.updateSeries(s,!0)})).catch((t=>{console.error(t)}))},getDashTicketsEvolutionByPeriod(){Object(r["d"])(this.params).then((t=>{this.ticketsEvolutionByPeriod=t.data;const e=[{name:"Atendimentos",type:"column",data:[]},{type:"line",data:[]}],a=[];this.ticketsEvolutionByPeriod.forEach((t=>{e[0].data.push(+t.qtd),a.push(t.label)})),e[1].data=e[0].data,this.ticketsEvolutionByPeriodOptions.labels=a,this.ticketsEvolutionByPeriodOptions.series=e,this.$refs.ChartTicketsEvolutionByPeriod.updateOptions(this.ticketsEvolutionByPeriodOptions),this.$refs.ChartTicketsEvolutionByPeriod.updateSeries(e,!0)})).catch((t=>{console.error(t)}))},async getDashTicketsPerUsersDetail(){try{const{data:t}=await Object(r["f"])(this.params);this.ticketsPerUsersDetail=t.map((t=>({...t,avaliacao:t.average_rating||0})))}catch(t){console.error(t)}},getDashData(){this.setConfigWidth(),this.getDashTicketsAndTimes(),this.getDashTicketsChannels(),this.getDashTicketsEvolutionChannels(),this.getDashTicketsQueue(),this.getDashTicketsEvolutionByPeriod(),this.getDashTicketsPerUsersDetail()}},beforeMount(){this.$store.commit("UPDATE_SHOW_MENU",this.showMenu),this.listarConfiguracoes();const t=this.$q.dark.isActive?"dark":"light",e={mode:t,palette:"palette1",monochrome:{enabled:!0,color:"#5c67f2",shadeTo:t,shadeIntensity:.95}};this.ticketsQueueOptions={...this.ticketsQueueOptions,theme:e},this.ticketsChannelsOptions={...this.ticketsChannelsOptions,theme:e},this.ticketsEvolutionChannelsOptions={...this.ticketsEvolutionChannelsOptions,theme:e},this.ticketsEvolutionByPeriodOptions={...this.ticketsEvolutionByPeriodOptions,theme:e}},mounted(){this.userProfile=localStorage.getItem("profile"),this.listarUsuarios(),this.listarFilas(),this.getDashData(),this.listaWhatsapp()}},P=S,j=(a("4e0d"),a("f09f")),Q=a("a370"),I=a("52ee"),z=a("9c40"),B=a("9564"),G=a("05c0"),W=a("eaac"),U=a("db86"),N=a("24e8"),V=a("4b7e"),L=a("ddd8"),H=a("8f8e"),X=a("7f67"),Y=Object(O["a"])(P,s,i,!1,null,null,null);e["default"]=Y.exports;D()(Y,"components",{QCard:j["a"],QCardSection:Q["a"],QDate:I["a"],QBtn:z["a"],QToggle:B["a"],QTooltip:G["a"],QIcon:f["a"],QTable:W["a"],QTd:U["a"],QDialog:N["a"],QCardActions:V["a"],QSelect:L["a"],QCheckbox:H["a"]}),D()(Y,"directives",{ClosePopup:X["a"]})}}]);